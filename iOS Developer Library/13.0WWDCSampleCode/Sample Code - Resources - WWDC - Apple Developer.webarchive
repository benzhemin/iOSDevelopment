bplist00“_WebMainResource_WebSubresources’	
_WebResourceTextEncodingName_WebResourceFrameName^WebResourceURL_WebResourceData_WebResourceMIMETypeUUTF-8P_7https://developer.apple.com/wwdc/resources/sample-code/O®•<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"><head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="Author" content="Apple Inc.">
<meta name="viewport" content="width=1024">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" href="/favicon.ico">
<link rel="stylesheet" href="https://www.apple.com/wss/fonts?family=Myriad+Set+Pro&amp;v=1" type="text/css">
<link rel="stylesheet" href="/assets/core/styles/base.css" type="text/css">
<link rel="stylesheet" href="https://devimages.apple.com.edgekey.net/assets/core/styles/adc.css" type="text/css">
<link rel="stylesheet" href="/assets/core/styles/templates.css" type="text/css">
<link rel="stylesheet" href="https://devimages.apple.com.edgekey.net/assets/styles/topbar.css" type="text/css">
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/lib/prototype.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/lib/scriptaculous.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/browserdetect.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/apple_core.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/search_decorator.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/adc_core.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/ac_retina.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/topbarDropdown.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	document.write('<link rel="stylesheet" type="text/css" href="https://devimages.apple.com.edgekey.net/assets/styles/script.css" media="screen">');
</script><link rel="stylesheet" type="text/css" href="https://devimages.apple.com.edgekey.net/assets/styles/script.css" media="screen">
<!-- Augmented Search -->
<link rel="stylesheet" href="https://devimages.apple.com.edgekey.net/assets/styles/augmented_search.css" type="text/css">
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/lib/jquery/jquery-1.11.0.min.js"></script>
<script>jQuery.noConflict();</script>
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/augmented_search.js"></script>
		<!-- Override viewport width to support responsive layout `-->
	<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
	<link rel="stylesheet" href="/wwdc/styles/wwdc.css" type="text/css">
	<!--<script src="/wwdc/scripts/parallax.js"></script>-->
	<!-- <script src="/wwdc/scripts/mobile-navigation.js"></script> -->
	<title>Sample Code - Resources - WWDC - Apple Developer</title>
	<meta name="omni_page" content="WWDC - Resources">
	<meta name="apple-itunes-app" content="app-id=640199958">
	<link rel="canonical" href="https://developer.apple.com/wwdc/resources/sample-code/">
</head>

<body id="sample-code" class="hasjs">
	<div id="top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper"
</script>

<script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script>
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>
	<div style="width:100%;">
	<div id="wwdc-header">
			<h1 data-hires="true" href="/wwdc/"><a href="/wwdc/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/_1&quot;;return this.s_oc?this.s_oc(e):true">Apple WWDC 2014</a></h1>
			<ul>
				<li id="wwdc-news"><a href="/wwdc/news/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/news/_1&quot;;return this.s_oc?this.s_oc(e):true">News</a></li>
				<li id="wwdc-schedule"><a href="/wwdc/schedule/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/schedule/_1&quot;;return this.s_oc?this.s_oc(e):true">Schedule</a></li>
				<li id="wwdc-tracks"><a href="/wwdc/sessions/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/sessions/_1&quot;;return this.s_oc?this.s_oc(e):true">Sessions</a></li>
				<li id="wwdc-labs"><a href="/wwdc/labs/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/labs/_1&quot;;return this.s_oc?this.s_oc(e):true">Labs</a></li>
				<li id="wwdc-events"><a href="/wwdc/events/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/events/_1&quot;;return this.s_oc?this.s_oc(e):true">Events</a></li>
				<li id="wwdc-videos"><a href="/videos/wwdc/2014/" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2014/_1&quot;;return this.s_oc?this.s_oc(e):true">Videos</a></li>
				<li id="wwdc-tickets" class="active"><a href="/wwdc/resources/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/resources/_1&quot;;return this.s_oc?this.s_oc(e):true">Resources</a></li>
				<li id="wwdc-more"><a href="/wwdc/more/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/more/_1&quot;;return this.s_oc?this.s_oc(e):true">More</a></li>
			</ul>
		</div>
		<script>
			(function(window, $, undefined) {
				jQuery(document).ready(function(){
					/*
					var header = $('#wwdc-header');
					$(window).on('scroll', function(e) {
						header.css('top', $('body').scrollTop());
					});
					*/
					if(!window.location.toString().match(/\/wwdc\/$/)) {
						$('#wwdc-header li').each(function(i, elem) {
							var href = $(elem).children().get(0).href;
							if(window.location.toString().indexOf(href) > -1) {
								$(elem).addClass('active');
								return false;
							}
						});
					}
				});
			})(window, jQuery);
		</script>
</div>

	<div id="content" class="content" data-hires="true">
		<header class="hero">
			<h1><img src="/wwdc/images/wwdc14-resources-sample-code-tagline.png" width="540" height="55" alt="Sample Code for WWDC"></h1>
			<p class="intro" style="width:670px;">Download, build, and learn how to implement the latest Apple technologies with the sample code presented at WWDC.</p>
		</header>

			<section class="news-item">
				<p style="color:#000000;"><b>Please Note:</b> This set of sample code was released during the week of WWDC 2014 and may contain information that has since changed or is incompatible with current versions of Xcode. For newer versions of sample code, visit the <a href="/library/ios/navigation/#section=Resource%20Types&amp;topic=Sample%20Code" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/navigation/#section=Resource%20Types&amp;topic=Sample%20Code_1&quot;;return this.s_oc?this.s_oc(e):true">iOS Developer Library</a> and <a href="/library/mac/navigation/#section=Resource%20Types&amp;topic=Sample%20Code" onclick="s_objectID=&quot;https://developer.apple.com/library/mac/navigation/#section=Resource%20Types&amp;topic=Sample%20Code_1&quot;;return this.s_oc?this.s_oc(e):true">Mac Developer Library</a>.</p>
			</section>

			<section class="news-item">
				<h3>Accessible Tic Tac Toe</h3>
				<p>Demonstrates how to implement the OS X Accessibility API to create a simple, accessible tic tac toe game.
				<br><span>Session: Accessibility on OS X</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/tictactoecreatingaccessibleappswithcustomui.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/ticta_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>AdaptivePhotos: An Adaptive Application</h3>
				<p>Illustrates how to make your app universal and adaptive.
				<br><span>Session: Building Adaptive Apps with UIKit</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/adaptivephotosanadaptiveapplication.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/adapt_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Advanced User Interfaces Using Collection View</h3>
				<p>Demonstrates code factoring, swipe to edit, drag reordering, and a sophisticated custom collection view layout.
				<br><span>Session: Advanced User Interfaces with Collection Views</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/advanceduserinterfacesusingcollectionview.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/advan_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>AVCamManual: Using the Manual Capture API</h3>
				<p>Demonstrates how to add manual controls for focus, exposure, and white balance to the AVCam sample application.
				<br><span>Session: Camera Capture: Manual Controls</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avcammanualusingthemanualcaptureapi.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avcam_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>AVLocationPlayer: Using AVFoundation Metadata Reading APIs</h3>
				<p>Demonstrates how to use AVFoundation APIs to read location metadata from a movie file.
				<br><span>Session: Harnessing Metadata in Audiovisual Media</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avlocationplayerusingavfoundationmetadatareadingapis.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avloc_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>avmetadataeditor</h3>
				<p>Shows a command line application demonstrating how to use the AVFoundation metadata APIs.
				<br><span>Session: Harnessing Metadata in Audiovisual Media</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avmetadataeditor.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avmet_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>AVTimedAnnotationWriter: Using Custom Annotation Metadata for Movie Writing and Playback</h3>
				<p>Demonstrates the use of AVFoundation writing APIs to store timed metadata into a movie.
				<br><span>Session: Harnessing Metadata in Audiovisual Media</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avtimedannotationwriterusingcustomannotationmetadataformoviewritingandplayback.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/avtim_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Bananas: A simple SceneKit platforming game</h3>
				<p>Demonstrates the development of a casual 3D game using Scene Kit.
				<br><span>Session: Building a Game With SceneKit</span>
				<br><span>Platform: iOS and OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/bananasasimplescenekitplatforminggame.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/banan_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>BracketStripes: Using the Bracketed Capture API</h3>
				<p>Illustrates the use of the still image bracketing APIs available in AVFoundation.
				<br><span>Session: Camera Capture: Manual Controls</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/bracketstripesusingthebracketedcaptureapi.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/brack_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>CloudKit Atlas: An Introduction to CloudKit</h3>
				<p>New sample code that demonstrates the basics of CloudKit.
				<br><span>Sessions: Introducing CloudKit; Advanced CloudKit</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/cloudkitatlasanintroductiontocloudkit.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/cloud_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Earthquakes: Using Second Core Data Stack to Fetch Data in Background</h3>
				<p>Shows how to use a second Core Data stack to fetch data on a background queue.
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/usingsecondcoredatastacktofetchdatainbackground.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/using_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Example app using Photos framework</h3>
				<p>Shows a basic Photos-like app which introduces the Photos framework.
				<br><span>Session: Introducing the Photos Frameworks</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/exampleappusingphotosframework.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/examp_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>FileCards: Using NSPageController</h3>
				<p>Demonstrates how to use NSPageController, displaying the contents of the user's Documents folder.
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/filecardsusingnspagecontroller.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/filec_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Fit: Store and Retrieve HealthKit Data</h3>
				<p>Demonstrates how to interact with HealthKit APIs.
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/fitstoreandretrievehealthkitdata.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/fitst_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>GestureRecognizers: Using standard UIGestureRecognizers</h3>
				<p>Shows how to use standard gesture recognizers in Swift.
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/gesturerecognizersusingstandarduigesturerecognizers.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/gestu_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>HelloGoodbye: Using the Accessibility API to Widen Your User Base</h3>
				<p>Demonstrates how to make an iOS app accessible to a variety of users, including users with low vision.
				<br><span>Session: 210</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/hellogoodbyeusingtheaccessibilityapitowidenyouruserbase.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/hello_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>ImageInverter: Creating Action Extensions</h3>
				<p>Demonstrates how to use an Action extension with a view controller.
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/imageinvertercreatingactionextensions.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/image_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Implementing Accessibility on OS X</h3>
				<p>Illustrates how to make various control elements accessible using the Accessibility API.
				<br><span>Session: Accessibility on OS X</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/implementingaccessibilityonosx.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/imple_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>JavaScript for Automation Cocoa Application</h3>
				<p>Demonstrates how to use an Xcode project to build a Cocoa application written entirely in JavaScript for Automation.
				<br><span>Session: JavaScript for Automation</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/javascriptforautomatingacocoaapplication.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/javas_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>JavaScript for Automation WWDC 2014 Demos</h3>
				<p>New sample code featuring demos from the WWDC 2014 session on JavaScript for Automation.
				<br><span>Session: JavaScript for Automation</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/javascriptforautomationwwdc2014demos.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/javas_2&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>KeychainTouchID: Using Touch ID with keychain and LocalAuthentication</h3>
				<p>Shows how to use Touch ID with keychain items and how to invoke Touch ID authentication.
				<br><span>Session: Keychain and Authentication with Touch ID</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/keychaintouchidusingtouchidwithkeychainandlocalauthentication.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/keych_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Lister: A Productivity App</h3>
				<p>Productivity app that showcases some of the important features in iOS 8 and OS X 10.10, including embedded frameworks, UI extensions, and other modern Cocoa features.
				<br><span>Session: Integrating Swift with Objective-C</span>
				<br><span>Platform: iOS and OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/listeraproductivityapp.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/liste_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Lister: A Productivity App Built in Swift</h3>
				<p>Productivity app that showcases some of the important features in iOS 8 and OS X 10.10, including embedded frameworks, UI extensions, and other modern Cocoa features.
				<br><span>Session: Integrating Swift with Objective-C</span>
				<br><span>Platform: iOS and OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/listeraproductivityappbuiltinswift.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/liste_2&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>LookInside: Presentation Controllers Adaptivity and Custom Animator Objects</h3>
				<p>Demonstrates how to use a custom presentation controller to create a custom view controller presentation.
				<br><span>Session: A Look Inside Presentation Controllers</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/lookinsidepresentationcontrollersadaptivityandcustomanimatorobjects.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/looki_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MetalBasic3D: OpenGL ES template ported to Metal</h3>
				<p>Provides an example ported from the Xcode OpenGL ES template to Metal and includes a geometric math library built on top of the simd.h library.
				<br><span>Session: Working with Metal: Advanced</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metalbasic3dopenglestemplateportedtometal.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metal_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MetalDeferredLighting</h3>
				<p>Demonstrates a deferred lighting algorithm using Metal.
				<br><span>Session: Working with Metal: Advanced</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metaldeferredlighting.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metal_2&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MetalEnvironmentMapping</h3>
				<p>Demonstrates environment mapping by combining 2D mipmap PVRTC textures, cube map textures and lighting in Metal.
				<br><span>Session: Working with Metal: Advanced</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metalenvironmentmapping.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metal_3&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MetalImageProcessing</h3>
				<p>Demonstrates how to load a texture into a 2D Quad and perform a simple grayscale conversion compute post processing pass using Metal.
				<br><span>Session: Working with Metal: Advanced</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metalimageprocessing.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metal_4&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MetalTexturedQuad</h3>
				<p>Illustrates how to create a basic textured quad in Metal.
				<br><span>Session: Working with Metal: Advanced</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metaltexturedquad.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metal_5&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MetalUniformStreaming</h3>
				<p>Demonstrates how to synchronize uniform buffer resource writes between the CPU and GPU in Metal.
				<br><span>Session: Working with Metal: Advanced</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metaluniformstreaming.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metal_6&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MetalVertexStreaming</h3>
				<p>Shows how to stream vertex data between 3 command buffers using one block of memory shared by both the CPU and GPU.
				<br><span>Session: Working with Metal: Advanced</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metalvertexstreaming.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/metal_7&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>MotionActivityDemo</h3>
				<p>Demonstrates the use of the CMMotionActivity and CMPedometer APIs in an app.
				<br><span>Session: Motion Tracking with the Core Motion Framework</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/motionactivitydemointegratingmotionactivityintoyourapp.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/motio_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Mountains: Internationalization and Localization for OS X</h3>
				<p>Illustrates localization and internationalization APIs and techniques including Base Localization and Auto Layout using Swift.
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/mountainsinternationalizationandlocalizationforosx.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/mount_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>NewBox: An Introduction to iCloud Document enhancements in iOS 8.0</h3>
				<p>Provides an introduction to UIDocumentPickerViewController and demonstrates how to use Storage Provider Extension.
				<br><span>Session: Building a Document Based App</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/newboxanintroductiontoiclouddocumentenhancementsinios8.0.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/newbo_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>PeoplePicker: Using AddressBookUI</h3>
				<p>Demonstrates how to ask the user to pick a person or person's property from the user's address book.
				<br><span>Session: User Privacy in iOS and OS X</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/peoplepickerpickingapersonorproperty.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/peopl_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Photo Memories </h3>
				<p>Demonstrates how to organize an Xcode project to build both an iOS and OS X app while sharing code.
				<br><span>Session: Sharing code between iOS and OS X</span>
				<br><span>Platform: iOS and OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/photomemories.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/photo_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>QuickContacts</h3>
				<p>Demonstrates how to use the Address Book UI controllers and properties.
				<br><span>Session: User Privacy in iOS and OS X</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/quickcontacts.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/quick_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Sample Photo Editing Extension</h3>
				<p>Demonstrates how to implement a Photo Editing extension.
				<br><span>Session: Introducing the Photos Frameworks</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/samplephotoeditingextension.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/sampl_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>SceneKit slides for WWDC 2014</h3>
				<p>Illustrates what's new in SceneKit in OS X v10.10.
				<br><span>Session: What's new in SceneKit</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/scenekitslidesforwwdc2014.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/scene_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>SceneKit State of the Union demo</h3>
				<p>Scene Kit demo for the WWDC 2014 State of the Union.
				<br><span>Session: What's new in SceneKit</span>
				<br><span>Platform: iOS and OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/scenekitstateoftheuniondemo.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/scene_2&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>SceneKit Vehicle Demo</h3>
				<p>Demonstrates how to simulate and play with a vehicle with SceneKit.
				<br><span>Session: What's new in SceneKit</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/scenekitvehicledemo.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/scene_3&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>
<section class="news-item">
				<h3>Toast Modern Prototype</h3>
				<p>Keynote and Core Animation files illustrate how the prototypes for this session were created.
				<br><span>Session: Prototyping: Fake It Till You Make It</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/wwdcprototyping.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/wwdcp_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>UICatalog: Creating and Customizing UIKit Controls</h3>
				<p>Demonstrates how to create and customize user interface controls found in UIKit.
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/uicatalogcreatingandcustomizinguikitcontrols.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/uicat_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>UICatalog: Creating and Customizing UIKit Controls in Swift</h3>
				<p>Demonstrates how to create and customize user interface controls found in UIKit using the Swift language.
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/uicatalogcreatingandcustomizinguikitcontrolsinswift.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/uicat_2&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Using AVFoundation APIs to record a movie with location metadata</h3>
				<p>Demonstrates the use of AVFoundation writing APIs to store timed metadata into a movie.
				<br><span>Session: Harnessing Metadata in Audiovisual Media</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/usingavfoundationapistorecordamoviewithlocationmetadata.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/using_2&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>Using video toolbox to decode compressed sample buffers</h3>
				<p>Demonstrates how to get direct access to decoded media samples with Video Toolbox.
				<br><span>Session: Direct Access to Media Encoding and Decoding</span>
				<br><span>Platform: iOS</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/usingvideotoolboxtodecodecompressedsamplebuffers.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/using_3&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>


			<section class="news-item">
				<h3>VisualEffectPlayground: Blurs, Translucency and Vibrancy on OS X</h3>
				<p>Demonstrates how to use NSVisualEffectView to do blurs.
				<br><span>Session: Adopting Advanced Features of the New UI of OS X Yosemite</span>
				<br><span>Platform: OS X</span></p>
				<ul class="links small">
					<li class="download"><a href="https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/visualeffectplaygroundblurstranslucencyandvibrancyonosx.zip" onclick="s_objectID=&quot;https://developer.apple.com/devcenter/download.action?path=/wwdc_2014/wwdc_2014_sample_code/visua_1&quot;;return this.s_oc?this.s_oc(e):true">Download Sample Code</a></li>
				</ul>
			</section>






	</div><!-- /content -->

	<div id="globalfooter">
		<div id="breadory">
			<ol id="breadcrumbs">
				<li class="home"><a href="/" onclick="s_objectID=&quot;https://developer.apple.com/_1&quot;;return this.s_oc?this.s_oc(e):true">Developer</a></li>
				<li><a href="/wwdc/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/_2&quot;;return this.s_oc?this.s_oc(e):true">WWDC</a></li>
				<li><a href="/wwdc/resources/" onclick="s_objectID=&quot;https://developer.apple.com/wwdc/resources/_2&quot;;return this.s_oc?this.s_oc(e):true">Resources</a></li>
				<li>Sample Code</li>
			</ol>
		</div><!--/breadory-->
		<p class="gf-buy">Shop the <a href="http://www.apple.com/store/" onclick="s_objectID=&quot;http://www.apple.com/store/_1&quot;;return this.s_oc?this.s_oc(e):true">Apple Online Store</a> (1-800-MY-APPLE), visit an <a href="http://www.apple.com/retail/" onclick="s_objectID=&quot;http://www.apple.com/retail/_1&quot;;return this.s_oc?this.s_oc(e):true">Apple Retail Store</a>, or find a <a href="http://www.apple.com/buy/locator/" onclick="s_objectID=&quot;http://www.apple.com/buy/locator/_1&quot;;return this.s_oc?this.s_oc(e):true">reseller</a>.</p>
<ul class="gf-links piped">
	<li><a href="/news/" class="first" onclick="s_objectID=&quot;https://developer.apple.com/news/_1&quot;;return this.s_oc?this.s_oc(e):true">News</a></li>
	<li><a href="/register/" onclick="s_objectID=&quot;https://developer.apple.com/register/_1&quot;;return this.s_oc?this.s_oc(e):true">Register</a></li>
	<li><a href="/bug-reporting/" onclick="s_objectID=&quot;https://developer.apple.com/bug-reporting/_1&quot;;return this.s_oc?this.s_oc(e):true">Report Bugs</a></li>
	<li><a href="/contact/" onclick="s_objectID=&quot;https://developer.apple.com/contact/_1&quot;;return this.s_oc?this.s_oc(e):true">Contact Us</a></li>
</ul>
<div class="gf-sosumi">
	<p>Copyright ¬© 2015 Apple Inc. All rights reserved.</p>
	<ul class="piped">
		<li><a href="http://www.apple.com/legal/internet-services/terms/site.html" class="first" onclick="s_objectID=&quot;http://www.apple.com/legal/internet-services/terms/site.html_1&quot;;return this.s_oc?this.s_oc(e):true">Terms of Use</a></li>
		<li><a href="http://www.apple.com/privacy/" onclick="s_objectID=&quot;http://www.apple.com/privacy/_1&quot;;return this.s_oc?this.s_oc(e):true">Privacy Policy</a></li>
	</ul>
</div>
<div id="localization-links">
	<ul>
		<li><a href="/cn/" title="Simplified Chinese" onclick="s_objectID=&quot;https://developer.apple.com/cn/_1&quot;;return this.s_oc?this.s_oc(e):true">ÁÆÄ‰Ωì‰∏≠Êñá</a></li>
		<li><a href="/jp/" title="Japanese" onclick="s_objectID=&quot;https://developer.apple.com/jp/_1&quot;;return this.s_oc?this.s_oc(e):true">Êó•Êú¨Ë™û</a></li>
		<li><a href="/kr/" title="Korean" onclick="s_objectID=&quot;https://developer.apple.com/kr/_1&quot;;return this.s_oc?this.s_oc(e):true">ÌïúÍµ≠Ïñ¥</a></li>
	</ul>
</div>
	</div><!--/globalfooter-->


</body></html>Ytext/htmlØ!%*/49>CHMQUZ_ch‘_WebResourceResponse_9https://www.apple.com/wss/fonts?family=Myriad+Set+Pro&v=1Obplist00‘fgX$versionX$objectsY$archiverT$top Ü†Ø#)*0123KLMNOPQRSTUVWXYZ[\]`aU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_9https://www.apple.com/wss/fonts?family=Myriad+Set+Pro&v=1“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xèn!! »”456@JWNS.keysZNS.objects©789:;<=>?Ä	Ä
ÄÄÄÄÄÄÄ©ACDEFGHIÄÄÄÄÄÄÄÄÄÄ]Cache-Control\Content-TypeTVary^ntCoent-LengthTDate_Content-Encoding^Content-LengthWExpiresZConnection_max-age=31181926Xtext/css_Accept-EncodingT6231_Mon, 13 Apr 2015 01:53:31 GMTTgzipS485_Thu, 07 Apr 2016 23:32:17 GMTZkeep-alive“+,^_\NSDictionary¢^/W“+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—hi_WebResourceResponseÄ    # - 2 7 X ^ y | Ä É Ü â ç ê ó ö ù † £ ¶ ® ™ ¨ Æ ∞ ± ≥ µ ∑ π ª Ω ø ∆ Œ ⁄ ‹ ﬁ ‡!,5;>GPRT[cnxz|~ÄÇÑÜàäîñòöúû†¢§¶®∂√»◊‹Ô˛$-?Ddimçòù™≠∞µ…Õ·Ô             j              OW@font-face {
	font-family:'Myriad Set Pro';
	font-style:normal;
	font-weight:100;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_ultralight.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_ultralight.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:italic;
	font-weight:100;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_ultralight-italic.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_ultralight-italic.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro 100';
	src:url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_ultralight.eot");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:normal;
	font-weight:200;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_thin.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_thin.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:italic;
	font-weight:200;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_thin-italic.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_thin-italic.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro 200';
	src:url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_thin.eot");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:italic;
	font-weight:400;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_text-italic.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_text-italic.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:normal;
	font-weight:500;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_medium.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_medium.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:italic;
	font-weight:500;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_medium-italic.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_medium-italic.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro 500';
	src:url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_medium.eot");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:normal;
	font-weight:600;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_semibold.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_semibold.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:italic;
	font-weight:600;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_semibold-italic.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_semibold-italic.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro 600';
	src:url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_semibold.eot");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:normal;
	font-weight:700;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_bold.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_bold.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:italic;
	font-weight:700;
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_bold-italic.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_bold-italic.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro 700';
	src:url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_bold.eot");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

@font-face {
	font-family:'Myriad Set Pro';
	font-style:normal;
	font-weight:400;
	src:url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_text.eot");
	src:local('‚ò∫Ô∏é'), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_text.woff") format("woff"), url("/wss/fonts/Myriad-Set-Pro/v1/myriad-set-pro_text.ttf") format("truetype");
	/* Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved. Myriad is a trademark of Adobe Systems Incorporated. */
}

Xtext/css‘_7https://developer.apple.com/assets/core/styles/base.cssO∆bplist00‘vwX$versionX$objectsY$archiverT$top Ü†Ø&#)*0123STUVWXYZ[\]^_`abcdefghijklmpqU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ$Ä%ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_7https://developer.apple.com/assets/core/styles/base.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€X’œ5 »”456DRWNS.keysZNS.objects≠789:;<=>?@ABCÄ	Ä
ÄÄÄÄÄÄÄÄÄÄÄ≠FGHIJKLMNOPQÄÄÄÄÄÄÄÄÄÄÄ Ä!Ä"Ä#\Content-Type_X-Frame-OptionsZKeep-Alive_Content-EncodingVServer^ntCoent-Length_Transfer-Encoding]Cache-ControlTDateZConnectionTEtag]Accept-Ranges]Last-ModifiedXtext/cssZSAMEORIGIN_timeout=15, max=446TgzipVApacheU84283XIdentityWprivate_Mon, 13 Apr 2015 01:54:42 GMTZKeep-Alive_"5b10b-1493b-5091c1e154d00"Ubytes_Sun, 30 Nov 2014 23:47:32 GMT“+,no\NSDictionary¢n/ˇˇˇˇˇˇˇˇ“+,rs_NSHTTPURLResponse£tu/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—xy_WebResourceResponseÄ    # - 2 7 ` f Å Ñ à ã é ë ï ò ü ¢ • ® ´ Æ ∞ ≤ ¥ ∂ ∏ π ª Ω ø ¡ √ ≈ « Œ ÷ ‚ ‰ Ê Ë"'2;ADMVXZaitÇÑÜàäåéêíîñòöú™¨Æ∞≤¥∂∏∫ºæ¿¬ƒ∆”Â
-;@KP^luÄñõ¢®±πŸ‰(-:=FK_cwÖóö∞             z              ≤O I;/* reset */
html,body,div,ul,ol,li,dl,dt,dd,h1,h2,h3,h4,h5,h6,pre,form,p,blockquote,fieldset,input,abbr,article,aside,command,details,figcaption,figure,footer,header,hgroup,mark,meter,nav,output,progress,section,summary,time { margin: 0; padding: 0; }
h1,h2,h3,h4,h5,h6,pre,code,address,caption,cite,code,em,strong,th,figcaption { font-size:1em; font-weight:normal; font-style:normal; }
fieldset,iframe { border:none; }
caption,th { text-align:left; }
table { border-collapse:collapse; border-spacing:0; }
article,aside,footer,header,hgroup,nav,section,figure,figcaption { display:block; }


/* layout */
html { background-color:rgba(0, 0, 0, 0); }
body { background-color:#f1f1f1; }

.clear { clear:both; }
.clearer { clear:both; display:block; margin:0; padding:0; height:0; line-height:1px; font-size:1px; }
.selfclear { zoom:1; }
.selfclear:after { content:'.'; display:block; height:0; clear:both; visibility:hidden; }

img, .search-wrapper .left, .search-wrapper .right, ul.sp-results li.viewall a, ul.sp-results li .replacementimg,
#globalfooter #breadcrumbs, #globalfooter #breadcrumbs span, #directorynav .capbottom,
#productheader h1 a, #productheader h2 a, #main .maincap { behavior: url(/assets/scripts/lib/iepngfix.htc); }

img { border:0; }
img.left { float:left; margin:2px 20px 16px 0; }
img.right { float:right; margin:2px 0 16px 20px; }
img.across { margin:2px 0 16px 0; }
img.flushleft { margin-left:-20px; }
img.flushright { margin-right:-20px; }

.replaced { display:block; width:1px; height:1px; outline:none; overflow:hidden; text-indent:-9999px; }
#omniture, #top { position:absolute; top:0; }
#container { width:980px; margin:0 auto; position:relative; }
#main { width:100%; position:relative; }
#content { padding:18px 20px; position:relative; }
#breadcrumb { clear:both; text-align:center; margin:18px auto; clear:both; font-size:10px; color:#686868; }

.content { background:#fff; border:1px solid; border-color:#e5e5e5 #dbdbdb #d2d2d2; -webkit-box-shadow:rgba(0,0,0,0.3) 0 1px 3px; -moz-box-shadow:rgba(0,0,0,0.3) 0 1px 3px; box-shadow:rgba(0,0,0,0.3) 0 1px 3px; }
.content:nth-child(1n) { border:none; } /* reset border for smart browsers */

.content,
.rounded { border-radius:4px; -webkit-border-radius:4px; -moz-border-radius:4px; -o-border-radius:4px; -khtml-border-radius:4px; }

.shadow { -webkit-box-shadow:rgba(0,0,0,0.35) 0 1px 3px; -moz-box-shadow:rgba(0,0,0,0.35) 0 1px 3px; box-shadow:rgba(0,0,0,0.35) 0 1px 3px; }
img.shadow { padding:5px; background:#fff; margin-bottom:2px; *border:1px solid #e2e2e2; _position:relative; }


/* callout */
.callout {
	margin-bottom:18px; padding:16px 18px 1px; font-size:12px; line-height:1.7em;
	border:1px solid #e1e1e1; border-top:1px solid #f5f5f5; border-bottom:1px solid #c4c4c4;
	border-radius:5px; -webkit-border-radius:5px; -moz-border-radius:5px; -khtml-border-radius:5px; -o-border-radius:5px;
	box-shadow:0 1px 2px rgba(0, 0, 0, .2); -webkit-box-shadow:0 1px 2px rgba(0, 0, 0, .2); -moz-box-shadow:0 1px 2px rgba(0, 0, 0, .2); -khtml-box-shadow:0 1px 2px rgba(0, 0, 0, .2); -o-box-shadow:0 1px 2px rgba(0, 0, 0, .2);
}

/* linen callout */
section.callout.linen { padding-left: 23px; padding-right: 23px; background-image: url(https://devimages.apple.com.edgekey.net/xcode/images/callout-background.png); border-color: #d0d0d0; box-shadow: none; }


/* inset callout */
.callout.inset { border:1px solid #dcdcdc; border-width:2px 1px 1px; background:#e7e9ef url(https://devimages.apple.com.edgekey.net/assets/elements/layout/message_bg.png) repeat-x 0 0; box-shadow:none; -webkit-box-shadow:none; -moz-box-shadow:none; -khtml-box-shadow:none; -o-box-shadow:none; }

/* sidebar callout */
#content .sidebar .callout { margin-left:3px; margin-right:13px; padding:10px 14px 15px; background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#fff), to(#f2f2f2)); background:-moz-linear-gradient(100% 100% 90deg, #f2f2f2, #fff); background:gradient(linear, 0% 0%, 0% 100%, from(#fff), to(#f2f2f2)); }
#content .sidebar .callout .header { margin:-1em -13px 1em; }
#content .sidebar .callout h3 { margin-bottom:.75em; }
#content .sidebar .callout h4 { font-size:1.2em; }


/* rounded corners */
.roundedtop { border-radius: 4px 4px 0 0; -webkit-border-top-left-radius:4px; -webkit-border-top-right-radius:4px; -moz-border-radius: 4px 4px 0 0; -o-border-radius: 4px 4px 0 0; -khtml-border-radius: 4px 4px 0 0; }
.roundedbottom { border-radius: 0 0 4px 4px; -webkit-border-bottom-left-radius:4px; -webkit-border-bottom-right-radius:4px; -moz-border-radius: 0 0 4px 4px; -o-border-radius: 0 0 4px 4px; -khtml-border-radius: 0 0 4px 4px; }
.roundedright { border-radius: 0 4px 4px 0; -webkit-border-top-right-radius:4px; -webkit-border-bottom-right-radius:4px; -moz-border-radius: 0 4px 4px 0; -o-border-radius: 0 4px 4px 0; -khtml-border-radius: 0 4px 4px 0; }
.roundedleft { border-radius: 4px 0 0 4px; -webkit-border-top-left-radius:4px; -webkit-border-bottom-left-radius:4px; -moz-border-radius: 4px 0 0 4px; -o-border-radius: 4px 0 0 4px; -khtml-border-radius: 4px 0 0 4px; }
.roundedtopleft { border-radius:4px 0 0; -webkit-border-top-left-radius:4px; -moz-border-radius:4px 0 0; -o-border-radius:4px 0 0; -khtml-border-radius:4px 0 0; }
.roundedtopright { border-radius: 0 4px 0 0; -webkit-border-top-right-radius:4px; -moz-border-radius:0 4px 0 0; -o-border-radius:0 4px 0 0; -khtml-border-radius: 0 4px 0 0; }
.roundedbottomleft { border-radius: 0 0 0 4px; -webkit-border-bottom-left-radius:4px; -moz-border-radius: 0 0 0 4px; -o-border-radius: 0 0 0 4px; -khtml-border-radius: 0 0 0 4px; }
.roundedbottomright { border-radius: 0 0 4px 0; -webkit-border-bottom-right-radius:4px; -moz-border-radius: 0 0 4px 0; -o-border-radius: 0 0 4px 0; -khtml-border-radius: 0 0 4px 0; }

/* reflection */
.reflection { -webkit-box-reflect:below 0 -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0.8, transparent), to(rgba(255,255,255,.3))); }

/* grid */
.column { float: left; }
.grid2col, .grid2cola, .grid2colb, .grid2colc, .grid2cold, .grid2cole, .grid2colf, .grid3col, .grid3cola, .grid4col, .grid5col, .grid6col { width: 100%; }

.grid2col .column { width: 49%; }
.grid2col .grid2col .column { width: 47.8%; }
.grid3col .grid2col .column { width: 46%; }
.grid4col .grid2col .column { width: 45%; }

.grid2cola .column.first { width: 66%; }
.grid2cola .column.last { width: 32%; }

.grid2colb .column.first { width: 74.9%; }
.grid2colb .column.last { width: 23%; }

.grid2colc .column.first { width: 32%; }
.grid2colc .column.last { width: 66%; }

.grid2cold .column.first { width: 23%; }
.grid2cold .column.last { width: 74.9%; }

.grid2cole .column.first { width: 79%; }
.grid2cole .column.last { width: 19%; }

.grid2colf .column.first { width: 19%; }
.grid2colf .column.last { width: 79%; }

.grid3col .column { width: 32%; margin-left: 2%; }
.grid2col .grid3col .column { width: 31%; }

.grid3cola .column { width: 58%; margin-left: 2%; }
.grid3cola .column.first,
.grid3cola .column.last { width: 19%; }

.grid4col .column { width: 23%; margin-left: 3%; }

.grid5col .column { width: 18.4%; margin-left: 2%; }

.grid6col .column { width: 15%; margin-left: 2%; }

.column.first, .column.last { margin-left: 0 !important; }
.column.last { float: right !important; }

p.last, ul.last, ol.last, li.last { _width: auto !important; _float: none !important; }
.last { margin-bottom: 0; }

p.tight  { margin-bottom: 4px; }

#container:after, #content:after, .grid2col:after, .grid2cola:after, .grid2colb:after, .grid2colc:after, .grid2cold:after, .grid2cole:after, .grid2colf:after, .grid3col:after, .grid3cola:after, .grid4col:after, .grid5col:after, .grid6col:after { content: "."; display: block; height: 0; clear: both; visibility: hidden; }
#container, #content, .grid2col, .grid2cola, .grid2colb, .grid2colc, .grid2cold, .grid2cole, .grid2colf, .grid3col, .grid3cola, .grid4col, .grid5col, .grid6col { zoom: 1; }


/* type */
body { font: 14px/20px "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, Verdana, sans-serif; color: #333; -webkit-font-smoothing: antialiased; }

a { color: #08c; }
a:link, a:visited, a:active { text-decoration: none; }
a:hover { text-decoration: underline; }
a.block { display: block; cursor: pointer; }
a.block span,
a.block em { color:#08c; cursor: pointer; }
a.block:hover { text-decoration: none; }
a.block:hover span,
a.block:hover em { color: #08c; text-decoration: underline; }

a.more, em.more, span.more { white-space: nowrap; }

a.more:after,
em.more:after,
span.more:after {
	display: inline-block;
	width: 24px;
	height: 30px;
	background-color: transparent;
	background-image: url("https://devimages.apple.com.edgekey.net/assets/elements/arrows/thin-arrow-right.svg");
	background-position: -4px -4px;
	background-size: 100% 100%;
	background-repeat: no-repeat;
	content: "";
	vertical-align: top;
}
.footnote p a.more:after { background-position: -4px -7px; }
.sosumi a.more:after { width: 18px; height: 18px; background-position: -4px -1px; }

p.asterisk { padding-left:10px; margin-bottom:0; font-size:12px !important; color:#999; }
p.asterisk:before { content: "*"; margin-left: -10px; padding-right: 4px; }

a.external, em.external, span.external, a[rel="external"] { white-space: nowrap; padding-right: 15px; background: url(/assets/elements/icons/32x32/external.svg) no-repeat 100% 49% / 10px; cursor: pointer; zoom: 1; }

/* thin arrows */
a.arrow.arrow-left:before,
a.arrow.arrow-right:after { display: inline-block; width: 24px; height: 30px; background-color: transparent; background-position: -4px -4px; background-size: 100% 100%; background-repeat: no-repeat; content: ""; vertical-align: top; }
a.arrow.arrow-left:before { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/arrows/thin-arrow-left.svg'); }
a.arrow.arrow-right:after { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/arrows/thin-arrow-right.svg'); }

em.more, span.more, em.external, span.external { color:#08c; font-style: normal; cursor: pointer; }
.nowrap { white-space:nowrap; }
strong, b { font-weight: bold; }
em, i, cite { font-style: italic; }
sup { padding-left: 1px; font-size: 0.7em !important; font-weight: normal !important; vertical-align: baseline; position: relative; bottom: 0.7em; _position: static !important; }
h1 sup { padding-left: 1px; font-size: 0.47em !important; font-weight: normal !important; vertical-align: baseline; position: relative; bottom: 0.8em; color: #76797c; _position: static !important; }
sup a:hover { color:#08c; text-decoration:none; }
abbr { border: 0; }
.sosumi { font-size: 10px !important; line-height:1.5; color:#888; }
.sosumi_features { font-size: 10px !important; line-height:1.5; color:#888; }

h1,h2,h3,h4,h5,h6,strong { color:#000; }
h1,h2,h3,h4 { font-weight: bold; }
h2,h3,h4 { line-height: 18px; }
h1,h2 { margin-bottom: 18px; }
h1 { font-size: 24px; line-height: 36px; }
h1.text { font-weight: normal; font-size:34px; line-height:42px; margin-top:-8px; margin-bottom:28px; word-spacing:-2px;}
h1.text.small { font-weight: normal; font-size:28px; line-height:34px; margin-top:-8px; margin-bottom:28px; word-spacing:-2px;}
h2 { font-size: 16px; }
h3 { font-size: 1em; }
h4 { font-size: 10px; }
p { margin-bottom: 18px; word-spacing:-1px; }
p.intro { color: #888; font-size: 1.143em; line-height: 1.562em; font-weight: normal; }
h1 + p.intro { margin-top:-1.2em; }
.more { text-align: right; }

ul { list-style: none outside; }
ol { margin-bottom: 18px; list-style: decimal; margin-left: 2.2em; }
ul.square,
ul.circle { margin-left: 2em; margin-bottom: 18px; }
ul.circle.padded li { padding-bottom:6px; }
ul.square { list-style: square outside; }
ul.circle { list-style: disc outside; }
ul.circle-inside { list-style: disc inside; padding:0.5em 0 2em 1.3em; }
ul ul.circle,
ul ul.square { margin-top: 4px; margin-bottom: 5px; }
ol.sosumi { margin-left: 0; padding-left: 2em; *padding-left: 2.2em; }

pre { margin-bottom:1.6em; padding:1em 16px; border:1px solid #e5e5e5; background-color:#f7f7f7; white-space:pre-wrap; white-space:-moz-pre-wrap !important; white-space:-pre-wrap; white-space:-o-pre-wrap; word-wrap:break-word; }
caption { padding-bottom:.6em; }

body.specs #main { font-size: 11px; line-height: 16px; }


/* piped links */
.piped { display: block; zoom: 1; }
.piped:after { content: "."; display: block; height: 0; clear: both; visibility: hidden; }
.piped li { float: left; display: inline; }
.piped a { border-left: 1px solid #797c80; padding: 0 0 0 0.75em; margin-left: 0.75em; }
.piped a.first { border-left: 0 !important; padding-left: 0; margin-left: 0 !important; }


/* global header */
#globalheader { position:relative; width:980px; height:58px; margin:18px auto 0; z-index:999; font-size:12px; _zoom:1; }
#globalheader { height:36px; }
#globalheader h1 { display:inline; }
#globalheader h1 a { position:absolute; top:-3px; left:7px; width:131px; height:27px; text-indent:-9999px; outline:none; -moz-outline:none; background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/developer.png) no-repeat 0 0; }
#globalheader #gh-search { position:absolute; top:5px; right:10px; }
#globalheader #gh-search input.prettysearch { width:200px; margin-left:20px; }
#globalheader #gh-search .search-wrapper { width:200px; }
#globalheader #gh-search .search-wrapper input.prettysearch { width:171px; }

#globalheader ul#gh-nav { position:absolute; right:240px; top:1px;  margin:0; }
#globalheader ul#gh-nav li { display:inline; float:left; margin:0 0 0 2.0em; }
#globalheader ul#gh-nav li a { display:block; color:#333; text-decoration:none; padding:.3em 0 .3em 5px; text-shadow: 0px 1px 1px #fff; line-height:18px; }
#globalheader ul#gh-nav li a:hover { color:#08c; }
#globalheader ul#gh-nav li.menu { position:relative; }
#globalheader ul#gh-nav li.menu a { margin-right:-3px; padding-left:7px; outline:none; -moz-outline:none; *margin-right:0; }
#globalheader ul#gh-nav li.menu a span { padding-right:.4em; }
#globalheader ul#gh-nav li.menu a b { padding:.4em 0; _padding:.3em 0; background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/nav_menu_carat.png) no-repeat 0 60%; }
#globalheader ul#gh-nav li.menu a b b { padding:.4em; visibility:hidden; *display:inline-block; *width:1.6em; *padding:0; }
#globalheader ul#gh-nav li.menu ul { display:none; position:absolute; width:137px; margin:0 -4px 0 -2px; padding:0 0 1px; z-index:99; }
#globalheader ul#gh-nav li.menu ul { margin-top:-3px; padding:4px 0 5px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/nav_menu_bgtop.png) no-repeat; behavior:url(/assets/scripts/lib/iepngfix.htc); }
#globalheader ul#gh-nav li.menu ul li { display:block; float:none; width:127px; margin:0; padding:0 6px 1px 4px; *margin-bottom:-3px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/nav_menu_bg.png) repeat-y; behavior:url(/assets/scripts/lib/iepngfix_scale.htc); }
#globalheader ul#gh-nav li.menu ul li a { margin:0; padding:1px 5px; color:#366088; text-decoration:none; }
#globalheader ul#gh-nav li.menu ul li a:hover { color:#fff !important; background:#778ba6; }
#globalheader ul#gh-nav li.menu ul li.menubottom { height:5px; font-size:1px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/nav_menu_bgbottom.png) no-repeat; }
#globalheader ul#gh-nav li.menu.active { background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/nav_menu_activebg.gif) no-repeat 0 0; }
#globalheader ul#gh-nav li.menu.active a span { }
#globalheader ul#gh-nav li.menu.active a b { background:#c0cad4 url(https://devimages.apple.com.edgekey.net/assets/elements/header/nav_menu_caratactive.gif) no-repeat 100% 0; }
#globalheader ul#gh-nav li.menu.active a:hover { color:#000; }
#globalheader ul#gh-nav li.menu.active ul { display:block; }


/* active global header states */
.gh-nav-technologies-active #globalheader ul#gh-nav #gh-nav-technologies a,
.gh-nav-resources-active #globalheader ul#gh-nav #gh-nav-resources a,
.gh-nav-programs-active #globalheader ul#gh-nav #gh-nav-programs a,
.gh-nav-support-active #globalheader ul#gh-nav #gh-nav-support a,
.gh-nav-membercenter-active #globalheader ul#gh-nav #gh-nav-membercenter a { color: #999; }


/* page header */
#header { position:relative; width:984px; margin:0 -2px; padding:0 2px; behavior:url(/assets/scripts/lib/iepngfix.htc); zoom:1; }
#header h2,
#header h2 a { float:left; width:984px; margin:0 -2px; text-indent:-9999px; }
#header h2 a { outline:none; }

#header ul.login { display:inline; float:right; margin:.6em 18px 0; font-size:11px; }
#header ul.login li { float:left; }
#header ul.login li a { margin:0 0 0 1.5em; padding:0 0 0 1.5em; border-left:1px solid #b2b2b2; }


/* pretty serach */
input.prettysearch { width:200px; height: 16px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/prettysearch/searchfield_repeat.png) center top repeat-x; border: 0px; margin: 0; padding: 3px 0 0 0; font: 11px "Lucida Grande", "Lucida Sans Unicode", Arial, sans-serif; }
.search-wrapper { position: relative; width: 200px; }
.search-wrapper input.prettysearch { width: 171px; margin-left: 20px; *margin-top:-1px; *margin-right:-2px; *margin-left:10px; }
.search-wrapper .left,
.search-wrapper .right { behavior:url(/assets/scripts/lib/iepngfix.htc); }
.search-wrapper .left { display: block; position: absolute; left: 0; top: 0; width: 20px; height: 19px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/prettysearch/searchfield_leftcap.png) left top no-repeat; }
.search-wrapper .right { display: block; position: absolute; right: 0; top: 0; width: 10px; height: 19px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/prettysearch/searchfield_rightcap.png) right top no-repeat; }
.search-wrapper.empty.blurred input { color: #7e7e7e; }
.search-wrapper .reset { position: absolute; width: 11px; height: 11px; overflow:hidden; z-index: 1; right: 4px; top: 4px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/prettysearch/close.gif); display: block; cursor: pointer; _cursor:hand; }
.search-wrapper.empty .reset { display: none; }
label .prettyplaceholder { display: block; overflow: hidden; text-indent: -9999px; height: 0; width: 0; }


/* global footer (legacy) */
#globalfooter .gf-buy { float: left; width: 60%; margin: 18px 0 9px; }
#globalfooter .gf-links { float: right; margin: 18px 0 9px; }
#globalfooter .gf-links a { padding: 0 10px; white-space: nowrap; }
#globalfooter .gf-links a.last { padding-right: 0; _float: none !important; width: auto !important; }


/* global footer */
#globalfooter { width: 980px; color: #666; font-size: 10px; margin: 18px auto; padding-bottom: 36px; text-align: left !important; }
#globalfooter a { color: #08c; }
#globalfooter p { margin-bottom: 1em; word-spacing:normal; }
#globalfooter p.gf-buy { float: left; width: 52%; margin: 18px 0 9px 3px; }
#globalfooter ul.piped a { padding: 0 0 0 1.5em; margin-left: 1.5em; border-left: 1px solid #d0d0d0; }
#globalfooter .gf-links { float: right; margin: 18px 3px 9px 0; }
#globalfooter .gf-sosumi { clear: both; width: 100%; border-top: 1px solid #ddd; padding-top: 9px; }
#globalfooter .gf-sosumi a { padding: 0 10px; }
#globalfooter .gf-sosumi p { float: left; margin-left: 3px; }
#globalfooter form { margin: 18px 10px; }
#globalfooter .search-wrapper { margin: 0 auto; }
#globalfooter .search-wrapper input.prettysearch { margin-left: 10px; }
#globalfooter ul.piped a.contact_us { padding-right: 1.5em; border-right: 1px solid #d0d0d0; }
#globalfooter ul.piped a.choose { margin-left: 0; border: 0; }
#globalfooter ul.piped a.choose img { vertical-align: middle; margin-top: -5px; *position: relative; }


/* breadcrumbs */
#globalfooter ol#breadcrumbs { font-size: 11px; color: #444; background: url(https://devimages.apple.com.edgekey.net/assets/elements/footer/breadcrumb_bg.png) no-repeat; height: 36px; line-height: 34px; margin: 0; list-style: none; font-weight: bold; text-shadow: 0px 1px 1px #fff; }
#globalfooter ol#breadcrumbs li { float: left; margin: 0; padding: 0 0 0 20px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/footer/breadcrumb_sep_20080909.png) no-repeat; }
#globalfooter ol#breadcrumbs li a { float: left; color: #444; text-decoration: none; padding: 0 10px; margin-left: -10px; }
#globalfooter ol#breadcrumbs li a:hover { color: #333; text-decoration: none; }
#globalfooter ol#breadcrumbs li.home { background: transparent url(https://devimages.apple.com.edgekey.net/assets/core/elements/footer/breadcrumb_separator.svg) no-repeat scroll 100% 50%; margin: 0; padding: 0; }
#globalfooter ol#breadcrumbs li.home a { margin: 0; padding: 0 10px; }


/* localization links */
#globalfooter #localization-links { float:right; position:relative; top:-30px; }
#globalfooter #localization-links ul li { display: inline; padding-left:10px; }


/* directory nav */
#directorynav { font-size: 11px; line-height:14px; padding-top:2px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/footer/directory_bg.png) repeat-y; border-top: 1px solid #e5e5e5; float: left; width: 100%; margin-top: -4px; *position: relative; }
#directorynav .column { width:181px; padding: 9px 0 2px 14px; }
#directorynav .column.last { width:175px; float: left !important; padding-right: 0; padding-left:16px; }
#directorynav h3 { color: #666; margin: 0; font-size: 1em; line-height: 14px; font-weight: bold; }
#directorynav h3.empty { line-height:18px; }
#directorynav h3.standalone { margin-bottom: 18px; }
#directorynav a { line-height: 18px; color: #666; text-decoration: none; display: block; zoom: 1; }
#directorynav h3.standalone a:link,
#directorynav h3.standalone a:visited { color: #444; }
#directorynav a:hover { color: #333 !important; text-decoration: none !important; }
#directorynav .capbottom { clear: both; position: relative; top: 5px; _top: 12px; height: 5px; width: 980px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/footer/directory_capbg.png) no-repeat; }
#directorynav ul { margin-bottom: 0; padding-bottom: 9px; }
#directorynav.mac #dn-cola { width: 120px; }
#directorynav.mac #dn-colb { width: 115px; }
#directorynav.mac #dn-cold { width: 115px; }
#directorynav.mac #dn-colg { width: 130px; }
#directorynav.ipod .column,
#directorynav.ipodtouch .column,
#directorynav.ipad .column,
#directorynav.iphone .column,
#directorynav.itunes .column { width: 190px; padding: 9px 0 0 54px; }


/* breadory */
#breadory { border: 1px solid #ddd; width: 978px; margin: 0 auto; -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px; }
#globalfooter #breadory ol#breadcrumbs { background: none; clear: both; padding: 0; float: none; height: 3em; line-height: 3em; font-size: 11px; color: #666; margin: 0; list-style: none; font-weight: bold; text-shadow: 0px 1px 1px #fff; }
#breadory ol#breadcrumbs li { background: none; float: left; margin: 0; padding: 0 0 0 1em; }
#breadory ol#breadcrumbs li a { float: left; color: #666; text-decoration: none; padding: 0 1.75em 0 0; margin-left: 0px; background: url(https://devimages.apple.com.edgekey.net/assets/core/elements/footer/breadcrumb_separator.svg) no-repeat 100% 50%; }
#breadory ol#breadcrumbs li a:hover { color: #333; text-decoration: none; }
#breadory ol#breadcrumbs li.home { background: transparent url(https://devimages.apple.com.edgekey.net/assets/core/elements/footer/breadcrumb_separator.svg) no-repeat scroll 100% 50%; margin: 0; padding: 0; }
#breadory ol#breadcrumbs li.home a { background: url(https://devimages.apple.com.edgekey.net/assets/core/elements/footer/breadcrumb_apple.svg) no-repeat 1.25em 50%; margin: 0; padding: 0px 23px 0px 37px; }
#breadory ol#breadcrumbs li.home a:hover { background-image: url(https://devimages.apple.com.edgekey.net/assets/core/elements/footer/breadcrumb_apple_over.svg); }

#breadory #directorynav { background: none; clear: both; float: none; margin-top: 0; }
#breadory #directorynav .capbottom { height: 0; font-size: 1px; _display: none; }


/* productheader */
#productheader { padding: 1em 0 0.2em; overflow: hidden; width: 980px; margin: 0 auto; *position: relative; *height: 39px; }
#productheader h1,
#productheader h2 { height: 32px; line-height: 32px; display: inline; float: left; margin: 1px 0 6px 8px; padding: 0; margin-bottom: 6px !important; }
#productheader h1 a,
#productheader h2 a { line-height: 32px; background-position: 0 0; background-repeat: no-repeat; color: #888; display: block; font-weight: normal; height: 32px; outline: none; text-decoration: none; text-indent: -9999px; *position: relative; }
body#overview #productheader h1 a,
body#overview #productheader h2 a { cursor: default; }

#productheader ul { display: inline; float: right; margin: 0; }
#productheader ul li { display: inline; }
#productheader ul li a { color: #333; float: left !important; margin-top: 1em; margin-left: 30px; margin-right: 8px; padding: 0; text-decoration: none; }
#productheader ul li a:hover { color: #08c; }


/* promofooter */
#promofooter { width:984px; margin:12px auto 0; padding-top:17px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/layout/promo_top.png) no-repeat 0 0; }
#promofooter #promos { width:980px; margin-bottom:0; padding:0 2px 4px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/layout/promo_bottom.png) no-repeat 0 100%; }
#promofooter #promos:after { content:'.'; display:block; height:0; clear:both; visibility:hidden; }
#promofooter #promos li.promo { float:left; width:244px; padding-right:1px; min-height:175px; _height:175px; position:relative; }
#promofooter #promos li.promo a { color:#777; }
#promofooter #promos li.promo:hover a { color:#08c; text-decoration:none; }
#promofooter #promos li.promo h3 { margin:0 12px 3px 19px; font-size:12px; line-height:1.4em; }
#promofooter #promos li.promo p { margin:0 12px 0 19px; font-size:11px; line-height:1.4em; color:#777; }
#promofooter #promos li.promo p a { display:block; }
#promofooter #promos li.promo a.image { bottom:0; height:190px; position:absolute; z-index:100; }
#promofooter #promos li.promo img { margin-top:10px; display:block; }

/* for promo tile without image and has specific link. these tiles have .padded already */
#promofooter #promos li.promo .padded { display:block; }
#promofooter #promos li.promo .padded a { display:inline-block; margin:8px 0; color:#08c; }
#promofooter #promos li.promo .padded a:hover { text-decoration:underline; }


/* BUTTONS
-------------------- */
.button { display:inline; padding:4px 0 6px 10px; font-size:12px; text-align:center; font-weight:bold; zoom:1; *padding-top:0; *padding-bottom:0; }
.button span,
.button input { display:inline; padding:4px 18px 6px 8px; font-size:1em; border:none; font-weight:normal; zoom:1; }
.button input { *padding-left:0; *padding-right:10px; }

@media only screen and (max-device-width: 768px) {
	.button { padding-left:8px; }
	.button span,
	.button input { padding-right:16px; }
}

.button,
.button span,
.button input { color:#333; text-shadow:0px 1px 1px #fff; -webkit-font-smoothing:subpixel-antialiased; }
.button:hover,
.button:hover span,
.button:hover input { cursor:pointer; text-decoration:none; color:#666; }

.button.blue,
.button.blue span,
.button.blue input,
.button.liteblue,
.button.liteblue span,
.button.liteblue input { color:#fff; text-shadow:0px -1px 1px #069; }
.button.blue:hover,
.button.blue:hover span,
.button.blue:hover input,
.button.liteblue:hover,
.button.liteblue:hover span,
.button.liteblue:hover input { color:#e6e6e6; }

.button.bluetext,
.button.bluetext span,
.button.bluetext input,
.button.bluetext.disabled:hover,
.button.bluetext.disabled:hover span,
.button.bluetext.disabled:hover input { color:#0087cc !important; text-shadow:none; }
.button.bluetext:hover,
.button.bluetext:hover span,
.button.bluetext:hover input { color:#0066a8 !important; }

/* buttons - disabled */
.button.disabled { cursor:default !important; opacity:.5; filter:alpha(opacity=50); -ms-filter:progid:DXImageTransform.Microsoft.Alpha(opacity=50); }

.button.disabled:hover,
.button.disabled:hover span,
.button.disabled:hover input { color:#333; cursor:default; }

.button.blue.disabled,
.button.blue.disabled span,
.button.blue.disabled input { color:#fff; }

/* buttons - images */
.button { background:url(https://devimages.apple.com.edgekey.net/assets/elements/buttons/button_left.png) no-repeat 0 50%; }
.button input,
.button span { background:url(https://devimages.apple.com.edgekey.net/assets/elements/buttons/button_right.png) no-repeat 100% 50%; }

.button.blue,
.button.liteblue { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/buttons/button_lilblue_left.png); }
.button.blue input,
.button.blue span,
.button.liteblue input,
.button.liteblue span { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/buttons/button_lilblue_right.png); }

/* buttons - large and small */
.button.large,
.button.small { display:inline-block; float:left; }
.button.large { height:31px; padding:0 26px; font-size:13px; line-height:30px; }
.button.small { height:24px; padding:0 10px; font-size:11px; line-height:23px; }

.button.large span,
.button.large input,
.button.small span,
.button.small input { padding:0 !important; margin:0 !important; height:auto !important; width:auto !important; display:inline-block; white-space:nowrap; color:inherit; text-shadow:inherit; font-size:inherit; font-weight:bold; background-image:none; *color:#666; }

.button.small.left { position:absolute; right:50%; margin-right:5px; }
.button.small.right { position:absolute; left:50%; margin-left:5px; }

.button.large,
.button.small,
.button.disabled.large:hover,
.button.disabled.small:hover { border:1px solid; border-color:#b9b9b9 #bababa #bababa #b9b9b9; color:#666;
	background-color:#e5e5e5;
	background-image:none;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#d1d1d1));
	background-image: -webkit-linear-gradient(top, #fff, #d1d1d1);
	background-image:    -moz-linear-gradient(top, #fff, #d1d1d1);
	background-image:      -o-linear-gradient(top, #fff, #d1d1d1);
	background-image:         linear-gradient(to bottom, #fff, #d1d1d1);
	-webkit-border-radius:4px;
	-moz-border-radius:4px;
	border-radius:4px;
}

.button.disabled.large:hover input,
.button.disabled.large:hover span,
.button.disabled.small:hover input,
.button.disabled.small:hover span { color:#666; }

.button.large:hover,
.button.small:hover { color:#525252;
	background-color:#d7d7d7;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#f6f6f6), to(#b9b9b9));
	background-image: -webkit-linear-gradient(top, #f6f6f6, #b9b9b9);
	background-image:    -moz-linear-gradient(top, #f6f6f6, #b9b9b9);
	background-image:      -o-linear-gradient(top, #f6f6f6, #b9b9b9);
	background-image:         linear-gradient(to bottom, #f6f6f6, #b9b9b9);
}
.button.large:active,
.button.small:active { color:#525252; border-color:#848484 #a4a4a4 #a4a4a4 #848484;
	background-color:#adadad;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#b9b9b9), to(#fefefe));
	background-image: -webkit-linear-gradient(top, #b9b9b9, #e2e2e2);
	background-image:    -moz-linear-gradient(top, #b9b9b9, #e2e2e2);
	background-image:      -o-linear-gradient(top, #b9b9b9, #e2e2e2);
	background-image:         linear-gradient(to bottom, #b9b9b9, #e2e2e2);
}


/* BUTTON COLORS
-------------------- */
/* blue */
.button.blue.large,
.button.blue.small,
.button.blue.disabled.large:hover,
.button.blue.disabled.small:hover { color:#fff; text-shadow:0px -1px 1px #069; border-color:#037bb7 #037cb8 #027bb8 #017bb7;
	background-color:#3b9be3;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#3B9BE3), to(#2872be));
	background-image: -webkit-linear-gradient(top, #3B9BE3, #2872be);
	background-image:    -moz-linear-gradient(top, #3B9BE3, #2872be);
	background-image:      -o-linear-gradient(top, #3B9BE3, #2872be);
	background-image:         linear-gradient(to bottom, #3B9BE3, #2872be);
}

.button.blue.large span,
.button.blue.large input,
.button.blue.small span,
.button.blue.small input { *color:#fff; }

.button.blue.disabled.large:hover input,
.button.blue.disabled.large:hover span,
.button.blue.disabled.small:hover input,
.button.blue.disabled.small:hover span { color:#fff; }

.button.blue.large:hover,
.button.blue.small:hover  { color:#fff;
	background-color:#3690d7;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#3690D7), to(#1F5C9B));
	background-image: -webkit-linear-gradient(top, #3690D7, #1F5C9B);
	background-image:    -moz-linear-gradient(top, #3690D7, #1F5C9B);
	background-image:      -o-linear-gradient(top, #3690D7, #1F5C9B);
	background-image:         linear-gradient(to bottom, #3690D7, #1F5C9B);

}
.button.blue.large:active,
.button.blue.small:active { border-color:#006699 #0072AB #2B88C9 #2B88C9;
	background-color:#3b9be3;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#2872be), to(#3B9BE3));
	background-image: -webkit-linear-gradient(top, #2872be, #3B9BE3);
	background-image:    -moz-linear-gradient(top, #2872be, #3B9BE3);
	background-image:      -o-linear-gradient(top, #2872be, #3B9BE3);
	background-image:         linear-gradient(to bottom, #2872be, #3B9BE3);
}

/* flat gray */
.button.gray,
.button.gray.disabled:hover { background-image:none !important; color:#666; background-color:#e1e1e1; }
.button.gray:hover { background-image:none !important; background-color:#d1d1d1; }

/* dark gray */
.button.dark-gray { color:#fff; text-shadow:0px -1px 1px #101010; border:1px solid #6f6f6f;
	background-color:#a4a4a4;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#a4a4a4), to(#555));
	background-image: -webkit-linear-gradient(top, #a4a4a4, #555);
	background-image:    -moz-linear-gradient(top, #a4a4a4, #555);
	background-image:      -o-linear-gradient(top, #a4a4a4, #555);
	background-image:         linear-gradient(to bottom, #a4a4a4, #555);
}
.button.dark-gray:hover { color:#fff; text-shadow:0px -1px 1px #101010;
	background-color:#949494;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#949494), to(#444));
	background-image: -webkit-linear-gradient(top, #949494, #444);
	background-image:    -moz-linear-gradient(top, #949494, #444);
	background-image:      -o-linear-gradient(top, #949494, #444);
	background-image:         linear-gradient(to bottom, #949494, #444);
}
.button.dark-gray:active,
.button.dark-gray.disabled,
.button.dark-gray.disabled:hover { border-color:#5e5e5e;
	background-color:#555;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#555), to(#a4a4a4));
	background-image: -webkit-linear-gradient(top, #555, #a4a4a4);
	background-image:    -moz-linear-gradient(top, #555, #a4a4a4);
	background-image:      -o-linear-gradient(top, #555, #a4a4a4);
	background-image:         linear-gradient(to bottom, #555, #a4a4a4);
}
.button.dark-gray.disabled,
.button.dark-gray.disabled:hover,
.button.dark-gray.disabled:hover span { color:#b4b4b4; text-shadow:none; }

/* red */
.button.red,
.button.red.disabled:hover { color:#fff; text-shadow:0px -1px 1px #7f0000; border-color:#a60303 #a60303 #a50101 #a50101;
	background-color:#ee0306;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#EE0306), to(#CD0205));
	background-image: -webkit-linear-gradient(top, #EE0306, #CD0205);
	background-image:    -moz-linear-gradient(top, #EE0306, #CD0205);
	background-image:      -o-linear-gradient(top, #EE0306, #CD0205);
	background-image:         linear-gradient(to bottom, #EE0306, #CD0205);
}
.button.red:hover { color:#fff; text-shadow:0px -1px 1px #860000;
	background-color:#de0000;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#de0000), to(#bd0000));
	background-image: -webkit-linear-gradient(top, #de0000, #bd0000);
	background-image:    -moz-linear-gradient(top, #de0000, #bd0000);
	background-image:      -o-linear-gradient(top, #de0000, #bd0000);
	background-image:         linear-gradient(to bottom, #de0000, #bd0000);
}
.button.red:active { border-color:#8d0000 #9c0000 #9c0000 #8d0000;
	background-color:#860000;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#860000), to(#EE0306));
	background-image: -webkit-linear-gradient(top, #860000, #EE0306);
	background-image:    -moz-linear-gradient(top, #860000, #EE0306);
	background-image:      -o-linear-gradient(top, #860000, #EE0306);
	background-image:         linear-gradient(to bottom, #860000, #EE0306);
}
.button.red.disabled,
.button.red.disabled:hover,
.button.red.disabled:hover span { color:#eb8a8a !important; text-shadow:0px -1px 1px #b30f0f; }

/* yellow */
.button.yellow { color:#5f3f00 !important; text-shadow:0px 1px 1px #fff; border:1px solid #c1a353;
	background-color:#f7f2b7;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#F7F2B7), to(#CFA84C));
	background-image: -webkit-linear-gradient(top, #F7F2B7, #CFA84C);
	background-image:    -moz-linear-gradient(top, #F7F2B7, #CFA84C);
	background-image:      -o-linear-gradient(top, #F7F2B7, #CFA84C);
	background-image:         linear-gradient(to bottom, #F7F2B7, #CFA84C);
}
.button.yellow:hover {
	background-color:#e7e2a7;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#e7e2a7), to(#bf983c));
	background-image: -webkit-linear-gradient(top, #e7e2a7, #bf983c);
	background-image:    -moz-linear-gradient(top, #e7e2a7, #bf983c);
	background-image:      -o-linear-gradient(top, #e7e2a7, #bf983c);
	background-image:         linear-gradient(to bottom, #e7e2a7, #bf983c);
}
.button.yellow:active,
.button.yellow.disabled,
.button.yellow.disabled:hover {
	background-color:#e7e2a7;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#CFA84C), to(#F7F2B7));
	background-image: -webkit-linear-gradient(top, #CFA84C, #F7F2B7);
	background-image:    -moz-linear-gradient(top, #CFA84C, #F7F2B7);
	background-image:      -o-linear-gradient(top, #CFA84C, #F7F2B7);
	background-image:         linear-gradient(to bottom, #CFA84C, #F7F2B7);
}
.button.yellow.disabled,
.button.yellow.disabled:hover,
.button.yellow.disabled:hover span { color:#a18742 !important; text-shadow:0px 1px 1px #fff; }


/* Tables
---------------------------------------- */
table.stroke { width:100%; margin:0 0 1.6em; }
table.stroke th { font-weight:bold; color:#000; }
table.stroke thead th { background:#F7F7F7; }
table.stroke th,
table.stroke td { padding:6px; vertical-align:top; border:1px solid #E5E5E5; }
table.stroke th:first-child,
table.stroke td:first-child { border-left:none; }
table.stroke th:last-child,
table.stroke td:last-child { border-right:none; }
table.stroke tr:first-child th,
table.stroke tr:first-child td { border-top:none; }
table.stroke tr:last-child th,
table.stroke tr:last-child td { border-bottom:none; }

table.stripe { width:100%; margin:0 0 1.6em; }
table.stripe th,
table.stripe td { padding:4px 6px; vertical-align:top; }
table.stripe .odd th,
table.stripe .odd td { background:#F7F7F7; }


/* print */
@media print {
	body, #main, #content { color: #000 !important; }
	a, a:link, a:visited { color: #000 !important; text-decoration:none !important; }
	#tabs, #globalheader, #globalfooter, #directorynav, .noprint, .hide { display: none !important; }
	#main a.pdf, #main a.html, #main a.qt, #main a.ical, #main a.dl, #main a.dmg, #main a.zip, #main a.keynote, #main a.audio { padding-left: 0 !important; background-image: none !important; }
}


/* iPhone */
@media screen and (max-device-width: 480px) { html { -webkit-text-size-adjust: none; } }


/* link icons */

ul.links { margin-top: 9px; }
ul.links > li { margin-bottom: 18px; padding-left: 50px; background-size: 32px 32px; background-position: 0px 2px; background-repeat: no-repeat; }

ul.links > li h3 { margin-bottom: 4px; }
ul.links > li > a h4 { font-size: 14px; margin-bottom: 2px; color: #0088cc; }

/* large icon styles (32x32) */

/* document, file, pdf and guide */
ul.links > li.document,
ul.links > li.file,
ul.links > li.pdf,
ul.links > li.guide 	  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/document.svg'); }
/*  download, dmg, zip */
ul.links > li.download,
ul.links > li.dmg,
ul.links > li.zip    	  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/download.svg'); }
/*  forum(s) topic */
ul.links > li.forums-topic,
ul.links > li.forum-topic { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/forum-topic.svg'); }
/* miscellaneous */
ul.links > li.library 	  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/library.svg'); }
ul.links > li.reference   { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/reference.svg'); }
ul.links > li.sample-code { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/sample-code.svg');}
ul.links > li.tool 		  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/tool.svg'); }
ul.links > li.video 	  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/video.svg'); }
ul.links > li.video-play  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/32x32/video-play.svg'); }
/* deprecated */
ul.links > li.volume,
ul.links > li.folder { background: none !important; }

/* small icon styles (16x16) */

/* document, file, pdf and guide */
ul.links.small > li.document,
ul.links.small > li.file,
ul.links.small > li.pdf,
ul.links.small > li.guide 	  	  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/document.svg'); background-position: 0px 2px !important;}
/*  download, dmg, zip */
ul.links.small > li.download,
ul.links.small > li.dmg,
ul.links.small > li.zip    	      { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/download.svg'); }
/*  forum(s) topic */
ul.links.small > li.forums-topic,
ul.links.small > li.forum-topic   { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/forum-topic.svg'); background-position: 0px 2px !important; }
/* miscellaneous */
ul.links.small > li.library 	  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/library.svg'); }
ul.links.small > li.reference     { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/reference.svg'); background-position: 0px 2px !important; }
ul.links.small > li.sample-code   { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/sample-code.svg'); background-position: 0px 2px !important; }
ul.links.small > li.tool 		  { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/tool.svg'); }
ul.links.small > li.video 	      { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/video.svg'); }
ul.links.small > li.video-play    { background-image: url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/video-play.svg');  }
/* deprecated */
ul.links.small > li.check,
ul.links.small > li.keynote   { background: none !important; }

ul.links.small { padding-bottom: 25px; }
ul.links.small > li { margin-bottom: 12px; padding-left: 22px !important; background-size: 16px 16px !important; line-height: 19px; }
ul.links.small > li > a h4 { margin-bottom: 0px; font-weight: normal; }

ul.links.circle { margin-left: 60px !important; }
ul.links.circle > li a { padding-left: 0px !important; }

/*--------------------------------------
 ROUTER PAGES
---------------------------------------- */

/***** General Layout *****/
.router-page #content,
.router-page .content { width:980px; margin:0 auto; padding:0; }

.router-page .content section h1 { font-size:24px; line-height:24px; margin-bottom:22px; font-weight:normal; }
.router-page .content section h2 { margin-bottom:12px; }
.router-page .content section h3 { margin-bottom:8px; }

.router-page #main a.block,
.router-page #main a.block:hover { display:block; color:#333; text-decoration:none; }
.router-page #main a.block:hover .more { text-decoration:underline; }

.router-page #main .gradient-divider { background:url(https://devimages.apple.com.edgekey.net/assets/elements/layout/gradient_bg.jpg) repeat-x 0 bottom; background-size:980px 60px; }

.router-page #main .callout { background:#F7F7F7; border:1px solid #e1e1e1; border-top:1px solid #f5f5f5; border-bottom:1px solid #c4c4c4;
	border-radius:5px; -webkit-border-radius:5px; -moz-border-radius:5px; -khtml-border-radius:5px; -o-border-radius:5px;
	box-shadow:0 1px 2px rgba(0, 0, 0, .2); -webkit-box-shadow:0 1px 2px rgba(0, 0, 0, .2); -moz-box-shadow:0 1px 2px rgba(0, 0, 0, .2); -khtml-box-shadow:0 1px 2px rgba(0, 0, 0, .2); -o-box-shadow:0 1px 2px rgba(0, 0, 0, .2);
}
.router-page #main ul.bullets { list-style-type:none; }
.router-page #main ul.bullets li { background:none; color:#999; list-style-type:disc; margin-left:18px; padding-left:0; }

.router-page .violator { position:absolute; top:0; left:0; -webkit-border-top-left-radius:4px; -moz-border-radius-topleft: 4px; border-top-left-radius: 4px; }
.router-page .new { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/badges/new-inline.png); background-size:28px 14px; background-repeat:no-repeat; background-position:100% 50%; display:inline; padding-right:34px; }
.router-page .promo img { float:left; position:relative; margin-bottom:30px; }

.router-page .note { font-size:12px; color:#999; }
.router-page .legal { font-size:11px; margin-right:10px; margin-left:10px; }
.router-page .sosumi { width:980px; margin:20px auto; text-align:center; font-size:11px; color:#666; }

.router-page .fluidGallery { width:260px; }
.router-page .fluidGallery .slides .column { width:260px; min-height:100px; margin-left:0; }
.router-page .fluidGalleryLinks a { bottom:-27px; width:20px; height:30px; }
.router-page .fluidGalleryLinks a.previous { left:0 !important; background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/left-paddle.png) !important; }
.router-page .fluidGalleryLinks a.next { right:-20px !important; background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/right-paddle.png) !important; }
.router-page .fluidGalleryPaging { padding-bottom:25px; }

.router-page .gallery { position:relative; min-height:180px; height:180px; margin-bottom:20px; }
.router-page .content .gallery { *position:static; }
.router-page .gallery:after,
.router-page .gallery-view:after { content:'.'; display:block; height:0; clear:both; visibility:hidden; }
.router-page .gallery .gallery-view,
.router-page .gallery .gallery-content { width:100%; position:relative; z-index:1000; }
.router-page .gallery .gallery-content { top:0; left:0; display:none; }
.router-page .gallery .gallery-view .gallery-content { display:block; }
.router-page .gallery .simple-nav { position:absolute; width:100%; bottom:2px; *bottom:25px; overflow:hidden; text-align:center; line-height:1px; z-index:1010; }
.router-page .gallery .simple-nav li,
.router-page .gallery .simple-nav li a { width:12px; height:12px; display:-moz-inline-stack; display:inline-block; *display:inline; zoom:1; }
.router-page .gallery .simple-nav li { position:relative; z-index:1; margin:0 1px; *margin:0 3px; padding:0 !important; }
.router-page .gallery .simple-nav li a { position:absolute; top:0; left:0; outline:none; cursor:pointer; text-indent:-9999px; background:url(https://devimages.apple.com.edgekey.net/home/images/overview_hero_navitem.png) no-repeat 100% 0; z-index:1; }
.router-page .gallery .simple-nav li a.active { cursor:default; background-position:0 0; }

.router-page .gallery a.next,
.router-page .gallery a.previous { width:20px; height:30px; position:absolute; bottom:-7px; z-index:10000; cursor:pointer !important; background-position:0 0; background-repeat:no-repeat; *bottom:16px; }

.router-page .gallery a.previous { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/left-paddle.png); }
.router-page .gallery a.next { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/right-paddle.png); }

.router-page .overlay-video { width:810px; height:528px; }
.router-page .overlay-video .overlayPanelContent { background-color:#f3f3f3; }
.router-page .overlay-video .moviePanel { margin:20px auto 0; }
.router-page .overlay-video .moviePanel .controllerPanel.slim.short-slim .ACMediaControls { margin-top:-20px; background:#f3f3f3 url('https://devimages.apple.com.edgekey.net/assets/elements/quicktime/qt_loading848x528.gif') no-repeat 50% 50%; }
.router-page .overlay-video { *background:#f3f3f3 url('https://devimages.apple.com.edgekey.net/assets/elements/quicktime/qt_loading848x528.gif') no-repeat 50% 50%; }
.router-page .overlay-video .moviePanel.mozilla { margin-top:15px; }
.router-page .overlay-video .moviePanel.mozilla .controllerPanel.slim.short-slim .ACMediaControls { margin-top:-15px; }

.router-page .hero { float:left; position:relative; padding:0 40px; width:900px; border-bottom:1px solid #e9e9e9;  }
.router-page .hero h1 { padding:67px 0 2px; }
.router-page .hero p { width:570px; margin-top:-1.35em; }
.router-page .hero img.right { margin:50px 46px; }

.router-page .grid2cola { float:left; position:relative; width:900px; padding:40px 40px 24px 40px; }
.router-page .grid2cola .first,
.router-page .grid2cola .first section.last { width:540px; }
.router-page .grid2cola .last { width:304px; }
.router-page .grid2cola .first section { padding-top:20px; }
.router-page .grid2cola .first section.first { padding-top:0; }

.router-page .grid2cola .first section.divider { padding-top:34px; margin-top:28px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/layout/divider_short.png) no-repeat 0 0; }

.router-page #main .grid2cola .callout { padding:30px 20px 15px; }
.router-page .grid2cola .callout h3 { font-size:14px; margin-bottom:5px; }
.router-page .grid2cola .callout h4 { font-size:12px; }
.router-page .grid2cola .callout ul li { padding-bottom:7px; }
.router-page .grid2cola .callout ul li p { margin-bottom:0; }
.router-page .grid2cola .callout { background:#FBFBFB; padding:30px 20px; line-height:1.6em; float:left; position:relative; width:260px; }
.router-page .grid2cola .callout section { float:left; position:relative; width:260px; padding:24px 0 6px; border-bottom:1px solid #DADADA; border-top:1px solid #fff; }
.router-page .grid2cola .callout section.first { border-top:none; padding-top:0; }
.router-page .grid2cola .callout section.last { padding-bottom:0; border-bottom:none; }
.router-page .grid2cola .callout img { margin-bottom:0; }
.router-page .grid2cola .callout img.right { margin-left:18px; }
.router-page .grid2cola .callout img.promo-tile { margin-bottom:20px; }
.router-page .grid2cola .callout img.violator { left:auto; right:-21px; top:-2px; }
.router-page .grid2cola .callout section.first img.violator { top:-31px;
	-webkit-border-top-right-radius:4px;
	-moz-border-radius-topright:4px;
	border-top-right-radius:4px;
}
.router-page .grid2cola .callout section.promo { padding-bottom:0; }
.router-page .grid2cola .callout .circle { margin:0 0 1.1em 1.5em; color:#9F9F9F; }
.router-page .grid2cola .callout .submitting { padding-bottom:7px; }
.router-page .grid2cola .callout .tools .circle li { padding-bottom:1px; }
.router-page .grid2cola .callout .sosumi { margin:0 0 18px; width:260px; text-align:left; color:#888; }


/*--------------------------------------
 SIDENAV PAGES
---------------------------------------- */

/***** General Layout *****/
.sidenav-page .content { margin:0 auto; padding:0 !important; width:980px; background-color:#f9fafa; }
.sidenav-page .content .hidden { display:none; }

.sidenav-page.short #content { background-color:#fff; }
.sidenav-page.short #content .innercontent { border-left:none; }
.sidenav-page.short #content .sidebar { border-right:1px solid #D5d5D5; }


/* Topbar
---------------------------------------- */
.sidenav-page .topbar { position:relative; z-index:1; height:33px; padding:12px 0 0; border-radius:4px 4px 0 0; -webkit-border-radius:4px 4px 0 0; -moz-border-radius:4px 4px 0 0; -o-border-radius:4px 4px 0 0; -khtml-border-radius:4px 4px 0 0; border-bottom:1px solid #aaa;
	background-image: -webkit-linear-gradient(top, #fff, #e8e8e8);
	background-image:    -moz-linear-gradient(top, #fff, #e8e8e8);
	background-image:         linear-gradient(top, #fff, #e8e8e8);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#e8e8e8')
}
.sidenav-page .topbar h1,
.sidenav-page .topbar h1 a { margin:0 auto; text-align:center; color:#666; font-size:20px; font-weight:normal; line-height:21px; text-shadow: 0px 1px 1px #fff; text-indent:0; text-decoration:none; }
.sidenav-page .topbar .topbar-user { position:absolute; z-index:2; top:17px; right:20px; font-size:11px; font-weight:bold; line-height:13px; text-align:right; }
.sidenav-page .topbar .topbar-user a,
.sidenav-page .topbar .topbar-user span { color:#666; display:block; float:right; }
.sidenav-page .topbar .topbar-user a:hover { color:#08c; }
.sidenav-page .topbar .topbar-user a.user { padding-right:8px; width:240px; }
.sidenav-page .topbar .topbar-user a.sign-out { padding-left:8px; white-space:nowrap; }

/* Sidebar
---------------------------------------- */
.sidenav-page .sidebar { float:left; margin-bottom:1px; padding:7px 16px 12px 16px !important; min-height:700px; width:212px; font-size:0.857em; line-height:1.3em; background-color:#f9fafa; }
.sidenav-page .sidebar .top-shadow { position:relative; top:-7px; left:-16px; width:244px; height:4px; background:url('https://devimages.apple.com.edgekey.net/assets/core/elements/content/horizontal_dropshadow_repeat.png') top left repeat-x; }

.sidenav-page .sidebar .item { width:100%; border-bottom:1px solid #e7e7e7; border-top:1px solid #fcfdfd; line-height:2.70em; font-weight:bold; }
.sidenav-page .sidebar .item.sn-1 { border-top:none; }
.sidenav-page .sidebar .item a { display:block; color:#333; background:url('https://devimages.apple.com.edgekey.net/assets/elements/layout/nav_arrow.png') no-repeat -26px 9px; }
.sidenav-page .sidebar .item a:hover { color:#0088CC; text-decoration:none; background-position:-274px 9px; }

/* CSSArrow */
.sidenav-page .sidebar.cssArrows .item a { display:block; color:#333; position:relative; cursor:pointer !important; }
.sidenav-page .sidebar.cssArrows .item a:hover { color:#0088CC; text-decoration:none; }
.sidenav-page .sidebar.cssArrows .item a .arrow { position:absolute; top:9px; right:1px; width:8px; height:10px; padding:1px 1px 1px 3px; border:1px solid #fff; border-radius:8px; font-family:'Lucida Grande', 'Lucida Sans Unicode', Helvetica, Arial, Verdana, sans-serif; font-size:19px; line-height:6px; font-weight:bold; background-color:#ccc; color:#fff; *display:none; }
.sidenav-page .sidebar.cssArrows .item a:hover .arrow { background-color:#0082ca; }

.sidenav-page .sidebar .subnav { display:none; position:relative; margin-left:4px; margin-top:-3px; font-weight:normal; color:#666; list-style-position:inside; }
.sidenav-page .sidebar .subnav li { height:28px; background:url('https://devimages.apple.com.edgekey.net/assets/elements/icons/icon_sublist.png') no-repeat 7px 12px; }
.sidenav-page .sidebar .subnav li a { padding-left:23px; cursor:pointer !important; background:none; }
.sidenav-page .sidebar .subnav li a:hover { color:#08c !important; }
.sidenav-page .sidebar .subnav li:last-child { margin-bottom:15px; }

.sidenav-page #content .sidebar .callout { position:relative; z-index:100; margin:15px 0 18px; padding:0; }
.sidenav-page #content .sidebar .sign-in-box { padding:11px 0 18px 15px; }
.sidenav-page #content .sidebar .sign-in-box p { font-size:1em; line-height:1.6em; width:180px; }
.sidenav-page #content .sidebar .register { font-size:0.95em; }
.sidenav-page #content .sidebar .register span.more:after { width: 20px; height: 20px; background-position: -4px -1px; }

.sidenav-page .sidebar .view-app #selectBox { display:block; height:28px; padding-top:4px; text-align:center; cursor:pointer;
	background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#fff), to(#f2f2f2));
	background:-moz-linear-gradient(100% 100% 90deg, #f2f2f2, #fff);
	background:gradient(linear, 0% 0%, 0% 100%, from(#fff), to(#f2f2f2));
	-webkit-border-radius:5px;
	-moz-border-radius:5px;
	-o-border-radius:5px;
	-khtml-border-radius:5px;
	border-radius:5px;
}
.sidenav-page .sidebar .view-app #selectBox.expanded p { background-image:url('https://devimages.apple.com.edgekey.net/assets/elements/arrows/arrow_up.png'); }
.sidenav-page .sidebar .view-app #selectBox img.left { margin:0 8px 0 10px; }
.sidenav-page .sidebar .view-app #selectBox p { float:left; margin:0; padding:2px 20px 0 0; color:#0086CC; font-size:12px; background-image:url('https://devimages.apple.com.edgekey.net/assets/elements/arrows/arrow_down.png'); background-repeat:no-repeat; background-position:100% 54%; }
.sidenav-page .sidebar .view-app #selectBox:hover p { text-decoration:underline; color:#08c; }

.sidenav-page .sidebar .view-app ul.selectOptions { width:180px; margin-left:16px;
	-webkit-transition:all .3s;
	-moz-transition:all .3s;
	-o-transition:all .3s;
	transition:all .3s;
	height:0px; overflow:hidden;
}
.sidenav-page .sidebar .view-app ul.selectOptions.expanded { height:131px; }
.sidenav-page .sidebar .view-app ul.selectOptions h5 { clear:both; padding-top:3px; margin-bottom:5px; color:#333; font-size:11px; line-height:18px; }
.sidenav-page .sidebar .view-app ul.selectOptions li { font-size:12px; color:#262626; padding:1px 0 2px; }
.sidenav-page .sidebar .view-app ul.selectOptions li span { float:right; }
.sidenav-page .sidebar .view-app ul.selectOptions li.last { margin-top:6px; padding-top:4px; padding-bottom:10px; text-align:center; font-size:11px; color:#797979; border-top:1px solid #e1e1e1; }


/* Subpage Navigation
---------------------------------------- */
.sidenav-page.subpage.one 		.sidebar .subnav li.sub1,
.sidenav-page.subpage.two 		.sidebar .subnav li.sub2,
.sidenav-page.subpage.three		.sidebar .subnav li.sub3,
.sidenav-page.subpage.four		.sidebar .subnav li.sub4,
.sidenav-page.subpage.five		.sidebar .subnav li.sub5,
.sidenav-page.subpage.six		.sidebar .subnav li.sub6,
.sidenav-page.subpage.seven		.sidebar .subnav li.sub7,
.sidenav-page.subpage.eight		.sidebar .subnav li.sub8,
.sidenav-page.subpage.nine		.sidebar .subnav li.sub9,
.sidenav-page.subpage.ten		.sidebar .subnav li.sub10,
.sidenav-page.subpage.eleven	.sidebar .subnav li.sub11,
.sidenav-page.subpage.twelve	.sidebar .subnav li.sub12,
.sidenav-page.subpage.thirteen	.sidebar .subnav li.sub13,
.sidenav-page.subpage.fourteen	.sidebar .subnav li.sub14,
.sidenav-page.subpage.fifteen	.sidebar .subnav li.sub15,
.sidenav-page.subpage.sixteen	.sidebar .subnav li.sub16,
.sidenav-page.subpage.seventeen	.sidebar .subnav li.sub17,
.sidenav-page.subpage.eightteen	.sidebar .subnav li.sub18,
.sidenav-page.subpage.nineteen	.sidebar .subnav li.sub19,
.sidenav-page.subpage.twenty	.sidebar .subnav li.sub20,
.sidenav-page.subpage.twenty-one	.sidebar .subnav li.sub21 { background-color:#E7E7E7; border-radius:4px; -webkit-border-radius:4px; -moz-border-radius:4px; -o-border-radius:4px; -khtml-border-radius:4px; }

.sidenav-page.subpage.one 		.sidebar .subnav li.sub1 a:hover,
.sidenav-page.subpage.two 		.sidebar .subnav li.sub2 a:hover,
.sidenav-page.subpage.three		.sidebar .subnav li.sub3 a:hover,
.sidenav-page.subpage.four		.sidebar .subnav li.sub4 a:hover,
.sidenav-page.subpage.five		.sidebar .subnav li.sub5 a:hover,
.sidenav-page.subpage.six		.sidebar .subnav li.sub6 a:hover,
.sidenav-page.subpage.seven		.sidebar .subnav li.sub7 a:hover,
.sidenav-page.subpage.eight		.sidebar .subnav li.sub8 a:hover,
.sidenav-page.subpage.nine		.sidebar .subnav li.sub9 a:hover,
.sidenav-page.subpage.ten		.sidebar .subnav li.sub10 a:hover,
.sidenav-page.subpage.eleven	.sidebar .subnav li.sub11 a:hover,
.sidenav-page.subpage.twelve	.sidebar .subnav li.sub12 a:hover,
.sidenav-page.subpage.thirteen	.sidebar .subnav li.sub13 a:hover,
.sidenav-page.subpage.fourteen	.sidebar .subnav li.sub14 a:hover,
.sidenav-page.subpage.fifteen	.sidebar .subnav li.sub15 a:hover,
.sidenav-page.subpage.sixteen	.sidebar .subnav li.sub16 a:hover,
.sidenav-page.subpage.seventeen	.sidebar .subnav li.sub17 a:hover,
.sidenav-page.subpage.eighteen	.sidebar .subnav li.sub18 a:hover,
.sidenav-page.subpage.nineteen	.sidebar .subnav li.sub19 a:hover,
.sidenav-page.subpage.twenty	.sidebar .subnav li.sub20 a:hover,
.sidenav-page.subpage.twenty-one	.sidebar .subnav li.sub21 a:hover { color:#333 !important; cursor:default !important; }


/* Inner Content
---------------------------------------- */
.sidenav-page .innercontent { position:relative; float:left; padding-bottom:40px; }
.sidenav-page .innercontent { width:686px; padding-right:47px; border-left:1px solid #D5d5D5; background-color:#FFF; }
.sidenav-page .innercontent > div { padding-top:40px; padding-bottom:15px; margin-left:49px; }
.sidenav-page .innercontent h1 { margin-top:26px; font-size:21px; font-weight:normal; line-height:20px; }
.sidenav-page .innercontent p.intro { margin-bottom:28px; color:#888; }
.sidenav-page .innercontent h1 + p.intro { margin-top:0; }
.sidenav-page .innercontent .note { font-size:0.85em; color:#999;}
.sidenav-page .innercontent .pad-left { padding-left:92px; }
.sidenav-page .innercontent .pad-left-more { padding-left:114px; }
.sidenav-page .innercontent .dot { margin-bottom:35px; padding-bottom:15px; border-bottom:1px solid #e1e1e1; }

.sidenav-page .innercontent .vertical-divider-shadow { position:absolute; z-index:10; left:-1px; top:0; width:5px; height:655px; background:url('https://devimages.apple.com.edgekey.net/assets/core/elements/content/vertical_divider_shadow.png'); }
.sidenav-page .innercontent .horizontal-divider { display:block; width:655px; height:4px; margin:35px 0 35px -10px; background:url('https://devimages.apple.com.edgekey.net/assets/core/elements/content/horizontal_divider_shadow.png'); }
.sidenav-page .innercontent .new { background-image:url('https://devimages.apple.com.edgekey.net/assets/elements/badges/new-inline.png'); background-size:28px 14px; background-repeat:no-repeat; background-position:100% 50%; display:inline; padding-right:34px; }

.sidenav-page .innercontent .hero h1 { margin-bottom:0; margin-top:18px; font-size:28px; line-height:46px; font-family:'Lucida Grande', 'Lucida Sans Unicode', Helvetica, Arial, Verdana, sans-serif; font-weight:normal; }
.sidenav-page .innercontent .hero h1 img { margin-bottom:-9px; }
.sidenav-page .innercontent .hero img.hero { display:block; margin:0 auto; }
.sidenav-page .innercontent .hero img.right { margin-top:3px; margin-left:50px; }
.sidenav-page .innercontent .hero ul { margin-left:19px !important; list-style:disc; color:#CCC; }
.sidenav-page .innercontent .hero ul li { margin-bottom:4px; }
.sidenav-page .innercontent .hero ul li:last-child { margin-bottom:0; }
.sidenav-page .innercontent .hero .grid2col ul.first { width:40%; }
.sidenav-page .innercontent .hero p.intro { width:627px; }

.sidenav-page .innercontent section:after { content:"."; display:block; height:0; clear:both; visibility:hidden; }

.sidenav-page .innercontent section.container { margin:0 0 36px; }
.sidenav-page .innercontent section.container h1 { margin-bottom:4px; }
.sidenav-page .innercontent section.container h1.intro { margin-bottom:30px; }
.sidenav-page .innercontent section.container h2.intro { margin-bottom:15px; }
.sidenav-page .innercontent section.container h2 { margin-bottom:4px; line-height:20px; }
.sidenav-page .innercontent section.container h3 { margin-top:0; margin-bottom:3px; }
.sidenav-page .innercontent section.container h4 { margin-bottom:2px; font-size:14px; }
.sidenav-page .innercontent section.container h4.sub { margin-left:91px; margin-bottom:8px; }
.sidenav-page .innercontent section.container p { padding-right:25px; margin-bottom:13px; line-height:20px; }
.sidenav-page .innercontent section.container p.intro { margin:6px 0 24px; }
.sidenav-page .innercontent section.container ul,
.sidenav-page .innercontent section.container ol { margin-left:0; margin-bottom:18px; }
.sidenav-page .innercontent section.container ul li { margin-left:20px; margin-bottom:8px; list-style:disc; }
.sidenav-page .innercontent section.container ol li { margin-left:25px; margin-bottom:8px; list-style:decimal; }
.sidenav-page .innercontent section.container ul.circle li { list-style:circle; }
.sidenav-page .innercontent section.container ul.code-list li { list-style:none; margin-left:0; }
.sidenav-page .innercontent section.container img.left { margin:3px 26px 15px 2px; }
.sidenav-page .innercontent section.container img.left.large { margin:1px 34px 0 0; }
.sidenav-page .innercontent section.container img.right { margin:0 2px 16px 60px; }
.sidenav-page .innercontent section.container img.holder { margin-top:20px; margin-bottom:10px; }
.sidenav-page .innercontent section.container h3 + ul,
.sidenav-page .innercontent section.container h3 + ol { margin-top:10px; }

.sidenav-page .innercontent section.tip { display:block; margin-bottom:40px; padding-bottom:5px; background-color:#FEFEEE; border:1px solid #e1e1e1;
	border-radius:4px;
	-webkit-border-radius:4px;
	-moz-border-radius:4px;
	-o-border-radius:4px;
	-khtml-border-radius:4px;
}
.sidenav-page .innercontent section.tip h2 { margin-top:19px; margin-bottom:2px; font-size:14px; line-height:18px; }
.sidenav-page .innercontent section.tip p { margin-right:50px; }
.sidenav-page .innercontent section.tip img { margin:14px 11px 14px 14px; }

.sidenav-page .innercontent section.border { padding-bottom:25px; border-bottom:1px solid #e1e1e1; }
.sidenav-page .innercontent section.short { margin:0 0 18px; }
.sidenav-page .innercontent section.squeeze { padding-right:30px; }

.sidenav-page .innercontent section.check { margin-top:15px; margin-bottom:20px; margin-left:0; padding-left:31px; background:url('https://devimages.apple.com.edgekey.net/assets/elements/icons/16x16/check.png') 2px 3px no-repeat;  }
.sidenav-page .innercontent section.check h2 a { font-size:14px; }
.sidenav-page .innercontent section.check p { width:600px; margin-right:20px; margin-bottom:15px; }

.sidenav-page .innercontent section.sub { margin:15px 0 20px; }
.sidenav-page .innercontent section.sub h2 { font-size:14px; }

.sidenav-page .innercontent section ul.sub { margin-left:93px; margin-bottom:15px; }
.sidenav-page .innercontent section ul.doc li.last { margin-bottom:25px; }
.sidenav-page .innercontent section ul.dot { border-bottom:1px solid #e1e1e1; }
.sidenav-page .innercontent section ul.dot img.right { margin-bottom:30px; }


/* icons
---------------------------------------- */
.sidenav-page .innercontent section.container ul.links { margin-top:15px; }
.sidenav-page .innercontent section.container ul.links:after { content:'.'; display:block; height:0; clear:both; visibility:hidden; }
.sidenav-page .innercontent section.container ul.links li { position:relative; display:block; margin-left:0; margin-bottom:24px; padding-left:44px; background-position:0 3px; }
.sidenav-page .innercontent section.container ul.links li h4 { margin-bottom:0; }
.sidenav-page .innercontent section.container ul.links li.single { margin-bottom:14px; background-position:0 3px; }

.sidenav-page .innercontent section.container ul.links.dot { margin-bottom:30px; padding-bottom:0; }

.sidenav-page .innercontent section.container ul.links.small { margin-top:0; }
.sidenav-page .innercontent section.container ul.links.small li { display:block; margin:0 0 8px 0; padding:0 0 0 22px; }
.sidenav-page .innercontent section.container ul.links.small li.check { background-position:0 4px; }
.sidenav-page .innercontent section.container ul.links.small li.document { background-position:0 1px; }
.sidenav-page .innercontent section.container ul.links li.forums-topic { background-position:0 -1px; }
.sidenav-page .innercontent section.container ul.links li.video { background-position:0 2px; }


/*--------------------------------------
 WHATS-NEW PAGES
---------------------------------------- */
.whats-new-page .content .grid2colf .column.first { width: 16%; }
.whats-new-page .content .grid2colf .column.last { width: 82%; }

.whats-new-page .content .grid2col.links .column.first { width: 49%; }
.whats-new-page .content .grid2col.links .column.last { width: 49%; }

.whats-new-page.centered-icons .content .grid2colf .column.first { width: 25%; }
.whats-new-page.centered-icons .content .grid2colf .column.last { width: 73%; }
.whats-new-page.centered-icons .content .grid2col.links .column.first { width: 49%; }
.whats-new-page.centered-icons .content .grid2col.links .column.last { width: 49%; }
.whats-new-page.centered-icons .maincontent section .column.first img { display:block; margin:0 auto; }

.whats-new-page #content.content { width:840px; margin:0px auto; padding:54px 70px 25px; background-image:none; }
.whats-new-page .hero p.intro { margin:0 auto; font-size:18px; line-height:1.35em; width:830px; padding-bottom:45px; }
.whats-new-page .hero { margin:0 auto; }
.whats-new-page .hero img#title { padding-bottom:10px; }
.whats-new-page #content.content .hero { text-align:center; margin:0 -5px; padding:0 5px 16px; }
.whats-new-page .download .column.last { width:574px; padding-top:36px; }
.whats-new-page .download h2 { font-size:18px; font-weight:normal; margin-bottom:4px; }
.whats-new-page .download p { font-size:1em; }
.whats-new-page .download a { width:85px; margin-top:-5px; }
.whats-new-page .download p.learn { font-size:12px; }
.whats-new-page .download span.member { padding:2px 0 0 10px; font-size:12px; }
.whats-new-page p.disclaimer { font-size:11px; text-align:center; margin-top:18px; color:#666; line-height:1.4em; width:300px; }
.whats-new-page p#sdk { width:560px; }
.whats-new-page .divider { padding-top:34px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/layout/whats-new-divider.png) 0 100% no-repeat; margin:0 -50px 0 -26px;}

.whats-new-page .maincontent section { margin-bottom:73px; }
.whats-new-page .maincontent section.border { padding-bottom:49px; border-bottom:1px solid #e1e1e1; }
.whats-new-page .maincontent section .column.first img { padding-top:2px; }
.whats-new-page .maincontent section .column.last p { margin-bottom:7px; }
.whats-new-page .maincontent section#download { margin-bottom:43px; }
.whats-new-page .maincontent section#download img { padding-top:8px; }

.whats-new-page .maincontent { margin-top:40px; }
.whats-new-page .maincontent h2 { font-size:1.142em; line-height:1.5em; margin-bottom:0; }
.whats-new-page .maincontent h3 { margin-top:15px; }
.whats-new-page .maincontent h1#design { margin-bottom:31px; }
.whats-new-page .maincontent h1.section-head { font-weight:normal; margin-bottom:25px; }
.whats-new-page .maincontent .grid2col { padding-bottom:55px; }
.whats-new-page .maincontent .grid2col:last-child { padding-bottom:0; }
.whats-new-page .maincontent .grid2col p { margin-bottom:0px; font-size:1em; margin-right:20px; }
.whats-new-page .maincontent .grid2col img { margin-bottom:10px; }
.whats-new-page .maincontent .grid2col .column { width:46.5%; }

.whats-new-page .maincontent  ul.links.small { margin-top:0; }
.whats-new-page .maincontent  ul.links.small li { display:block; margin:0 0 5px 0; padding:0 0 0 22px; }
.whats-new-page .maincontent  ul.links.small li.check { background-position:0 4px; }
.whats-new-page .maincontent  ul.links.small li.document { background-position:0 1px; }
.whats-new-page .maincontent  ul.links li.forums-topic { background-position:0 -1px; }
.whats-new-page .maincontent  ul.links li.video { background-position:0 1px; }

.button.whats-new.large.bluetext { font-weight:normal; font-size:14px; color:#08c; text-shadow:0px 1px 1px #fff;}

.button.whats-new.large,
.button.whats-new.small { border:1px solid; border-color:#ccc; color:#666;
	background-color:#f1f1f1;
	background-image:none;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#f0f0f1));
	background-image: -webkit-linear-gradient(top, #fff, #f0f0f1);
	background-image:    -moz-linear-gradient(top, #fff, #f0f0f1);
	background-image:      -o-linear-gradient(top, #fff, #f0f0f1);
	background-image:         linear-gradient(to bottom, #fff, #f0f0f1);
	-webkit-border-radius:7px;
	-moz-border-radius:7px;
	border-radius:7px;
}

.button.whats-new.disabled.large:hover input,
.button.whats-new.disabled.large:hover span,
.button.whats-new.disabled.small:hover input,
.button.whats-new.disabled.small:hover span { color:#666; }

.button.whats-new.large:hover,
.button.whats-new.small:hover { color:#525252;
	background-color:#e5e5e5;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#dadada));
	background-image: -webkit-linear-gradient(top, #fff, #dadada);
	background-image:    -moz-linear-gradient(top, #fff, #dadada);
	background-image:      -o-linear-gradient(top, #fff, #dadada);
	background-image:         linear-gradient(to bottom, #fff, #dadada);
}
.button.whats-new.large:active,
.button.whats-new.small:active { color:#525252; border-color:#ccc;
	background-color:#e5e5e5;
	background-image: -webkit-gradient(linear, left top, left bottom, from(#dadada), to(#fff));
	background-image: -webkit-linear-gradient(top, #dadada, #fff);
	background-image:    -moz-linear-gradient(top, #dadada, #fff);
	background-image:      -o-linear-gradient(top, #dadada, #fff);
	background-image:         linear-gradient(to bottom, #dadada, #fff);
}

.button.whats-new.bluetext,
.button.whats-new.bluetext span,
.button.whats-new.bluetext input,
.button.whats-new.bluetext.disabled:hover,
.button.whats-new.bluetext.disabled:hover span,
.button.whats-new.bluetext.disabled:hover input { color:#08c !important; text-shadow:#fff; }
.button.whats-new.bluetext:hover,
.button.whats-new.bluetext:hover span,
.button.whats-new.bluetext:hover input { color:#08c !important; text-shadow:#fff;}

.button.whats-new.large span,
.button.whats-new.large input,
.button.whats-new.small span,
.button.whats-new.small input { padding:0 !important; margin:0 !important; height:auto !important; width:auto !important; display:inline-block; white-space:nowrap; color:inherit; text-shadow:0px 1px 1px #fff; font-size:inherit; font-weight:bold; background-image:none; *color:#666; }

.whats-new-page .content a.more.svg, em.more.svg, span.more.svg { white-space: nowrap; padding-right: 10px; background: url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/right-arrow-08c.svg) no-repeat 97% 66%; cursor: pointer; zoom: 1; }



/*--------------------------------------
 TOP-TABS PAGES
---------------------------------------- */
.top-tabs-page #content { width:800px; margin:0 auto; padding:54px 90px 25px; }
.top-tabs-page .hero { text-align:center; padding:0 5px 16px; }
.top-tabs-page .hero p.intro { width:790px; padding-bottom:45px; margin:0 auto; font-size:18px; line-height:1.35em; }
.top-tabs-page .mainTabWrapper { overflow:hidden; position:relative; }
.top-tabs-page .mainTabWrapper .tabs { width:auto !important; float:left; position:relative; left:50%; margin:0 auto; }
.top-tabs-page .mainTabWrapper .tabs .column { width:auto; height:30px; position:relative; right:50%; padding-bottom:20px; margin:0 20px; background:none center bottom no-repeat; }
.top-tabs-page .mainTabWrapper .tabs .column a { font-size:16px; }
.top-tabs-page .mainTabWrapper .tabs .column.active { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/carat-down.png); }
.top-tabs-page .mainTabWrapper .tabs .column.active a { color:#000 !important; text-decoration:none; }
.top-tabs-page .maincontent { width:800px; margin-left:-90px; padding:40px 90px 20px; border-top:1px solid #e9e9e9; margin-top:-14px; }
.top-tabs-page .maincontent section { margin-top:70px; text-align:center; }
.top-tabs-page  h1 { margin-bottom:8px; font-size:34px; line-height:40px; font-weight:normal; }
.top-tabs-page .maincontent h1 { margin-bottom:8px; font-size:34px; font-weight:normal; }
.top-tabs-page .maincontent h2 { margin-bottom:8px; font-size:24px; line-height:36px; font-weight:normal; }
.top-tabs-page .maincontent .divider { clear:both; padding-top:25px; border-bottom: 1px solid #e1e1e1; }
.top-tabs-page .maincontent .learn-more { margin-top:28px; margin-bottom:-20px; }
.top-tabs-page .gradient-down { background-image:-webkit-linear-gradient(top, #efefef 0, #fff 50px); background-image:-moz-linear-gradient(top, #efefef 0, #fff 50px); }
.top-tabs-page .sosumi { width:980px; margin:20px auto; text-align:center; font-size:11px; color:#666; }


.top-tabs-page .tabstripWrapper { overflow:hidden; position:relative; }
.top-tabs-page .tabstrip { width:auto !important; float:left; position:relative; left:50%; margin:45px auto; }
/*@media screen and (max-device-width:480px) { .top-tabs-page .tabstrip { width:580px; } }*/
.top-tabs-page .tabstrip .tab { width:auto; position:relative; right:50%; padding:9px 44px; margin:0; border:1px solid #e1e1e1; border-right:0; text-align:center; font-size:13px; cursor:pointer !important; }
.top-tabs-page .tabstrip .tab.first { border-radius:8px 0 0 8px; }
.top-tabs-page .tabstrip .tab.last { border-right:1px solid #e1e1e1; border-radius:0 8px 8px 0; }
.top-tabs-page .tabstrip .tab:hover { background:#f6f6f6; }
.top-tabs-page .tabstrip .tab a { text-decoration:none; }
.top-tabs-page .tabstrip .tab.active { background-color:#e1e1e1 !important; }
.top-tabs-page .tabstrip .tab.active a { color:#333; }



/*--------------------------------------
 TOP-TABS OVERLINE
---------------------------------------- */
.top-tabs-overline #content { width:800px; margin:0 auto; padding:54px 90px 0; }
.top-tabs-overline .hero { text-align:center; padding:12px 0 0; }
.top-tabs-overline .hero p.intro { width:580px; padding:20px 0 45px; margin:0 auto; }
.top-tabs-overline .mainTabWrapper { overflow:hidden; position:relative; margin-top:-1px; }
.top-tabs-overline .mainTabWrapper .tabs { width:auto !important; float:left; position:relative; left:50%; margin:0 auto; }
.top-tabs-overline .mainTabWrapper .tabs .column { width:auto; height:30px; position:relative; right:50%; padding-bottom:20px; margin:0 32px; background:none center bottom no-repeat; border-top:1px solid #e6e6e6; }
.top-tabs-overline .mainTabWrapper .tabs .column a { display:block; padding-top:10px; font-size:14px; color:#8c8f9b !important; }
.top-tabs-overline .mainTabWrapper .tabs .column:hover { border-top:1px solid #bbb; }
.top-tabs-overline .mainTabWrapper .tabs .column:hover a { text-decoration:none; }
.top-tabs-overline .mainTabWrapper .tabs .column.active { border-top:1px solid #363737; }
.top-tabs-overline .mainTabWrapper .tabs .column.active a { color:#363737 !important; }
.top-tabs-overline .maincontent { width:800px; margin-left:-90px; padding:8px 90px 0; margin-top:-14px; }
.top-tabs-overline .maincontent section { position:relative; margin-top:37px; margin-bottom:-5px; text-align:center; }
.top-tabs-overline .maincontent section img.left { position:absolute; bottom:268px; left:-60px; }
.top-tabs-overline .maincontent section img.right { position:absolute; bottom:268px; right:-60px; }
.top-tabs-overline .maincontent h1 { margin-bottom:8px; font-weight:normal; }
.top-tabs-overline .maincontent h2 { margin-bottom:8px; font-size:34px; font-weight:normal; color:#333; }
.top-tabs-overline .maincontent p { margin-top:18px; font-size:14px; color:#8c8f9b; }
.top-tabs-overline .divider { clear:both; height:1px; padding-top:25px; margin:0 -90px; border-bottom:1px solid #e6e6e6; }
.top-tabs-overline .divider.flush { margin-top:-31px; }



/*--------------------------------------
 TOP-TABS FLOATING
---------------------------------------- */
.top-tabs-floating #content { width:800px; margin:0 auto; padding:54px 90px 0; }
.top-tabs-floating .hero { text-align:center; padding:12px 0 0; margin-bottom:26px; }
.top-tabs-floating .hero p.intro { width:775px; padding:10px 0 45px; margin:0 auto; }

.top-tabs-floating .mainTabOuterWrapper.layout-tabs {margin:0 0 1em -100px; width:1080px;}
.top-tabs-floating .mainTabOuterWrapper.layout-tabs .tabs{max-width:1060px;}
/*.top-tabs-floating .mainTabWrapper { overflow:hidden; position:relative; margin:-1px 0 0; }
.top-tabs-floating .mainTabWrapper .divider { width:100%; position:absolute; top:-26px; margin:0; }
.top-tabs-floating .mainTabWrapper .tabs { width:auto !important; float:left; position:relative; left:50%; margin:0 auto; }
.top-tabs-floating .mainTabWrapper .tabs .column { width:auto; height:30px; position:relative; right:50%; padding-bottom:20px; margin:0 32px; background:none center bottom no-repeat; border-top:1px solid #e6e6e6; -webkit-transition:all .5s; -moz-transition:all .5s; transition:all .5s; }
.top-tabs-floating .mainTabWrapper .tabs .column a { display:block; padding-top:10px; font-size:14px; color:#8c8f9b !important; -webkit-transition:all .5s; -moz-transition:all .5s; transition:all .5s; }
.top-tabs-floating .mainTabWrapper .tabs .column:hover { border-top:1px solid #bbb; }
.top-tabs-floating .mainTabWrapper .tabs .column:hover a { text-decoration:none; }
.top-tabs-floating .mainTabWrapper .tabs .column.active { border-top:1px solid #363737; }
.top-tabs-floating .mainTabWrapper .tabs .column.active a { color:#363737 !important; }
.top-tabs-floating .mainTabOuterWrapper { margin:0 -90px; }*/
.top-tabs-floating .mainTabOuterWrapper.affix { position:fixed; top:0px; width:1080px; z-index:10000; background:#fff; }
.top-tabs-floating .mainTabOuterWrapper.affix .mainTabWrapper { position:fixed; width:1080px; background:#fff; background:rgba(255, 255, 255, .98); }

.top-tabs-floating .maincontent { width:800px; margin-left:-90px; padding:8px 90px 0; margin-top:-14px; }
.top-tabs-floating .maincontent section { position:relative; margin-top:37px; margin-bottom:-5px; text-align:center; }
.top-tabs-floating .maincontent section img.left { position:absolute; bottom:268px; left:-60px; }
.top-tabs-floating .maincontent section img.right { position:absolute; bottom:268px; right:-60px; }
.top-tabs-floating .maincontent h1 { margin-bottom:8px; font-size:40px; font-weight:normal; }
.top-tabs-floating  h1 { margin-bottom:8px; font-size:40px; font-weight:normal; }
.top-tabs-floating .maincontent h2 { margin-bottom:8px; font-size:34px; font-weight:normal; color:#333; }
.top-tabs-floating .maincontent h3 { margin-bottom: -10px; font-size: 24px; font-weight: normal; }
.top-tabs-floating .maincontent p { margin-top:18px; font-size:14px; color:#8c8f9b; }
.top-tabs-floating .maincontent .linkSpacer { margin-top:-38px; height:38px; }
.top-tabs-floating .divider { clear:both; height:1px; padding-top:25px; margin:0 -90px; border-bottom:1px solid #e6e6e6; }
.top-tabs-floating .divider.flush { margin-top:-31px; }



/* loading spinner
---------------------------------------- */
.spinner { width:35px; height:35px; background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/spinner.png);
-webkit-animation: spin 1.2s infinite linear;
-moz-animation: spin 1.2s infinite linear;
-o-animation: spin 1.2s infinite linear;
-ms-animation: spin 1.2s infinite linear;
animation: spin 1.2s infinite linear;
}

@-webkit-keyframes spin {
0% { -webkit-transform: rotate(0deg);}
100% { -webkit-transform: rotate(360deg);}
}

@-moz-keyframes spin {
0% { -moz-transform: rotate(0deg);}
100% { -moz-transform: rotate(360deg);}
}

@-o-keyframes spin {
0% { -o-transform: rotate(0deg);}
100% { -o-transform: rotate(360deg);}
}

@-ms-keyframes spin {
0% { -ms-transform: rotate(0deg);}
100% { -ms-transform: rotate(360deg);
}

@keyframes spin {
0% { transform: rotate(0deg);}
100% { transform: rotate(360deg);}
}
‘_Bhttps://devimages.apple.com.edgekey.net/assets/core/styles/adc.cssObplist00‘bcX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Bhttps://devimages.apple.com.edgekey.net/assets/core/styles/adc.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xèπ] »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@BCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApacheXtext/css_-"3971fabc7a27e5fa7fc6f88b3673e7fe:1380133855"_Wed, 25 Sep 2013 18:30:55 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesT4149Zkeep-alive“+,Z[\NSDictionary¢Z/5“+,^__NSHTTPURLResponse£`a/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—de_WebResourceResponseÄ    # - 2 7 V \ w z ~ Å Ñ á ã é ï ò õ û ° § ¶ ® ™ ¨ Æ Ø ± ≥ µ ∑ π ª Ω ƒ Ã ÿ ⁄ ‹ ﬁ#(3<BENWY[bju~ÄÇÑÜàäåéóôõùü°£•ß©∞Ω¬–’„Ú˝=]}Éàìò•®´∞ƒ»‹Í¸ˇ             f              O5ul.icons li { padding-left:2em; }
.grid2colb-box ul.icons li { padding-left:1.8em; }
a.pdf,
ul.icons li.pdf,
ul.icons.pdf li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/pdf.gif) no-repeat 0 .2em; }
a.html,
ul.icons li.html,
ul.icons.html li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/html.gif) no-repeat 0 .2em; }
a.doc,
ul.icons li.doc,
ul.icons.doc li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/doc.gif) no-repeat 0 .2em; }
a.docs,
ul.icons li.docs,
ul.icons.docs li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/docs.gif) no-repeat 0 .2em; }
a.codeqa,
ul.icons li.codeqa,
ul.icons.codeqa li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/codeqa.gif) no-repeat 0 .3em; }
a.samplecode,
ul.icons li.samplecode,
ul.icons.samplecode li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/samplecode.png) no-repeat 0 .3em; }
a.qt,
ul.icons li.qt,
ul.icons.qt li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/qt.gif) no-repeat 0 .2em; }
a.ical,
ul.icons li.ical,
ul.icons.ical li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/ical.gif) no-repeat 0 .2em; }
a.dl,
ul.icons li.dl,
ul.icons.dl li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/dl.gif) no-repeat 0 .2em; }
a.dmg,
ul.icons li.dmg,
ul.icons.dmg li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/dmg.gif) no-repeat 0 .2em; }
a.zip,
ul.icons li.zip,
ul.icons.zip li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/zip.gif) no-repeat 0 .2em; }
a.keynote,
ul.icons li.keynote,
ul.icons.keynote li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/keynote.gif) no-repeat 0 .2em; }
a.audio,
ul.icons li.audio,
ul.icons.audio li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/audio.gif) no-repeat 0 .2em; }
a.podcast,
ul.icons li.podcast,
ul.icons.podcast li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/podcast.gif) no-repeat 0 .2em; }
a.video,
ul.icons li.video,
ul.icons.video li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/video.gif) no-repeat 0 .2em; }
a.book,
ul.icons li.book,
ul.icons.book li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/book.gif) no-repeat 0 .2em; }

a.status,
p.status,
ul.icons li.status,
ul.icons.status li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/status_yellow.gif) no-repeat 0 .2em; }
a.status.red,
p.status.red,
ul.icons li.status.red,
ul.icons.status.red li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/status_red.gif) no-repeat 0 .2em; }
a.status.green,
p.status.green,
ul.icons li.status.green,
ul.icons.status.green li { background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/12x12/status_green.gif) no-repeat 0 .2em; }

/* links */
a.pdf, a.html, a.doc, a.docs, a.codeqa, a.samplecode, a.qt, a.ical, a.dmg, a.zip, a.keynote, a.audio, a.podcast, a.video, a.status, p.status { padding-left:2em; white-space:nowrap; background-repeat:no-repeat; background-position:0 .2em; }
.grid2colb-box a.pdf, .grid2colb-box a.html, .grid2colb-box a.doc, .grid2colb-box a.docs, .grid2colb-box a.codeqa, .grid2colb-box a.samplecode, .grid2colb-box a.qt, .grid2colb-box a.ical, .grid2colb-box a.dmg, .grid2colb-box a.zip, .grid2colb-box a.keynote, .grid2colb-box a.audio, .grid2colb-box a.podcast, .grid2colb-box a.video, .grid2colb-box a.status, .grid2colb-box p.status { padding-left:1.8em; }
a.rss { display:block; width:27px; height:15px; text-indent:-9999px; outline:none; -moz-outline:none; background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/rss.png) no-repeat; }
.boxheader a.rss { float:right; margin:.2em -8px -5px 0; }
‘ _<https://developer.apple.com/assets/core/styles/templates.cssOªbplist00‘vwX$versionX$objectsY$archiverT$top Ü†Ø&#)*0123STUVWXYZ[\]^_`abcdefghijklmpqU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ$Ä%ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_<https://developer.apple.com/assets/core/styles/templates.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xô…ˆ∫ »”456DRWNS.keysZNS.objects≠789:;<=>?@ABCÄ	Ä
ÄÄÄÄÄÄÄÄÄÄÄ≠FGHIJKLMNOPQÄÄÄÄÄÄÄÄÄÄÄ Ä!Ä"Ä#\Content-TypeZKeep-AliveTEtag_Content-EncodingVServer^Cteonnt-Length]Cache-ControlTDate^Content-LengthZConnection]Accept-Ranges_X-Frame-Options]Last-ModifiedXtext/css_timeout=15, max=416_"62a20-7629-50d95799a5940"TgzipVApacheU30249Wprivate_Mon, 13 Apr 2015 01:53:36 GMTT5336ZKeep-AliveUbytesZSAMEORIGIN_Mon, 26 Jan 2015 22:15:25 GMT“+,no\NSDictionary¢n/v)“+,rs_NSHTTPURLResponse£tu/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—xy_WebResourceResponseÄ    # - 2 7 ` f Å Ñ à ã é ë ï ò ü ¢ • ® ´ Æ ∞ ≤ ¥ ∂ ∏ π ª Ω ø ¡ √ ≈ « Œ ÷ ‚ ‰ Ê Ë',7@FIR[]_fnyáâãçèëìïóôõùü°Ø±≥µ∑πªΩø¡√≈«…Àÿ„Ë˚$3>L^luã®≠¥∫¬‚ÁÚ¯#(58;@TXlzåè•             z              ßOv)/* global and header styles */
body.white { background-color:#fff; }
body.white #globalheader { margin:20px auto 0; padding-bottom:8px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/top-gradient-divider.jpg) no-repeat 0 -16px; }
/*
body.white #globalheader ul#gh-nav { right:275px; }
body.white #globalheader ul#gh-nav li a { color:#888; }
body.white #globalheader ul#gh-nav li a:hover { color:#08c; }
*/
body.white #globalheader #gh-search.white { position:absolute; top:2px; right:16px; width:218px; }
body.white #globalheader #gh-search.white form { display:inline; }
body.white #globalheader #gh-search.white:before { border:1px solid #dddee0; border-top-left-radius:25px;  border-bottom-left-radius:25px ; border-right:0; content: ' --- '; color:transparent; padding:4px 0 2px; background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/_cross-browser-searchbar/images/search-icon.svg); background-repeat:no-repeat; background-size:15px 15px; background-position:7px 4px; }
body.white #globalheader #gh-search.white:after {  border:1px solid #dddee0; border-top-right-radius:25px; border-bottom-right-radius:25px; border-left:0;  content: ' --- '; color:transparent; padding:4px 0 2px; margin-left:-4px; }
body.white #globalheader #gh-search.white.hasValue:after { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/_cross-browser-searchbar/images/clear-icon.svg); background-repeat:no-repeat; background-size:15px 15px; background-position:3px 4px; }
body.white #globalheader #gh-search.white input { font-size:14px; line-height:1.5em; width:170px; color:#666; background:none; border:none; border-top:1px solid #dddee0 !important; border-bottom:1px solid #dddee0; margin-left:0; }
body.white #globalheader #gh-search.white input:focus { outline:none; }
body.white #globalheader #gh-search.white .autocomplete { display:none; }
body.white #globalheader #gh-search.white.hasValue .autocomplete { display:block; }
body.white #globalheader #gh-search.white .autocomplete span { font-size:14px; color:#bbb; }
body.white #globalheader #gh-search.white.chrome .search-wrapper .autocomplete,
body.white #globalheader #gh-search.white.safari label .autocomplete { top:-3px; left:1px; }
body.white #globalheader #gh-search.white.firefox .search-wrapper .autocomplete { top:-3px !important; left:6px !important; }

@-moz-document url-prefix() {
	body.white #globalheader #gh-search.white:before { padding:4px 0 1px; background-position:7px 3px; }
	body.white #globalheader #gh-search.white:after { padding:4px 0 1px; }
	body.white #globalheader #gh-search.white.hasValue:after { background-position:3px 3px; }
	body.white #globalheader #gh-search.white input { font-size:16px; }
}
body.white.isMobile #globalheader #gh-search.white input { border:1px solid #dddee0; }
body.white.isMobile #globalheader #gh-search.white:before,
body.white.isMobile #globalheader #gh-search.white:after,
body.white.isIE #globalheader #gh-search.white:before,
body.white.isIE #globalheader #gh-search.white:after,
body.white.isIE #globalheader #gh-search.white .recommended { display:none; }
body.white #content { width:880px; padding:50px; margin:0 auto; background:transparent; box-shadow:none !important; }

body.white .note { font-size:12px; color:#999; }
body.white .note-12 { font-size:12px; color:#999; }
body.white .content section .note-12 { font-size:12px; color:#999; }
body.white .legal { font-size:11px; margin-right:10px; margin-left:10px; }
body.white .sosumi { width:940px; margin:20px auto; text-align:center; font-size:11px; color:#666; }
body.white .content .sosumi { width:840px; margin:20px auto; text-align:center; font-size:11px; color:#666; }
body.white .button.thin { background:none; }
body.white .button.thin:hover { background:#f6f6f6; }

/* topbars */
body.white .topbar { width:100%; position:absolute; top:0; left:0; background:none; border-bottom:none; }
body.white .topbar h1 a { color:#000; }

/* sidenav pages */
body.white.sidenav-page #content { width:980px !important; }
body.white.sidenav-page .topbar { position:relative; background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/top-gradient-divider.jpg) no-repeat 0 100%; }
body.white.sidenav-page header { margin-bottom:0 !important; }
body.white.sidenav-page header.hero { text-align:left !important; }
body.white.sidenav-page header.hero p.intro { margin-left:0 !important; margin-right:0 !important; }
body.white.sidenav-page .sidebar { background:transparent !important; }
body.white.sidenav-page .sidebar a:hover { color:#08c; cursor:pointer; }
body.white.sidenav-page .sidebar li.item.active { background-position:-522px 9px; }
body.white.sidenav-page .sidebar li.item.active.has-subnav a { background-position:-771px 9px; }
body.white.sidenav-page .sidebar li.item.active a .arrow { background-color:#000 !important; }
body.white.sidenav-page .sidebar li.item.active.has-subnav a .arrow { -webkit-transform:rotate(90deg); -moz-transform:rotate(90deg); -o-transform:rotate(90deg); -ms-transform:rotate(90deg); transform:rotate(90deg); }
body.white.sidenav-page .sidebar li.item.active .subnav { display:block; }
body.white.sidenav-page .sidebar li.item.active .subnav li { height:28px; background:url('/assets/elements/icons/16x16/list_bullet.png') no-repeat 4px 6px; }
body.white.sidenav-page .sidebar li.item.active .subnav a { line-height:2.40em; }
body.white.sidenav-page .sidebar li.item.active .subnav li.active { font-weight:bold; }
body.white.sidenav-page .sidebar .top-shadow { display:none; }
body.white.sidenav-page .vertical-divider-shadow { display:none; }

/* hero headers */
body.white header { margin:0 -50px 28px; padding:0 50px; text-align:center; }
body.white header .icon { margin:0 auto 23px; }
/**/ body.white header p.intro { margin:5px 85px 0; padding-bottom:20px; font-size:1.3em; line-height:1.8em; color:#8a8d99; }
/**/ body.white header h1 { font-weight:normal; }
body.white header .hero { padding-top:15px; }
body.white header.title-intro-hero p.intro { margin:5px 120px 0; }

/* overline tabs layout */
body.white .layout-tabs {margin: 1em 0 1em -50px; width:980px; }
body.white .tab-wrapper {display:block; position: relative; z-index: 9; white-space: nowrap;}
body.white .tab-wrapper .divider {display:none;}
body.white .tabs { max-width: 980px; margin: 0 auto; border-bottom: 1px solid #E6E6E6; text-align:center;}
body.white .tabs .column {float:none; display:inline-block; margin: 0 28px; width: auto;}
body.white .tabs .column a { display:inline-block; padding: 21px 2px 5px; color:#8c8f9b; border-bottom: 1px solid transparent; border-color: transparent; position: relative; top:1px;}
body.white .tabs .column.active	a {color:#333; border-color: #333;}
body.white .tabs .column a:hover {color: #08c; border-color: #333;}
body.white .tabs .column a:visited, body.white .tabs .column a:link, body.white .tabs .column a:active {text-decoration: none;}


/* shared layout styles */
body.white .padding-top-0       { padding-top:0 !important; }
body.white .padding-top-5       { padding-top:5px !important; }
body.white .padding-top-10      { padding-top:10px !important; }
body.white .padding-top-20      { padding-top:20px !important; }
body.white .padding-top-30      { padding-top:30px !important; }
body.white .padding-top-40      { padding-top:40px !important; }
body.white .padding-top-50      { padding-top:50px !important; }
body.white .padding-top-60      { padding-top:60px !important; }
body.white .padding-top-70      { padding-top:70px !important; }
body.white .padding-top-80      { padding-top:80px !important; }
body.white .padding-top-90      { padding-top:90px !important; }
body.white .padding-top-100     { padding-top:100px !important; }
body.white .padding-bottom-0    { padding-bottom:0 !important; }
body.white .padding-bottom-5    { padding-bottom:5px !important; }
body.white .padding-bottom-10   { padding-bottom:10px !important; }
body.white .padding-bottom-20   { padding-bottom:20px !important; }
body.white .padding-bottom-30   { padding-bottom:30px !important; }
body.white .padding-bottom-40   { padding-bottom:40px !important; }
body.white .padding-bottom-50   { padding-bottom:50px !important; }
body.white .padding-bottom-60   { padding-bottom:60px !important; }
body.white .padding-bottom-70   { padding-bottom:70px !important; }
body.white .padding-bottom-80   { padding-bottom:80px !important; }
body.white .padding-bottom-90   { padding-bottom:90px !important; }
body.white .padding-bottom-100  { padding-bottom:100px !important; }
body.white .padding-left-5      { padding-left:5px !important; }
body.white .padding-left-10     { padding-left:10px !important; }
body.white .padding-left-20     { padding-left:20px !important; }
body.white .padding-left-30     { padding-left:30px !important; }
body.white .padding-left-40     { padding-left:40px !important; }
body.white .padding-left-50     { padding-left:50px !important; }
body.white .padding-left-60     { padding-left:60px !important; }
body.white .padding-left-70     { padding-left:70px !important; }
body.white .padding-left-80     { padding-left:80px !important; }
body.white .padding-left-90     { padding-left:90px !important; }
body.white .padding-left-100    { padding-left:100px !important; }
body.white .padding-right-5     { padding-right:5px !important; }
body.white .padding-right-10    { padding-right:10px !important; }
body.white .padding-right-20    { padding-right:20px !important; }
body.white .padding-right-30    { padding-right:30px !important; }
body.white .padding-right-40    { padding-right:40px !important; }
body.white .padding-right-50    { padding-right:50px !important; }
body.white .padding-right-60    { padding-right:60px !important; }
body.white .padding-right-70    { padding-right:70px !important; }
body.white .padding-right-80    { padding-right:80px !important; }
body.white .padding-right-90    { padding-right:90px !important; }
body.white .padding-right-100   { padding-right:100px !important; }
body.white .padding-5           { padding:5px !important; }
body.white .padding-10          { padding:10px !important; }
body.white .padding-20          { padding:20px !important; }
body.white .margin-sides-0      { margin-left:0 !important; margin-right:0 !important; }
body.white .margin-sides-10     { margin-left:10px !important; margin-right:10px !important; }
body.white .margin-sides-20     { margin-left:20px !important; margin-right:20px !important; }
body.white .margin-sides-30     { margin-left:30px !important; margin-right:30px !important; }
body.white .margin-sides-40     { margin-left:40px !important; margin-right:40px !important; }
body.white .margin-sides-50     { margin-left:50px !important; margin-right:50px !important; }
body.white .margin-sides-60     { margin-left:60px !important; margin-right:60px !important; }
body.white .margin-sides-70     { margin-left:70px !important; margin-right:70px !important; }
body.white .margin-sides-80     { margin-left:80px !important; margin-right:80px !important; }
body.white .margin-sides-90     { margin-left:90px !important; margin-right:90px !important; }
body.white .margin-sides-100    { margin-left:100px !important; margin-right:100px !important; }
body.white .margin-sides-120    { margin-left:120px !important; margin-right:120px !important; }
body.white .margin-sides-150    { margin-left:150px !important; margin-right:150px !important; }
body.white .margin-sides-200    { margin-left:200px !important; margin-right:200px !important; }
body.white .margin-right-5      { margin-right:5px !important; }
body.white .margin-right-10     { margin-right:10px !important; }
body.white .margin-right-20     { margin-right:20px !important; }
body.white .margin-right-30     { margin-right:30px !important; }
body.white .margin-right-40     { margin-right:40px !important; }
body.white .margin-right-50     { margin-right:50px !important; }
body.white .margin-right-100    { margin-right:100px !important; }
body.white .margin-right--5     { margin-right:-5px !important; }
body.white .margin-right--10    { margin-right:-10px !important; }
body.white .margin-right--20    { margin-right:-20px !important; }
body.white .margin-right--30    { margin-right:-30px !important; }
body.white .margin-right--40    { margin-right:-40px !important; }
body.white .margin-right--50    { margin-right:-50px !important; }
body.white .margin-right--60    { margin-right:-60px !important; }
body.white .margin-right--70    { margin-right:-70px !important; }
body.white .margin-right--80    { margin-right:-80px !important; }
body.white .margin-right--90    { margin-right:-90px !important; }
body.white .margin-right--100   { margin-right:-100px !important; }
body.white .margin-right--150   { margin-right:-150px !important; }
body.white .margin-right--200   { margin-right:-200px !important; }
body.white .margin-left-5       { margin-left:5px !important; }
body.white .margin-left-10      { margin-left:10px !important; }
body.white .margin-left-20      { margin-left:20px !important; }
body.white .margin-left-30      { margin-left:30px !important; }
body.white .margin-left-40      { margin-left:40px !important; }
body.white .margin-left-50      { margin-left:50px !important; }
body.white .margin-left-100     { margin-left:100px !important; }
body.white .margin-left--5      { margin-left:-5px !important; }
body.white .margin-left--10     { margin-left:-10px !important; }
body.white .margin-left--20     { margin-left:-20px !important; }
body.white .margin-left--30     { margin-left:-30px !important; }
body.white .margin-left--40     { margin-left:-40px !important; }
body.white .margin-left--50     { margin-left:-50px !important; }
body.white .margin-left--60     { margin-left:-60px !important; }
body.white .margin-left--70     { margin-left:-70px !important; }
body.white .margin-left--80     { margin-left:-80px !important; }
body.white .margin-left--90     { margin-left:-90px !important; }
body.white .margin-left--100    { margin-left:-100px !important; }
body.white .margin-left--150    { margin-left:-150px !important; }
body.white .margin-left--200    { margin-left:-200px !important; }
body.white .margin-top-0        { margin-top:0 !important; }
body.white .margin-top-5        { margin-top:5px !important; }
body.white .margin-top-10       { margin-top:10px !important; }
body.white .margin-top-15       { margin-top:15px !important; }
body.white .margin-top-20       { margin-top:20px !important; }
body.white .margin-bottom-0     { margin-bottom:0 !important; }
body.white .margin-bottom-12    { margin-bottom:12px !important; }
body.white .margin-bottom--5    { margin-bottom:-5px !important; }

body.white .grid { width:100%; zoom:1; }
body.white .grid:after { content:'.'; display:block; height:0; clear:both; visibility:hidden; }
body.white .grid > .column { float:left; }
body.white .width-10            { width:10% !important; }
body.white .width-12            { width:12.5% !important; }
body.white .width-15            { width:15% !important; }
body.white .width-16            { width:16.66% !important; }
body.white .width-20            { width:20% !important; }
body.white .width-25            { width:25% !important; }
body.white .width-30            { width:30% !important; }
body.white .width-33            { width:33% !important; }
body.white .width-35            { width:35% !important; }
body.white .width-38            { width:37.5% !important; }
body.white .width-40            { width:40% !important; }
body.white .width-45            { width:45% !important; }
body.white .width-50            { width:50% !important; }
body.white .width-55            { width:55% !important; }
body.white .width-60            { width:60% !important; }
body.white .width-62            { width:62.5% !important; }
body.white .width-65            { width:65% !important; }
body.white .width-66            { width:66% !important; }
body.white .width-70            { width:70% !important; }
body.white .width-75            { width:75% !important; }
body.white .width-80            { width:80% !important; }
body.white .width-83            { width:83.33% !important; }
body.white .width-85            { width:85% !important; }
body.white .width-87            { width:87.5% !important; }
body.white .width-90            { width:90% !important; }
body.white .width-95            { width:95% !important; }
body.white .width-100           { width:100% !important; }

body.white .cleared { clear:both; }
body.white .centered { text-align:center; }
body.white .left { text-align:left !important; }
body.white .right { text-align:right !important; }
body.white .lighter { color:#888; }
body.white .divider-top { border-top:1px solid #e6e6e6; }
body.white .divider-bottom { border-bottom:1px solid #e6e6e6; }
body.white .divider-left { border-left:1px solid #e6e6e6; }
body.white .divider-right { border-right:1px solid #e6e6e6; }
body.white .gradient-down-bottom { background:url(https://devimages.apple.com.edgekey.net/assets/elements/header/top-gradient-divider.jpg) no-repeat 0 100%; }
/*body.white .smaller { font-size:.85em; }
body.white .larger { font-size:1.15em; }
body.white .size-18 { font-size:1.3em; }
body.white .size-20 { font-size:1.4em; }
body.white .size-24 { font-size:1.7em; }
body.white .giant { font-size:2.3em; }*/
body.white section { position:relative; }
/**/ body.white section h2 { font-size:1.7em; font-weight:normal; }
/**/ body.white section h3 { padding-bottom:5px; font-size:1.15em; line-height:1.5em; }
body.white section h3.new { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/badges/new-inline.svg); background-size:28px 14px; background-repeat:no-repeat; background-position:100% 20%; display:inline; padding-right:34px; }

/**/ body.white section h4 { font-size:0.95em; }
/**/ body.white section p { font-size:1em; line-height:1.6em; }
/**/ body.white p.intro { font-size:1.3em; line-height:1.8em; color:#8a8d99; }
body.white section .new { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/badges/new-inline.svg); background-size:28px 14px; background-repeat:no-repeat; background-position:100% 50%; display:inline; padding-right:34px; }
body.white section ul.links.small li { margin-bottom:7px; }

body.white a.more,
body.white em.more,
body.white span.more { display:inline-block; padding-right:.75em; line-height:1.71; line-height:1\9; *line-height:1.5; background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/more_14.png); background-position:100% 55%; *background-position:100% 60%; background-size:5px 9px; background-repeat:no-repeat; }
body.white a.more:after,
body.white em.more:after,
body.white span.more:after { display:none; }
body.white a.more.more-10,
body.white em.more.more-10,
body.white span.more.more-10 { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/more_10.png); background-size:4px 7px; }
body.white a.more.more-14,
body.white em.more.more-14,
body.white span.more.more-14 { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/more_14.png); background-size:5px 9px; }
body.white a.more.more-16,
body.white em.more.more-16,
body.white span.more.more-16 { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/more_16.png); background-size:6px 11px; }
body.white a.more.more-18,
body.white em.more.more-18,
body.white span.more.more-18 { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/more_18.png); background-size:7px 13px; }
@media only screen {
	body.white a.more,
	body.white em.more,
	body.white span.more,
	body.white a.more.more-10,
	body.white em.more.more-10,
	body.white span.more.more-10,
	body.white a.more.more-14,
	body.white em.more.more-14,
	body.white span.more.more-14,
	body.white a.more.more-16,
	body.white em.more.more-16,
	body.white span.more.more-16,
	body.white a.more.more-18,
	body.white em.more.more-18,
	body.white span.more.more-18 { background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/more.svg); }
}

/* layout sections */
body.white section ul.circle { color:#9f9f9f; }
body.white section.layout-1a { padding:0 90px; margin:0 -50px; }
body.white section.layout-1a h2 { margin-bottom:10px; }

body.white section.layout-1b { padding:0 240px; margin:0 -50px; }
body.white section.layout-1b ul.links { width:240px; padding:0 !important; margin:0 auto; }
body.white section.layout-1b .galleryWrapper { position:relative; }
body.white section.layout-1b .fluidGallery .slides { width:440px !important; height:280px; margin:0 auto !important; }
body.white section.layout-1b .fluidGallery .column { position:absolute; opacity:0; transition:all .5s; }
body.white section.layout-1b .fluidGallery .column.active { opacity:1; }
body.white section.layout-1b .fluidGallery .fluidGalleryLinks a.previous { left:50px !important; }
body.white section.layout-1b .fluidGallery .fluidGalleryLinks a.next { right:20px !important; }
body.white section.layout-1b .galleryWrapper .fluidGalleryPaging ul { position:inherit !important; }

body.white section.layout-2a { margin:0 -50px; padding:0 50px; }
body.white section.layout-2a .column.first { width:540px; }
body.white section.layout-2a .column.first p { width:465px; }
body.white section.layout-2a .column.first ul.links > li { padding-left:45px; }
body.white section.layout-2a .column.first ul.links > li > a { font-weight:bold; }
body.white section.layout-2a .column.first ul.links.small > li > a { font-weight:normal; }
body.white section.layout-2a .column.first ul.circle { color:#9f9f9f; }
body.white section.layout-2a .column.last { width:300px; }
body.white section.layout-2a .column.last p { font-size:0.9em; }
body.white section.layout-2a .column.last a.block p { color:#333; }
body.white section.layout-2a .column.last a.block:hover p { color:#08c; }
body.white section.layout-2a .column.last ul.circle { margin-top:-10px; margin-left:1em; color:#9f9f9f; }
body.white section.layout-2a .column.last li { padding-bottom:5px; font-size:0.95em; }
body.white section.layout-2a .column.last .fluidGallery { width:300px; }
body.white section.layout-2a .column.last .fluidGallery .slides .column { width:300px; min-height:100px; margin-left:0; }
body.white section.layout-2a .column.last .fluidGalleryLinks a { bottom:-35px; }
body.white section.layout-2a .column.last .fluidGalleryLinks a.previous { left:10px !important; background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/left-paddle.png) !important; z-index:1013; }
body.white section.layout-2a .column.last .fluidGalleryLinks a.next { right:-10px !important; background-image:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/right-paddle.png) !important; z-index:1013; }
body.white section.layout-2a .column.last .fluidGalleryPaging ul { bottom:25px; }

body.white section.layout-2b { margin:0 -50px; padding:0 50px; }
body.white section.layout-2b .column.first { width:420px; }
body.white section.layout-2b .column.last { width:420px; }

body.white section.layout-2c { margin:0 -50px; padding:0 50px; }
body.white section.layout-2c h2 { margin-bottom:10px; }
body.white section.layout-2c ul.links.small { margin-top:-9px; padding-bottom:18px; }
body.white section.layout-2c .column.first { width:100px; }
body.white section.layout-2c .column.last { width:730px; }

body.white section.layout-2d .column.first { width:686px; }
body.white section.layout-2d .column.last { width:144px; }

body.white section.layout-3a h2 { margin-left:40px; }
body.white section.layout-3a .column { width:260px; text-align:center; margin:0 50px 0 0; }
body.white section.layout-3a .column.last { margin-right:0; }

/* video overlay */
body.white .overlay-video { width:810px; height:528px; }
body.white .overlay-video .overlayPanelContent { background-color:#f3f3f3; }
body.white .overlay-video .moviePanel { margin:20px auto 0; }
body.white .overlay-video .moviePanel .controllerPanel.slim.short-slim .ACMediaControls { margin-top:-20px; background:#f3f3f3 url('https://devimages.apple.com.edgekey.net/assets/elements/quicktime/qt_loading848x528.gif') no-repeat 50% 50%; }
body.white .overlay-video { *background:#f3f3f3 url('https://devimages.apple.com.edgekey.net/assets/elements/quicktime/qt_loading848x528.gif') no-repeat 50% 50%; }
body.white .overlay-video .moviePanel.mozilla { margin-top:15px; }
body.white .overlay-video .moviePanel.mozilla .controllerPanel.slim.short-slim .ACMediaControls { margin-top:-15px; }

/* search layout */
body.white .layout-search .search-wrapper { width:688px; position:relative; margin:0 auto; }
body.white .layout-search .search-wrapper:before { content: '-'; color:transparent; width:21px; height:21px; display:block; position:absolute; top:11px; left:8px; opacity:.8; background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/_cross-browser-searchbar/images/search-icon.svg) 0 0 no-repeat; background-size:21px; }
body.white .layout-search .search-wrapper input { width:620px; height:29px; padding:6px 32px; font-size:18px; border-radius:20px; border:1px solid #b6bab8; }
body.white .layout-search .search-wrapper input:focus { outline:none; }
body.white .layout-search .search-wrapper .clear { display:none; }
body.white .layout-search .search-wrapper.has-value .clear { width:29px; height:29px; display:block; position:absolute; top:5px; right:10px; background:url(https://devimages.apple.com.edgekey.net/assets/elements/icons/_cross-browser-searchbar/images/clear-icon.svg) 3px 4px no-repeat; background-size:27px; z-index:10000; }
body.white .layout-search .search-wrapper.has-value .clear:hover { opacity:.8; cursor:pointer; }

/* filters layout */
body.white .layout-filters li { float:left; min-width:150px; padding:5px; cursor:pointer; }
body.white .layout-filters li .checkbox { display:block; width:18px; height:18px; float:left; margin-right:7px; border-radius:5px; border:1px solid #ceced3; transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) .3s; }
body.white .layout-filters li .checkbox:before { display:block; width:14px; height:16px; padding:1px 0 1px 4px; line-height:17px; border-radius:3px; content:'\2713\0020'; color:transparent; transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) .3s; }
body.white .layout-filters li.selected .checkbox:before { background:#ceced3; color:#fff; }
body.white .layout-filters li:hover .checkbox:before { background:#eee; border-radius:5px; }
body.white .layout-filters li:hover span { color:#666; }
body.white .layout-filters li.selected:hover .checkbox:before { background:#ceced3; border-radius:3px; }

/* list layout */
body.white .layout-list .header .column { position:relative; margin-left:0; font-weight:bold; }
body.white .layout-list .header .column:hover { background:#f0f3f5; cursor:pointer; }
body.white .layout-list .header .column.down:before { content:' '; position:absolute; top:11px; right:7px; width:0; height:0; border-left:7px solid transparent; border-right:7px solid transparent; border-top:7px solid transparent; border-top-color:#fff; z-index:2; }
body.white .layout-list .header .column.down:after  { content:' '; position:absolute; top:12px; right:7px; width:0; height:0; border-left:7px solid transparent; border-right:7px solid transparent; border-top:7px solid transparent; border-top-color:#888; z-index:1; }
body.white .layout-list .header .column.down:hover:before { border-top-color:#f0f3f5; }
body.white .layout-list .header .column.up:before   { content:' '; position:absolute; top:12px; right:7px; width:0; height:0; border-left:7px solid transparent; border-right:7px solid transparent; border-bottom:7px solid transparent; border-bottom-color:#fff; z-index:2; }
body.white .layout-list .header .column.up:after    { content:' '; position:absolute; top:11px; right:7px; width:0; height:0; border-left:7px solid transparent; border-right:7px solid transparent; border-bottom:7px solid transparent; border-bottom-color:#888; z-index:1; }
body.white .layout-list .header .column.up:hover:before { border-bottom-color:#f0f3f5; }
body.white .layout-list .item { border-bottom:1px solid #eee; }
body.white .layout-list .item:hover { background:#f4f6f9; cursor:pointer; }
body.white .layout-list .item .column { min-height:37px; margin-left:0; }
body.white .layout-list .item .column .details { overflow:hidden; }
body.white .layout-list .animate-drawer { opacity:1; margin-top:0; transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) .3s; }
body.white .layout-list .animate-drawer.ng-hide { opacity:0; margin-top:-100px; }
body.white .layout-list .animate-fade { transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) .3s; }
body.white .layout-list .animate-fade.ng-leave { opacity:1; }
body.white .layout-list .animate-fade.ng-leave-active { opacity:0; }
body.white .layout-list .animate-fade.ng-enter { opacity:0; }
body.white .layout-list .animate-fade.ng-enter-active { opacity:1; }
body.white .layout-list .affix { position:fixed; top:0; width:880px; opacity:.9; }
body.white .layout-list .affix-bottom { position:absolute; bottom:0; }
@media only screen and (max-device-width: 480px) {
	body.white .layout-list .item { font-size:24px !important; }
	body.white .layout-list .item h3 { font-size:28px !important; }
}

/* promo footer */
body.white #promofooter { padding-top:4px; background:none; margin:0 auto;}
body.white #promofooter ul { background:none !important; border-top:1px solid #d8d8d8; }
body.white #promofooter ul li.promo { width:243px !important; min-height:210px !important; border-right:1px solid #d8d8d8; padding-top:18px; }
body.white #promofooter ul li.promo.fourth { border-right:none; }
body.white #promofooter ul li.promo h6 { padding-left:20px; font-size:12px; font-weight:bold; line-height:1.5em; }
body.white #promofooter ul li.promo p { margin:0 30px 0 20px !important; }
body.white #promofooter ul li.promo img { margin-top:0 !important; }
body.white #promofooter ul li.promo a.image { height:225px !important; }
body.white #promofooter .bottom-callout { margin:0 auto -5px; clear:both; background:none; }
body.white #promofooter .bottom-callout a { line-height:62px; }
‘"#$_@https://devimages.apple.com.edgekey.net/assets/styles/topbar.cssObplist00‘bcX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_@https://devimages.apple.com.edgekey.net/assets/styles/topbar.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xêœ· »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@BCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApacheXtext/css_-"98622ef2032c8954e691329df14ce9bc:1401822796"_Tue, 03 Jun 2014 19:13:16 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesT5098Zkeep-alive“+,Z[\NSDictionary¢Z/Í“+,^__NSHTTPURLResponse£`a/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—de_WebResourceResponseÄ    # - 2 7 V \ w z ~ Å Ñ á ã é ï ò õ û ° § ¶ ® ™ ¨ Æ Ø ± ≥ µ ∑ π ª Ω ƒ Ã ÿ ⁄ ‹ ﬁ!&1:@CLUWY`hs|~ÄÇÑÜàäåïóôõùü°£•ßÆª¿Œ”·˚;[{ÅÜëñ£¶©Æ¬∆⁄Ë˙˝             f              OÍ/* Topbar ----------------------------------------------------------------------------------------------------------------------- */
.topbar { z-index:1; }
.topbar .topbar-select-container { z-index:2; cursor:pointer; }
.topbar .topbar-select { float:right; padding-left:16px; padding-right:16px; height:20px; font-size:11px; color:#333; text-shadow:0px 1px 1px #eaeaea; text-decoration:none; }
.topbar .topbar-select span { padding-right:12px; background:url('https://devimages.apple.com.edgekey.net/assets/core/elements/topbar/dropdown_arrow_small.png') center right no-repeat; }
.topbar-select-dropdown { right:54px; top:34px; width:197px; }
.topbar-dropdown-options a { display:block; width:185px; height:33px; color:#333; }
.select-dropdown { position:absolute; font-size:12px; border:1px solid #DCDCDC; background:#fff; -webkit-box-shadow:#919191 2px 3px 2px, #ababab -2px 0px 2px; -moz-border-shadow:#919191 2px 3px 2px, #ababab -2px 0px 2px; box-shadow:#919191 2px 3px 2px, #ababab -2px 0px 2px; }
.select-dropdown a { display:block; margin-left:-1px; padding-left:14px; height:33px; color:#333; line-height:32px; }
.select-dropdown a:hover { cursor:pointer; font-weight:bold; color:#fff; text-shadow:0px 1px 1px #333; background-repeat:repeat-x;
	background-image: -webkit-linear-gradient(top, #08c, #2a5b9b);
	background-image:    -moz-linear-gradient(top, #08c, #2a5b9b);
	background-image:         linear-gradient(top, #08c, #2a5b9b);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#08c', endColorstr='#2a5b9b');
}
.select-dropdown a.first-option { border-radius:4px 4px 0 0; -webkit-border-radius:4px 4px 0 0; -moz-border-radius:4px 4px 0 0; -o-border-radius:4px 4px 0 0; -khtml-border-radius:4px 4px 0 0; }
.select-dropdown a.last-option { border-radius:0 0 4px 4px; -webkit-border-radius:0 0 4px 4px; -moz-border-radius:0 0 4px 4px; -o-border-radius:0 0 4px 4px; -khtml-border-radius:0 0 4px 4px; }

.topbar { position:relative; z-index:1; height:33px; padding:12px 0 0; border-radius:4px 4px 0 0; -webkit-border-radius:4px 4px 0 0; -moz-border-radius:4px 4px 0 0; -o-border-radius:4px 4px 0 0; -khtml-border-radius:4px 4px 0 0; border-bottom:1px solid #aaa;
	background-image: -webkit-linear-gradient(top, #fff, #e8e8e8);
	background-image:    -moz-linear-gradient(top, #fff, #e8e8e8);
	background-image:         linear-gradient(top, #fff, #e8e8e8);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#e8e8e8')
}
.topbar.standard h1,
.topbar.standard h1 a { margin:0 auto; text-align:center; color:#666; font-size:20px; font-weight:normal; line-height:21px; text-shadow: 0px 1px 1px #fff; text-indent:0; text-decoration:none; }
.topbar.standard .topbar-user { position:absolute; z-index:2; top:17px; right:20px; font-size:11px; font-weight:bold; line-height:13px; text-align:right; }
.topbar.standard .topbar-user a,
.topbar.standard .topbar-user span { color:#666; display:block; float:right; }
.topbar.standard .topbar-user a:hover { color:#08c; }
.topbar.standard .topbar-user a.user { padding-right:8px; width:240px; }
.topbar.standard .topbar-user a.sign-out { padding-left:8px; white-space:nowrap; }


/* Tooltip ----------------------------------------------------------------------------------------------------------------------- */
.tooltip { position:absolute; z-index:10; }
.tooltip .content-wrapper { float:left; }
.tooltip .top { height:30px; }
.tooltip.top-pointer .top.edge { background:url('https://devimages.apple.com.edgekey.net/assets/core/elements/tooltips/tooltip_pointer_edge.png') 50%  0 no-repeat; margin-top:-16px; }

.topbar-select-container { position:absolute; top:12px; right:17px; }
.topbar-select-container .topbar-select:hover,
 	.topbar-select-container .topbar-select.active { background-color:#ebebeb; border-radius:4px; }
#topbar-dropdown-tooltip { position:absolute; top:33px; right:1px; margin-left:auto; margin-right:0px; width:160px; }
#topbar-dropdown-tooltip .tooltip-content { padding:10px 0; border-radius:7px; background:#fff; box-shadow:0 4px 15px 4px #888; }
#topbar-dropdown-tooltip .content-wrapper { float:none; }
#topbar-dropdown-tooltip .top.edge { position:relative; top:8px; margin-top:-24px; margin-left:100px; background-image:url(https://devimages.apple.com.edgekey.net/assets/core/elements/tooltips/tooltip_pointer.png) !important; }
#topbar-dropdown-tooltip .topbar-dropdown-options a { position:relative; z-index:5; margin-left:0; padding-left:16px; width:144px; height:24px; display:block; color:#333; font-size:12px; line-height:24px;  background-color:#fff; white-space:nowrap; }
#topbar-dropdown-tooltip .topbar-dropdown-options a:hover { cursor:pointer; font-weight:bold; text-decoration:none; color:#fff; text-shadow:0px 1px 1px #333; background-repeat:repeat-x;
	background-image: -webkit-linear-gradient(top, #08c, #08c); 
    background-image:    -moz-linear-gradient(top, #08c, #08c);
    background-image:         linear-gradient(top, #08c, #08c);
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0088cc', endColorstr='#0088cc');
}
‘&'()_Lhttps://devimages.apple.com.edgekey.net/assets/core/scripts/lib/prototype.jsOAbplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Lhttps://devimages.apple.com.edgekey.net/assets/core/scripts/lib/prototype.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xêõ »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"3b4b13dad33b475e11feb26fd3468ecc:1365277160"_Sat, 06 Apr 2013 19:39:20 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesV163313Zkeep-alive“+,Z[\NSDictionary¢Z/ }Ò_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ.3>GMPYbdfmuÄâãçèëìïóô¢§¶®™¨Æ∞≤¥ª»Õ€‡Ó˝*Zzö†ß≤∑ƒ«ÃÁÏ &8;Q             g              SO }Ò/*  Prototype JavaScript framework, version 1.7
 *  (c) 2005-2010 Sam Stephenson
 *
 *  Prototype is freely distributable under the terms of an MIT-style license.
 *  For details, see the Prototype web site: http://www.prototypejs.org/
 *
 *--------------------------------------------------------------------------*/

var Prototype = {

  Version: '1.7',

  Browser: (function(){
    var ua = navigator.userAgent;
    var isOpera = Object.prototype.toString.call(window.opera) == '[object Opera]';
    return {
      IE:             !!window.attachEvent && !isOpera,
      Opera:          isOpera,
      WebKit:         ua.indexOf('AppleWebKit/') > -1,
      Gecko:          ua.indexOf('Gecko') > -1 && ua.indexOf('KHTML') === -1,
      MobileSafari:   /Apple.*Mobile/.test(ua)
    }
  })(),

  BrowserFeatures: {
    XPath: !!document.evaluate,

    SelectorsAPI: !!document.querySelector,

    ElementExtensions: (function() {
      var constructor = window.Element || window.HTMLElement;
      return !!(constructor && constructor.prototype);
    })(),
    SpecificElementExtensions: (function() {
      if (typeof window.HTMLDivElement !== 'undefined')
        return true;

      var div = document.createElement('div'),
          form = document.createElement('form'),
          isSupported = false;

      if (div['__proto__'] && (div['__proto__'] !== form['__proto__'])) {
        isSupported = true;
      }

      div = form = null;

      return isSupported;
    })()
  },

  ScriptFragment: '<script[^>]*>([\\S\\s]*?)<\/script>',
  JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,

  emptyFunction: function() { },

  K: function(x) { return x }
};

if (Prototype.Browser.MobileSafari)
  Prototype.BrowserFeatures.SpecificElementExtensions = false;


var Abstract = { };


var Try = {
  these: function() {
    var returnValue;

    for (var i = 0, length = arguments.length; i < length; i++) {
      var lambda = arguments[i];
      try {
        returnValue = lambda();
        break;
      } catch (e) { }
    }

    return returnValue;
  }
};

/* Based on Alex Arnell's inheritance implementation. */

var Class = (function() {

  var IS_DONTENUM_BUGGY = (function(){
    for (var p in { toString: 1 }) {
      if (p === 'toString') return false;
    }
    return true;
  })();

  function subclass() {};
  function create() {
    var parent = null, properties = $A(arguments);
    if (Object.isFunction(properties[0]))
      parent = properties.shift();

    function klass() {
      this.initialize.apply(this, arguments);
    }

    Object.extend(klass, Class.Methods);
    klass.superclass = parent;
    klass.subclasses = [];

    if (parent) {
      subclass.prototype = parent.prototype;
      klass.prototype = new subclass;
      parent.subclasses.push(klass);
    }

    for (var i = 0, length = properties.length; i < length; i++)
      klass.addMethods(properties[i]);

    if (!klass.prototype.initialize)
      klass.prototype.initialize = Prototype.emptyFunction;

    klass.prototype.constructor = klass;
    return klass;
  }

  function addMethods(source) {
    var ancestor   = this.superclass && this.superclass.prototype,
        properties = Object.keys(source);

    if (IS_DONTENUM_BUGGY) {
      if (source.toString != Object.prototype.toString)
        properties.push("toString");
      if (source.valueOf != Object.prototype.valueOf)
        properties.push("valueOf");
    }

    for (var i = 0, length = properties.length; i < length; i++) {
      var property = properties[i], value = source[property];
      if (ancestor && Object.isFunction(value) &&
          value.argumentNames()[0] == "$super") {
        var method = value;
        value = (function(m) {
          return function() { return ancestor[m].apply(this, arguments); };
        })(property).wrap(method);

        value.valueOf = method.valueOf.bind(method);
        value.toString = method.toString.bind(method);
      }
      this.prototype[property] = value;
    }

    return this;
  }

  return {
    create: create,
    Methods: {
      addMethods: addMethods
    }
  };
})();
(function() {

  var _toString = Object.prototype.toString,
      NULL_TYPE = 'Null',
      UNDEFINED_TYPE = 'Undefined',
      BOOLEAN_TYPE = 'Boolean',
      NUMBER_TYPE = 'Number',
      STRING_TYPE = 'String',
      OBJECT_TYPE = 'Object',
      FUNCTION_CLASS = '[object Function]',
      BOOLEAN_CLASS = '[object Boolean]',
      NUMBER_CLASS = '[object Number]',
      STRING_CLASS = '[object String]',
      ARRAY_CLASS = '[object Array]',
      DATE_CLASS = '[object Date]',
      NATIVE_JSON_STRINGIFY_SUPPORT = window.JSON &&
        typeof JSON.stringify === 'function' &&
        JSON.stringify(0) === '0' &&
        typeof JSON.stringify(Prototype.K) === 'undefined';

  function Type(o) {
    switch(o) {
      case null: return NULL_TYPE;
      case (void 0): return UNDEFINED_TYPE;
    }
    var type = typeof o;
    switch(type) {
      case 'boolean': return BOOLEAN_TYPE;
      case 'number':  return NUMBER_TYPE;
      case 'string':  return STRING_TYPE;
    }
    return OBJECT_TYPE;
  }

  function extend(destination, source) {
    for (var property in source)
      destination[property] = source[property];
    return destination;
  }

  function inspect(object) {
    try {
      if (isUndefined(object)) return 'undefined';
      if (object === null) return 'null';
      return object.inspect ? object.inspect() : String(object);
    } catch (e) {
      if (e instanceof RangeError) return '...';
      throw e;
    }
  }

  function toJSON(value) {
    return Str('', { '': value }, []);
  }

  function Str(key, holder, stack) {
    var value = holder[key],
        type = typeof value;

    if (Type(value) === OBJECT_TYPE && typeof value.toJSON === 'function') {
      value = value.toJSON(key);
    }

    var _class = _toString.call(value);

    switch (_class) {
      case NUMBER_CLASS:
      case BOOLEAN_CLASS:
      case STRING_CLASS:
        value = value.valueOf();
    }

    switch (value) {
      case null: return 'null';
      case true: return 'true';
      case false: return 'false';
    }

    type = typeof value;
    switch (type) {
      case 'string':
        return value.inspect(true);
      case 'number':
        return isFinite(value) ? String(value) : 'null';
      case 'object':

        for (var i = 0, length = stack.length; i < length; i++) {
          if (stack[i] === value) { throw new TypeError(); }
        }
        stack.push(value);

        var partial = [];
        if (_class === ARRAY_CLASS) {
          for (var i = 0, length = value.length; i < length; i++) {
            var str = Str(i, value, stack);
            partial.push(typeof str === 'undefined' ? 'null' : str);
          }
          partial = '[' + partial.join(',') + ']';
        } else {
          var keys = Object.keys(value);
          for (var i = 0, length = keys.length; i < length; i++) {
            var key = keys[i], str = Str(key, value, stack);
            if (typeof str !== "undefined") {
               partial.push(key.inspect(true)+ ':' + str);
             }
          }
          partial = '{' + partial.join(',') + '}';
        }
        stack.pop();
        return partial;
    }
  }

  function stringify(object) {
    return JSON.stringify(object);
  }

  function toQueryString(object) {
    return $H(object).toQueryString();
  }

  function toHTML(object) {
    return object && object.toHTML ? object.toHTML() : String.interpret(object);
  }

  function keys(object) {
    if (Type(object) !== OBJECT_TYPE) { throw new TypeError(); }
    var results = [];
    for (var property in object) {
      if (object.hasOwnProperty(property)) {
        results.push(property);
      }
    }
    return results;
  }

  function values(object) {
    var results = [];
    for (var property in object)
      results.push(object[property]);
    return results;
  }

  function clone(object) {
    return extend({ }, object);
  }

  function isElement(object) {
    return !!(object && object.nodeType == 1);
  }

  function isArray(object) {
    return _toString.call(object) === ARRAY_CLASS;
  }

  var hasNativeIsArray = (typeof Array.isArray == 'function')
    && Array.isArray([]) && !Array.isArray({});

  if (hasNativeIsArray) {
    isArray = Array.isArray;
  }

  function isHash(object) {
    return object instanceof Hash;
  }

  function isFunction(object) {
    return _toString.call(object) === FUNCTION_CLASS;
  }

  function isString(object) {
    return _toString.call(object) === STRING_CLASS;
  }

  function isNumber(object) {
    return _toString.call(object) === NUMBER_CLASS;
  }

  function isDate(object) {
    return _toString.call(object) === DATE_CLASS;
  }

  function isUndefined(object) {
    return typeof object === "undefined";
  }

  extend(Object, {
    extend:        extend,
    inspect:       inspect,
    toJSON:        NATIVE_JSON_STRINGIFY_SUPPORT ? stringify : toJSON,
    toQueryString: toQueryString,
    toHTML:        toHTML,
    keys:          Object.keys || keys,
    values:        values,
    clone:         clone,
    isElement:     isElement,
    isArray:       isArray,
    isHash:        isHash,
    isFunction:    isFunction,
    isString:      isString,
    isNumber:      isNumber,
    isDate:        isDate,
    isUndefined:   isUndefined
  });
})();
Object.extend(Function.prototype, (function() {
  var slice = Array.prototype.slice;

  function update(array, args) {
    var arrayLength = array.length, length = args.length;
    while (length--) array[arrayLength + length] = args[length];
    return array;
  }

  function merge(array, args) {
    array = slice.call(array, 0);
    return update(array, args);
  }

  function argumentNames() {
    var names = this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1]
      .replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g, '')
      .replace(/\s+/g, '').split(',');
    return names.length == 1 && !names[0] ? [] : names;
  }

  function bind(context) {
    if (arguments.length < 2 && Object.isUndefined(arguments[0])) return this;
    var __method = this, args = slice.call(arguments, 1);
    return function() {
      var a = merge(args, arguments);
      return __method.apply(context, a);
    }
  }

  function bindAsEventListener(context) {
    var __method = this, args = slice.call(arguments, 1);
    return function(event) {
      var a = update([event || window.event], args);
      return __method.apply(context, a);
    }
  }

  function curry() {
    if (!arguments.length) return this;
    var __method = this, args = slice.call(arguments, 0);
    return function() {
      var a = merge(args, arguments);
      return __method.apply(this, a);
    }
  }

  function delay(timeout) {
    var __method = this, args = slice.call(arguments, 1);
    timeout = timeout * 1000;
    return window.setTimeout(function() {
      return __method.apply(__method, args);
    }, timeout);
  }

  function defer() {
    var args = update([0.01], arguments);
    return this.delay.apply(this, args);
  }

  function wrap(wrapper) {
    var __method = this;
    return function() {
      var a = update([__method.bind(this)], arguments);
      return wrapper.apply(this, a);
    }
  }

  function methodize() {
    if (this._methodized) return this._methodized;
    var __method = this;
    return this._methodized = function() {
      var a = update([this], arguments);
      return __method.apply(null, a);
    };
  }

  return {
    argumentNames:       argumentNames,
    bind:                bind,
    bindAsEventListener: bindAsEventListener,
    curry:               curry,
    delay:               delay,
    defer:               defer,
    wrap:                wrap,
    methodize:           methodize
  }
})());



(function(proto) {


  function toISOString() {
    return this.getUTCFullYear() + '-' +
      (this.getUTCMonth() + 1).toPaddedString(2) + '-' +
      this.getUTCDate().toPaddedString(2) + 'T' +
      this.getUTCHours().toPaddedString(2) + ':' +
      this.getUTCMinutes().toPaddedString(2) + ':' +
      this.getUTCSeconds().toPaddedString(2) + 'Z';
  }


  function toJSON() {
    return this.toISOString();
  }

  if (!proto.toISOString) proto.toISOString = toISOString;
  if (!proto.toJSON) proto.toJSON = toJSON;

})(Date.prototype);


RegExp.prototype.match = RegExp.prototype.test;

RegExp.escape = function(str) {
  return String(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
};
var PeriodicalExecuter = Class.create({
  initialize: function(callback, frequency) {
    this.callback = callback;
    this.frequency = frequency;
    this.currentlyExecuting = false;

    this.registerCallback();
  },

  registerCallback: function() {
    this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
  },

  execute: function() {
    this.callback(this);
  },

  stop: function() {
    if (!this.timer) return;
    clearInterval(this.timer);
    this.timer = null;
  },

  onTimerEvent: function() {
    if (!this.currentlyExecuting) {
      try {
        this.currentlyExecuting = true;
        this.execute();
        this.currentlyExecuting = false;
      } catch(e) {
        this.currentlyExecuting = false;
        throw e;
      }
    }
  }
});
Object.extend(String, {
  interpret: function(value) {
    return value == null ? '' : String(value);
  },
  specialChar: {
    '\b': '\\b',
    '\t': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '\\': '\\\\'
  }
});

Object.extend(String.prototype, (function() {
  var NATIVE_JSON_PARSE_SUPPORT = window.JSON &&
    typeof JSON.parse === 'function' &&
    JSON.parse('{"test": true}').test;

  function prepareReplacement(replacement) {
    if (Object.isFunction(replacement)) return replacement;
    var template = new Template(replacement);
    return function(match) { return template.evaluate(match) };
  }

  function gsub(pattern, replacement) {
    var result = '', source = this, match;
    replacement = prepareReplacement(replacement);

    if (Object.isString(pattern))
      pattern = RegExp.escape(pattern);

    if (!(pattern.length || pattern.source)) {
      replacement = replacement('');
      return replacement + source.split('').join(replacement) + replacement;
    }

    while (source.length > 0) {
      if (match = source.match(pattern)) {
        result += source.slice(0, match.index);
        result += String.interpret(replacement(match));
        source  = source.slice(match.index + match[0].length);
      } else {
        result += source, source = '';
      }
    }
    return result;
  }

  function sub(pattern, replacement, count) {
    replacement = prepareReplacement(replacement);
    count = Object.isUndefined(count) ? 1 : count;

    return this.gsub(pattern, function(match) {
      if (--count < 0) return match[0];
      return replacement(match);
    });
  }

  function scan(pattern, iterator) {
    this.gsub(pattern, iterator);
    return String(this);
  }

  function truncate(length, truncation) {
    length = length || 30;
    truncation = Object.isUndefined(truncation) ? '...' : truncation;
    return this.length > length ?
      this.slice(0, length - truncation.length) + truncation : String(this);
  }

  function strip() {
    return this.replace(/^\s+/, '').replace(/\s+$/, '');
  }

  function stripTags() {
    return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi, '');
  }

  function stripScripts() {
    return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '');
  }

  function extractScripts() {
    var matchAll = new RegExp(Prototype.ScriptFragment, 'img'),
        matchOne = new RegExp(Prototype.ScriptFragment, 'im');
    return (this.match(matchAll) || []).map(function(scriptTag) {
      return (scriptTag.match(matchOne) || ['', ''])[1];
    });
  }

  function evalScripts() {
    return this.extractScripts().map(function(script) { return eval(script) });
  }

  function escapeHTML() {
    return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  }

  function unescapeHTML() {
    return this.stripTags().replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');
  }


  function toQueryParams(separator) {
    var match = this.strip().match(/([^?#]*)(#.*)?$/);
    if (!match) return { };

    return match[1].split(separator || '&').inject({ }, function(hash, pair) {
      if ((pair = pair.split('='))[0]) {
        var key = decodeURIComponent(pair.shift()),
            value = pair.length > 1 ? pair.join('=') : pair[0];

        if (value != undefined) value = decodeURIComponent(value);

        if (key in hash) {
          if (!Object.isArray(hash[key])) hash[key] = [hash[key]];
          hash[key].push(value);
        }
        else hash[key] = value;
      }
      return hash;
    });
  }

  function toArray() {
    return this.split('');
  }

  function succ() {
    return this.slice(0, this.length - 1) +
      String.fromCharCode(this.charCodeAt(this.length - 1) + 1);
  }

  function times(count) {
    return count < 1 ? '' : new Array(count + 1).join(this);
  }

  function camelize() {
    return this.replace(/-+(.)?/g, function(match, chr) {
      return chr ? chr.toUpperCase() : '';
    });
  }

  function capitalize() {
    return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();
  }

  function underscore() {
    return this.replace(/::/g, '/')
               .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')
               .replace(/([a-z\d])([A-Z])/g, '$1_$2')
               .replace(/-/g, '_')
               .toLowerCase();
  }

  function dasherize() {
    return this.replace(/_/g, '-');
  }

  function inspect(useDoubleQuotes) {
    var escapedString = this.replace(/[\x00-\x1f\\]/g, function(character) {
      if (character in String.specialChar) {
        return String.specialChar[character];
      }
      return '\\u00' + character.charCodeAt().toPaddedString(2, 16);
    });
    if (useDoubleQuotes) return '"' + escapedString.replace(/"/g, '\\"') + '"';
    return "'" + escapedString.replace(/'/g, '\\\'') + "'";
  }

  function unfilterJSON(filter) {
    return this.replace(filter || Prototype.JSONFilter, '$1');
  }

  function isJSON() {
    var str = this;
    if (str.blank()) return false;
    str = str.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@');
    str = str.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']');
    str = str.replace(/(?:^|:|,)(?:\s*\[)+/g, '');
    return (/^[\],:{}\s]*$/).test(str);
  }

  function evalJSON(sanitize) {
    var json = this.unfilterJSON(),
        cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
    if (cx.test(json)) {
      json = json.replace(cx, function (a) {
        return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
      });
    }
    try {
      if (!sanitize || json.isJSON()) return eval('(' + json + ')');
    } catch (e) { }
    throw new SyntaxError('Badly formed JSON string: ' + this.inspect());
  }

  function parseJSON() {
    var json = this.unfilterJSON();
    return JSON.parse(json);
  }

  function include(pattern) {
    return this.indexOf(pattern) > -1;
  }

  function startsWith(pattern) {
    return this.lastIndexOf(pattern, 0) === 0;
  }

  function endsWith(pattern) {
    var d = this.length - pattern.length;
    return d >= 0 && this.indexOf(pattern, d) === d;
  }

  function empty() {
    return this == '';
  }

  function blank() {
    return /^\s*$/.test(this);
  }

  function interpolate(object, pattern) {
    return new Template(this, pattern).evaluate(object);
  }

  return {
    gsub:           gsub,
    sub:            sub,
    scan:           scan,
    truncate:       truncate,
    strip:          String.prototype.trim || strip,
    stripTags:      stripTags,
    stripScripts:   stripScripts,
    extractScripts: extractScripts,
    evalScripts:    evalScripts,
    escapeHTML:     escapeHTML,
    unescapeHTML:   unescapeHTML,
    toQueryParams:  toQueryParams,
    parseQuery:     toQueryParams,
    toArray:        toArray,
    succ:           succ,
    times:          times,
    camelize:       camelize,
    capitalize:     capitalize,
    underscore:     underscore,
    dasherize:      dasherize,
    inspect:        inspect,
    unfilterJSON:   unfilterJSON,
    isJSON:         isJSON,
    evalJSON:       NATIVE_JSON_PARSE_SUPPORT ? parseJSON : evalJSON,
    include:        include,
    startsWith:     startsWith,
    endsWith:       endsWith,
    empty:          empty,
    blank:          blank,
    interpolate:    interpolate
  };
})());

var Template = Class.create({
  initialize: function(template, pattern) {
    this.template = template.toString();
    this.pattern = pattern || Template.Pattern;
  },

  evaluate: function(object) {
    if (object && Object.isFunction(object.toTemplateReplacements))
      object = object.toTemplateReplacements();

    return this.template.gsub(this.pattern, function(match) {
      if (object == null) return (match[1] + '');

      var before = match[1] || '';
      if (before == '\\') return match[2];

      var ctx = object, expr = match[3],
          pattern = /^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;

      match = pattern.exec(expr);
      if (match == null) return before;

      while (match != null) {
        var comp = match[1].startsWith('[') ? match[2].replace(/\\\\]/g, ']') : match[1];
        ctx = ctx[comp];
        if (null == ctx || '' == match[3]) break;
        expr = expr.substring('[' == match[3] ? match[1].length : match[0].length);
        match = pattern.exec(expr);
      }

      return before + String.interpret(ctx);
    });
  }
});
Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/;

var $break = { };

var Enumerable = (function() {
  function each(iterator, context) {
    var index = 0;
    try {
      this._each(function(value) {
        iterator.call(context, value, index++);
      });
    } catch (e) {
      if (e != $break) throw e;
    }
    return this;
  }

  function eachSlice(number, iterator, context) {
    var index = -number, slices = [], array = this.toArray();
    if (number < 1) return array;
    while ((index += number) < array.length)
      slices.push(array.slice(index, index+number));
    return slices.collect(iterator, context);
  }

  function all(iterator, context) {
    iterator = iterator || Prototype.K;
    var result = true;
    this.each(function(value, index) {
      result = result && !!iterator.call(context, value, index);
      if (!result) throw $break;
    });
    return result;
  }

  function any(iterator, context) {
    iterator = iterator || Prototype.K;
    var result = false;
    this.each(function(value, index) {
      if (result = !!iterator.call(context, value, index))
        throw $break;
    });
    return result;
  }

  function collect(iterator, context) {
    iterator = iterator || Prototype.K;
    var results = [];
    this.each(function(value, index) {
      results.push(iterator.call(context, value, index));
    });
    return results;
  }

  function detect(iterator, context) {
    var result;
    this.each(function(value, index) {
      if (iterator.call(context, value, index)) {
        result = value;
        throw $break;
      }
    });
    return result;
  }

  function findAll(iterator, context) {
    var results = [];
    this.each(function(value, index) {
      if (iterator.call(context, value, index))
        results.push(value);
    });
    return results;
  }

  function grep(filter, iterator, context) {
    iterator = iterator || Prototype.K;
    var results = [];

    if (Object.isString(filter))
      filter = new RegExp(RegExp.escape(filter));

    this.each(function(value, index) {
      if (filter.match(value))
        results.push(iterator.call(context, value, index));
    });
    return results;
  }

  function include(object) {
    if (Object.isFunction(this.indexOf))
      if (this.indexOf(object) != -1) return true;

    var found = false;
    this.each(function(value) {
      if (value == object) {
        found = true;
        throw $break;
      }
    });
    return found;
  }

  function inGroupsOf(number, fillWith) {
    fillWith = Object.isUndefined(fillWith) ? null : fillWith;
    return this.eachSlice(number, function(slice) {
      while(slice.length < number) slice.push(fillWith);
      return slice;
    });
  }

  function inject(memo, iterator, context) {
    this.each(function(value, index) {
      memo = iterator.call(context, memo, value, index);
    });
    return memo;
  }

  function invoke(method) {
    var args = $A(arguments).slice(1);
    return this.map(function(value) {
      return value[method].apply(value, args);
    });
  }

  function max(iterator, context) {
    iterator = iterator || Prototype.K;
    var result;
    this.each(function(value, index) {
      value = iterator.call(context, value, index);
      if (result == null || value >= result)
        result = value;
    });
    return result;
  }

  function min(iterator, context) {
    iterator = iterator || Prototype.K;
    var result;
    this.each(function(value, index) {
      value = iterator.call(context, value, index);
      if (result == null || value < result)
        result = value;
    });
    return result;
  }

  function partition(iterator, context) {
    iterator = iterator || Prototype.K;
    var trues = [], falses = [];
    this.each(function(value, index) {
      (iterator.call(context, value, index) ?
        trues : falses).push(value);
    });
    return [trues, falses];
  }

  function pluck(property) {
    var results = [];
    this.each(function(value) {
      results.push(value[property]);
    });
    return results;
  }

  function reject(iterator, context) {
    var results = [];
    this.each(function(value, index) {
      if (!iterator.call(context, value, index))
        results.push(value);
    });
    return results;
  }

  function sortBy(iterator, context) {
    return this.map(function(value, index) {
      return {
        value: value,
        criteria: iterator.call(context, value, index)
      };
    }).sort(function(left, right) {
      var a = left.criteria, b = right.criteria;
      return a < b ? -1 : a > b ? 1 : 0;
    }).pluck('value');
  }

  function toArray() {
    return this.map();
  }

  function zip() {
    var iterator = Prototype.K, args = $A(arguments);
    if (Object.isFunction(args.last()))
      iterator = args.pop();

    var collections = [this].concat(args).map($A);
    return this.map(function(value, index) {
      return iterator(collections.pluck(index));
    });
  }

  function size() {
    return this.toArray().length;
  }

  function inspect() {
    return '#<Enumerable:' + this.toArray().inspect() + '>';
  }









  return {
    each:       each,
    eachSlice:  eachSlice,
    all:        all,
    every:      all,
    any:        any,
    some:       any,
    collect:    collect,
    map:        collect,
    detect:     detect,
    findAll:    findAll,
    select:     findAll,
    filter:     findAll,
    grep:       grep,
    include:    include,
    member:     include,
    inGroupsOf: inGroupsOf,
    inject:     inject,
    invoke:     invoke,
    max:        max,
    min:        min,
    partition:  partition,
    pluck:      pluck,
    reject:     reject,
    sortBy:     sortBy,
    toArray:    toArray,
    entries:    toArray,
    zip:        zip,
    size:       size,
    inspect:    inspect,
    find:       detect
  };
})();

function $A(iterable) {
  if (!iterable) return [];
  if ('toArray' in Object(iterable)) return iterable.toArray();
  var length = iterable.length || 0, results = new Array(length);
  while (length--) results[length] = iterable[length];
  return results;
}


function $w(string) {
  if (!Object.isString(string)) return [];
  string = string.strip();
  return string ? string.split(/\s+/) : [];
}

Array.from = $A;


(function() {
  var arrayProto = Array.prototype,
      slice = arrayProto.slice,
      _each = arrayProto.forEach; // use native browser JS 1.6 implementation if available

  function each(iterator, context) {
    for (var i = 0, length = this.length >>> 0; i < length; i++) {
      if (i in this) iterator.call(context, this[i], i, this);
    }
  }
  if (!_each) _each = each;

  function clear() {
    this.length = 0;
    return this;
  }

  function first() {
    return this[0];
  }

  function last() {
    return this[this.length - 1];
  }

  function compact() {
    return this.select(function(value) {
      return value != null;
    });
  }

  function flatten() {
    return this.inject([], function(array, value) {
      if (Object.isArray(value))
        return array.concat(value.flatten());
      array.push(value);
      return array;
    });
  }

  function without() {
    var values = slice.call(arguments, 0);
    return this.select(function(value) {
      return !values.include(value);
    });
  }

  function reverse(inline) {
    return (inline === false ? this.toArray() : this)._reverse();
  }

  function uniq(sorted) {
    return this.inject([], function(array, value, index) {
      if (0 == index || (sorted ? array.last() != value : !array.include(value)))
        array.push(value);
      return array;
    });
  }

  function intersect(array) {
    return this.uniq().findAll(function(item) {
      return array.detect(function(value) { return item === value });
    });
  }


  function clone() {
    return slice.call(this, 0);
  }

  function size() {
    return this.length;
  }

  function inspect() {
    return '[' + this.map(Object.inspect).join(', ') + ']';
  }

  function indexOf(item, i) {
    i || (i = 0);
    var length = this.length;
    if (i < 0) i = length + i;
    for (; i < length; i++)
      if (this[i] === item) return i;
    return -1;
  }

  function lastIndexOf(item, i) {
    i = isNaN(i) ? this.length : (i < 0 ? this.length + i : i) + 1;
    var n = this.slice(0, i).reverse().indexOf(item);
    return (n < 0) ? n : i - n - 1;
  }

  function concat() {
    var array = slice.call(this, 0), item;
    for (var i = 0, length = arguments.length; i < length; i++) {
      item = arguments[i];
      if (Object.isArray(item) && !('callee' in item)) {
        for (var j = 0, arrayLength = item.length; j < arrayLength; j++)
          array.push(item[j]);
      } else {
        array.push(item);
      }
    }
    return array;
  }

  Object.extend(arrayProto, Enumerable);

  if (!arrayProto._reverse)
    arrayProto._reverse = arrayProto.reverse;

  Object.extend(arrayProto, {
    _each:     _each,
    clear:     clear,
    first:     first,
    last:      last,
    compact:   compact,
    flatten:   flatten,
    without:   without,
    reverse:   reverse,
    uniq:      uniq,
    intersect: intersect,
    clone:     clone,
    toArray:   clone,
    size:      size,
    inspect:   inspect
  });

  var CONCAT_ARGUMENTS_BUGGY = (function() {
    return [].concat(arguments)[0][0] !== 1;
  })(1,2)

  if (CONCAT_ARGUMENTS_BUGGY) arrayProto.concat = concat;

  if (!arrayProto.indexOf) arrayProto.indexOf = indexOf;
  if (!arrayProto.lastIndexOf) arrayProto.lastIndexOf = lastIndexOf;
})();
function $H(object) {
  return new Hash(object);
};

var Hash = Class.create(Enumerable, (function() {
  function initialize(object) {
    this._object = Object.isHash(object) ? object.toObject() : Object.clone(object);
  }


  function _each(iterator) {
    for (var key in this._object) {
      var value = this._object[key], pair = [key, value];
      pair.key = key;
      pair.value = value;
      iterator(pair);
    }
  }

  function set(key, value) {
    return this._object[key] = value;
  }

  function get(key) {
    if (this._object[key] !== Object.prototype[key])
      return this._object[key];
  }

  function unset(key) {
    var value = this._object[key];
    delete this._object[key];
    return value;
  }

  function toObject() {
    return Object.clone(this._object);
  }



  function keys() {
    return this.pluck('key');
  }

  function values() {
    return this.pluck('value');
  }

  function index(value) {
    var match = this.detect(function(pair) {
      return pair.value === value;
    });
    return match && match.key;
  }

  function merge(object) {
    return this.clone().update(object);
  }

  function update(object) {
    return new Hash(object).inject(this, function(result, pair) {
      result.set(pair.key, pair.value);
      return result;
    });
  }

  function toQueryPair(key, value) {
    if (Object.isUndefined(value)) return key;
    return key + '=' + encodeURIComponent(String.interpret(value));
  }

  function toQueryString() {
    return this.inject([], function(results, pair) {
      var key = encodeURIComponent(pair.key), values = pair.value;

      if (values && typeof values == 'object') {
        if (Object.isArray(values)) {
          var queryValues = [];
          for (var i = 0, len = values.length, value; i < len; i++) {
            value = values[i];
            queryValues.push(toQueryPair(key, value));
          }
          return results.concat(queryValues);
        }
      } else results.push(toQueryPair(key, values));
      return results;
    }).join('&');
  }

  function inspect() {
    return '#<Hash:{' + this.map(function(pair) {
      return pair.map(Object.inspect).join(': ');
    }).join(', ') + '}>';
  }

  function clone() {
    return new Hash(this);
  }

  return {
    initialize:             initialize,
    _each:                  _each,
    set:                    set,
    get:                    get,
    unset:                  unset,
    toObject:               toObject,
    toTemplateReplacements: toObject,
    keys:                   keys,
    values:                 values,
    index:                  index,
    merge:                  merge,
    update:                 update,
    toQueryString:          toQueryString,
    inspect:                inspect,
    toJSON:                 toObject,
    clone:                  clone
  };
})());

Hash.from = $H;
Object.extend(Number.prototype, (function() {
  function toColorPart() {
    return this.toPaddedString(2, 16);
  }

  function succ() {
    return this + 1;
  }

  function times(iterator, context) {
    $R(0, this, true).each(iterator, context);
    return this;
  }

  function toPaddedString(length, radix) {
    var string = this.toString(radix || 10);
    return '0'.times(length - string.length) + string;
  }

  function abs() {
    return Math.abs(this);
  }

  function round() {
    return Math.round(this);
  }

  function ceil() {
    return Math.ceil(this);
  }

  function floor() {
    return Math.floor(this);
  }

  return {
    toColorPart:    toColorPart,
    succ:           succ,
    times:          times,
    toPaddedString: toPaddedString,
    abs:            abs,
    round:          round,
    ceil:           ceil,
    floor:          floor
  };
})());

function $R(start, end, exclusive) {
  return new ObjectRange(start, end, exclusive);
}

var ObjectRange = Class.create(Enumerable, (function() {
  function initialize(start, end, exclusive) {
    this.start = start;
    this.end = end;
    this.exclusive = exclusive;
  }

  function _each(iterator) {
    var value = this.start;
    while (this.include(value)) {
      iterator(value);
      value = value.succ();
    }
  }

  function include(value) {
    if (value < this.start)
      return false;
    if (this.exclusive)
      return value < this.end;
    return value <= this.end;
  }

  return {
    initialize: initialize,
    _each:      _each,
    include:    include
  };
})());



var Ajax = {
  getTransport: function() {
    return Try.these(
      function() {return new XMLHttpRequest()},
      function() {return new ActiveXObject('Msxml2.XMLHTTP')},
      function() {return new ActiveXObject('Microsoft.XMLHTTP')}
    ) || false;
  },

  activeRequestCount: 0
};

Ajax.Responders = {
  responders: [],

  _each: function(iterator) {
    this.responders._each(iterator);
  },

  register: function(responder) {
    if (!this.include(responder))
      this.responders.push(responder);
  },

  unregister: function(responder) {
    this.responders = this.responders.without(responder);
  },

  dispatch: function(callback, request, transport, json) {
    this.each(function(responder) {
      if (Object.isFunction(responder[callback])) {
        try {
          responder[callback].apply(responder, [request, transport, json]);
        } catch (e) { }
      }
    });
  }
};

Object.extend(Ajax.Responders, Enumerable);

Ajax.Responders.register({
  onCreate:   function() { Ajax.activeRequestCount++ },
  onComplete: function() { Ajax.activeRequestCount-- }
});
Ajax.Base = Class.create({
  initialize: function(options) {
    this.options = {
      method:       'post',
      asynchronous: true,
      contentType:  'application/x-www-form-urlencoded',
      encoding:     'UTF-8',
      parameters:   '',
      evalJSON:     true,
      evalJS:       true
    };
    Object.extend(this.options, options || { });

    this.options.method = this.options.method.toLowerCase();

    if (Object.isHash(this.options.parameters))
      this.options.parameters = this.options.parameters.toObject();
  }
});
Ajax.Request = Class.create(Ajax.Base, {
  _complete: false,

  initialize: function($super, url, options) {
    $super(options);
    this.transport = Ajax.getTransport();
    this.request(url);
  },

  request: function(url) {
    this.url = url;
    this.method = this.options.method;
    var params = Object.isString(this.options.parameters) ?
          this.options.parameters :
          Object.toQueryString(this.options.parameters);

    if (!['get', 'post'].include(this.method)) {
      params += (params ? '&' : '') + "_method=" + this.method;
      this.method = 'post';
    }

    if (params && this.method === 'get') {
      this.url += (this.url.include('?') ? '&' : '?') + params;
    }

    this.parameters = params.toQueryParams();

    try {
      var response = new Ajax.Response(this);
      if (this.options.onCreate) this.options.onCreate(response);
      Ajax.Responders.dispatch('onCreate', this, response);

      this.transport.open(this.method.toUpperCase(), this.url,
        this.options.asynchronous);

      if (this.options.asynchronous) this.respondToReadyState.bind(this).defer(1);

      this.transport.onreadystatechange = this.onStateChange.bind(this);
      this.setRequestHeaders();

      this.body = this.method == 'post' ? (this.options.postBody || params) : null;
      this.transport.send(this.body);

      /* Force Firefox to handle ready state 4 for synchronous requests */
      if (!this.options.asynchronous && this.transport.overrideMimeType)
        this.onStateChange();

    }
    catch (e) {
      this.dispatchException(e);
    }
  },

  onStateChange: function() {
    var readyState = this.transport.readyState;
    if (readyState > 1 && !((readyState == 4) && this._complete))
      this.respondToReadyState(this.transport.readyState);
  },

  setRequestHeaders: function() {
    var headers = {
      'X-Requested-With': 'XMLHttpRequest',
      'X-Prototype-Version': Prototype.Version,
      'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
    };

    if (this.method == 'post') {
      headers['Content-type'] = this.options.contentType +
        (this.options.encoding ? '; charset=' + this.options.encoding : '');

      /* Force "Connection: close" for older Mozilla browsers to work
       * around a bug where XMLHttpRequest sends an incorrect
       * Content-length header. See Mozilla Bugzilla #246651.
       */
      if (this.transport.overrideMimeType &&
          (navigator.userAgent.match(/Gecko\/(\d{4})/) || [0,2005])[1] < 2005)
            headers['Connection'] = 'close';
    }

    if (typeof this.options.requestHeaders == 'object') {
      var extras = this.options.requestHeaders;

      if (Object.isFunction(extras.push))
        for (var i = 0, length = extras.length; i < length; i += 2)
          headers[extras[i]] = extras[i+1];
      else
        $H(extras).each(function(pair) { headers[pair.key] = pair.value });
    }

    for (var name in headers)
      this.transport.setRequestHeader(name, headers[name]);
  },

  success: function() {
    var status = this.getStatus();
    return !status || (status >= 200 && status < 300) || status == 304;
  },

  getStatus: function() {
    try {
      if (this.transport.status === 1223) return 204;
      return this.transport.status || 0;
    } catch (e) { return 0 }
  },

  respondToReadyState: function(readyState) {
    var state = Ajax.Request.Events[readyState], response = new Ajax.Response(this);

    if (state == 'Complete') {
      try {
        this._complete = true;
        (this.options['on' + response.status]
         || this.options['on' + (this.success() ? 'Success' : 'Failure')]
         || Prototype.emptyFunction)(response, response.headerJSON);
      } catch (e) {
        this.dispatchException(e);
      }

      var contentType = response.getHeader('Content-type');
      if (this.options.evalJS == 'force'
          || (this.options.evalJS && this.isSameOrigin() && contentType
          && contentType.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i)))
        this.evalResponse();
    }

    try {
      (this.options['on' + state] || Prototype.emptyFunction)(response, response.headerJSON);
      Ajax.Responders.dispatch('on' + state, this, response, response.headerJSON);
    } catch (e) {
      this.dispatchException(e);
    }

    if (state == 'Complete') {
      this.transport.onreadystatechange = Prototype.emptyFunction;
    }
  },

  isSameOrigin: function() {
    var m = this.url.match(/^\s*https?:\/\/[^\/]*/);
    return !m || (m[0] == '#{protocol}//#{domain}#{port}'.interpolate({
      protocol: location.protocol,
      domain: document.domain,
      port: location.port ? ':' + location.port : ''
    }));
  },

  getHeader: function(name) {
    try {
      return this.transport.getResponseHeader(name) || null;
    } catch (e) { return null; }
  },

  evalResponse: function() {
    try {
      return eval((this.transport.responseText || '').unfilterJSON());
    } catch (e) {
      this.dispatchException(e);
    }
  },

  dispatchException: function(exception) {
    (this.options.onException || Prototype.emptyFunction)(this, exception);
    Ajax.Responders.dispatch('onException', this, exception);
  }
});

Ajax.Request.Events =
  ['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete'];








Ajax.Response = Class.create({
  initialize: function(request){
    this.request = request;
    var transport  = this.transport  = request.transport,
        readyState = this.readyState = transport.readyState;

    if ((readyState > 2 && !Prototype.Browser.IE) || readyState == 4) {
      this.status       = this.getStatus();
      this.statusText   = this.getStatusText();
      this.responseText = String.interpret(transport.responseText);
      this.headerJSON   = this._getHeaderJSON();
    }

    if (readyState == 4) {
      var xml = transport.responseXML;
      this.responseXML  = Object.isUndefined(xml) ? null : xml;
      this.responseJSON = this._getResponseJSON();
    }
  },

  status:      0,

  statusText: '',

  getStatus: Ajax.Request.prototype.getStatus,

  getStatusText: function() {
    try {
      return this.transport.statusText || '';
    } catch (e) { return '' }
  },

  getHeader: Ajax.Request.prototype.getHeader,

  getAllHeaders: function() {
    try {
      return this.getAllResponseHeaders();
    } catch (e) { return null }
  },

  getResponseHeader: function(name) {
    return this.transport.getResponseHeader(name);
  },

  getAllResponseHeaders: function() {
    return this.transport.getAllResponseHeaders();
  },

  _getHeaderJSON: function() {
    var json = this.getHeader('X-JSON');
    if (!json) return null;
    json = decodeURIComponent(escape(json));
    try {
      return json.evalJSON(this.request.options.sanitizeJSON ||
        !this.request.isSameOrigin());
    } catch (e) {
      this.request.dispatchException(e);
    }
  },

  _getResponseJSON: function() {
    var options = this.request.options;
    if (!options.evalJSON || (options.evalJSON != 'force' &&
      !(this.getHeader('Content-type') || '').include('application/json')) ||
        this.responseText.blank())
          return null;
    try {
      return this.responseText.evalJSON(options.sanitizeJSON ||
        !this.request.isSameOrigin());
    } catch (e) {
      this.request.dispatchException(e);
    }
  }
});

Ajax.Updater = Class.create(Ajax.Request, {
  initialize: function($super, container, url, options) {
    this.container = {
      success: (container.success || container),
      failure: (container.failure || (container.success ? null : container))
    };

    options = Object.clone(options);
    var onComplete = options.onComplete;
    options.onComplete = (function(response, json) {
      this.updateContent(response.responseText);
      if (Object.isFunction(onComplete)) onComplete(response, json);
    }).bind(this);

    $super(url, options);
  },

  updateContent: function(responseText) {
    var receiver = this.container[this.success() ? 'success' : 'failure'],
        options = this.options;

    if (!options.evalScripts) responseText = responseText.stripScripts();

    if (receiver = $(receiver)) {
      if (options.insertion) {
        if (Object.isString(options.insertion)) {
          var insertion = { }; insertion[options.insertion] = responseText;
          receiver.insert(insertion);
        }
        else options.insertion(receiver, responseText);
      }
      else receiver.update(responseText);
    }
  }
});

Ajax.PeriodicalUpdater = Class.create(Ajax.Base, {
  initialize: function($super, container, url, options) {
    $super(options);
    this.onComplete = this.options.onComplete;

    this.frequency = (this.options.frequency || 2);
    this.decay = (this.options.decay || 1);

    this.updater = { };
    this.container = container;
    this.url = url;

    this.start();
  },

  start: function() {
    this.options.onComplete = this.updateComplete.bind(this);
    this.onTimerEvent();
  },

  stop: function() {
    this.updater.options.onComplete = undefined;
    clearTimeout(this.timer);
    (this.onComplete || Prototype.emptyFunction).apply(this, arguments);
  },

  updateComplete: function(response) {
    if (this.options.decay) {
      this.decay = (response.responseText == this.lastText ?
        this.decay * this.options.decay : 1);

      this.lastText = response.responseText;
    }
    this.timer = this.onTimerEvent.bind(this).delay(this.decay * this.frequency);
  },

  onTimerEvent: function() {
    this.updater = new Ajax.Updater(this.container, this.url, this.options);
  }
});


function $(element) {
  if (arguments.length > 1) {
    for (var i = 0, elements = [], length = arguments.length; i < length; i++)
      elements.push($(arguments[i]));
    return elements;
  }
  if (Object.isString(element))
    element = document.getElementById(element);
  return Element.extend(element);
}

if (Prototype.BrowserFeatures.XPath) {
  document._getElementsByXPath = function(expression, parentElement) {
    var results = [];
    var query = document.evaluate(expression, $(parentElement) || document,
      null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
    for (var i = 0, length = query.snapshotLength; i < length; i++)
      results.push(Element.extend(query.snapshotItem(i)));
    return results;
  };
}

/*--------------------------------------------------------------------------*/

if (!Node) var Node = { };

if (!Node.ELEMENT_NODE) {
  Object.extend(Node, {
    ELEMENT_NODE: 1,
    ATTRIBUTE_NODE: 2,
    TEXT_NODE: 3,
    CDATA_SECTION_NODE: 4,
    ENTITY_REFERENCE_NODE: 5,
    ENTITY_NODE: 6,
    PROCESSING_INSTRUCTION_NODE: 7,
    COMMENT_NODE: 8,
    DOCUMENT_NODE: 9,
    DOCUMENT_TYPE_NODE: 10,
    DOCUMENT_FRAGMENT_NODE: 11,
    NOTATION_NODE: 12
  });
}



(function(global) {
  function shouldUseCache(tagName, attributes) {
    if (tagName === 'select') return false;
    if ('type' in attributes) return false;
    return true;
  }

  var HAS_EXTENDED_CREATE_ELEMENT_SYNTAX = (function(){
    try {
      var el = document.createElement('<input name="x">');
      return el.tagName.toLowerCase() === 'input' && el.name === 'x';
    }
    catch(err) {
      return false;
    }
  })();

  var element = global.Element;

  global.Element = function(tagName, attributes) {
    attributes = attributes || { };
    tagName = tagName.toLowerCase();
    var cache = Element.cache;

    if (HAS_EXTENDED_CREATE_ELEMENT_SYNTAX && attributes.name) {
      tagName = '<' + tagName + ' name="' + attributes.name + '">';
      delete attributes.name;
      return Element.writeAttribute(document.createElement(tagName), attributes);
    }

    if (!cache[tagName]) cache[tagName] = Element.extend(document.createElement(tagName));

    var node = shouldUseCache(tagName, attributes) ?
     cache[tagName].cloneNode(false) : document.createElement(tagName);

    return Element.writeAttribute(node, attributes);
  };

  Object.extend(global.Element, element || { });
  if (element) global.Element.prototype = element.prototype;

})(this);

Element.idCounter = 1;
Element.cache = { };

Element._purgeElement = function(element) {
  var uid = element._prototypeUID;
  if (uid) {
    Element.stopObserving(element);
    element._prototypeUID = void 0;
    delete Element.Storage[uid];
  }
}

Element.Methods = {
  visible: function(element) {
    return $(element).style.display != 'none';
  },

  toggle: function(element) {
    element = $(element);
    Element[Element.visible(element) ? 'hide' : 'show'](element);
    return element;
  },

  hide: function(element) {
    element = $(element);
    element.style.display = 'none';
    return element;
  },

  show: function(element) {
    element = $(element);
    element.style.display = '';
    return element;
  },

  remove: function(element) {
    element = $(element);
    element.parentNode.removeChild(element);
    return element;
  },

  update: (function(){

    var SELECT_ELEMENT_INNERHTML_BUGGY = (function(){
      var el = document.createElement("select"),
          isBuggy = true;
      el.innerHTML = "<option value=\"test\">test</option>";
      if (el.options && el.options[0]) {
        isBuggy = el.options[0].nodeName.toUpperCase() !== "OPTION";
      }
      el = null;
      return isBuggy;
    })();

    var TABLE_ELEMENT_INNERHTML_BUGGY = (function(){
      try {
        var el = document.createElement("table");
        if (el && el.tBodies) {
          el.innerHTML = "<tbody><tr><td>test</td></tr></tbody>";
          var isBuggy = typeof el.tBodies[0] == "undefined";
          el = null;
          return isBuggy;
        }
      } catch (e) {
        return true;
      }
    })();

    var LINK_ELEMENT_INNERHTML_BUGGY = (function() {
      try {
        var el = document.createElement('div');
        el.innerHTML = "<link>";
        var isBuggy = (el.childNodes.length === 0);
        el = null;
        return isBuggy;
      } catch(e) {
        return true;
      }
    })();

    var ANY_INNERHTML_BUGGY = SELECT_ELEMENT_INNERHTML_BUGGY ||
     TABLE_ELEMENT_INNERHTML_BUGGY || LINK_ELEMENT_INNERHTML_BUGGY;

    var SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING = (function () {
      var s = document.createElement("script"),
          isBuggy = false;
      try {
        s.appendChild(document.createTextNode(""));
        isBuggy = !s.firstChild ||
          s.firstChild && s.firstChild.nodeType !== 3;
      } catch (e) {
        isBuggy = true;
      }
      s = null;
      return isBuggy;
    })();


    function update(element, content) {
      element = $(element);
      var purgeElement = Element._purgeElement;

      var descendants = element.getElementsByTagName('*'),
       i = descendants.length;
      while (i--) purgeElement(descendants[i]);

      if (content && content.toElement)
        content = content.toElement();

      if (Object.isElement(content))
        return element.update().insert(content);

      content = Object.toHTML(content);

      var tagName = element.tagName.toUpperCase();

      if (tagName === 'SCRIPT' && SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING) {
        element.text = content;
        return element;
      }

      if (ANY_INNERHTML_BUGGY) {
        if (tagName in Element._insertionTranslations.tags) {
          while (element.firstChild) {
            element.removeChild(element.firstChild);
          }
          Element._getContentFromAnonymousElement(tagName, content.stripScripts())
            .each(function(node) {
              element.appendChild(node)
            });
        } else if (LINK_ELEMENT_INNERHTML_BUGGY && Object.isString(content) && content.indexOf('<link') > -1) {
          while (element.firstChild) {
            element.removeChild(element.firstChild);
          }
          var nodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts(), true);
          nodes.each(function(node) { element.appendChild(node) });
        }
        else {
          element.innerHTML = content.stripScripts();
        }
      }
      else {
        element.innerHTML = content.stripScripts();
      }

      content.evalScripts.bind(content).defer();
      return element;
    }

    return update;
  })(),

  replace: function(element, content) {
    element = $(element);
    if (content && content.toElement) content = content.toElement();
    else if (!Object.isElement(content)) {
      content = Object.toHTML(content);
      var range = element.ownerDocument.createRange();
      range.selectNode(element);
      content.evalScripts.bind(content).defer();
      content = range.createContextualFragment(content.stripScripts());
    }
    element.parentNode.replaceChild(content, element);
    return element;
  },

  insert: function(element, insertions) {
    element = $(element);

    if (Object.isString(insertions) || Object.isNumber(insertions) ||
        Object.isElement(insertions) || (insertions && (insertions.toElement || insertions.toHTML)))
          insertions = {bottom:insertions};

    var content, insert, tagName, childNodes;

    for (var position in insertions) {
      content  = insertions[position];
      position = position.toLowerCase();
      insert = Element._insertionTranslations[position];

      if (content && content.toElement) content = content.toElement();
      if (Object.isElement(content)) {
        insert(element, content);
        continue;
      }

      content = Object.toHTML(content);

      tagName = ((position == 'before' || position == 'after')
        ? element.parentNode : element).tagName.toUpperCase();

      childNodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts());

      if (position == 'top' || position == 'after') childNodes.reverse();
      childNodes.each(insert.curry(element));

      content.evalScripts.bind(content).defer();
    }

    return element;
  },

  wrap: function(element, wrapper, attributes) {
    element = $(element);
    if (Object.isElement(wrapper))
      $(wrapper).writeAttribute(attributes || { });
    else if (Object.isString(wrapper)) wrapper = new Element(wrapper, attributes);
    else wrapper = new Element('div', wrapper);
    if (element.parentNode)
      element.parentNode.replaceChild(wrapper, element);
    wrapper.appendChild(element);
    return wrapper;
  },

  inspect: function(element) {
    element = $(element);
    var result = '<' + element.tagName.toLowerCase();
    $H({'id': 'id', 'className': 'class'}).each(function(pair) {
      var property = pair.first(),
          attribute = pair.last(),
          value = (element[property] || '').toString();
      if (value) result += ' ' + attribute + '=' + value.inspect(true);
    });
    return result + '>';
  },

  recursivelyCollect: function(element, property, maximumLength) {
    element = $(element);
    maximumLength = maximumLength || -1;
    var elements = [];

    while (element = element[property]) {
      if (element.nodeType == 1)
        elements.push(Element.extend(element));
      if (elements.length == maximumLength)
        break;
    }

    return elements;
  },

  ancestors: function(element) {
    return Element.recursivelyCollect(element, 'parentNode');
  },

  descendants: function(element) {
    return Element.select(element, "*");
  },

  firstDescendant: function(element) {
    element = $(element).firstChild;
    while (element && element.nodeType != 1) element = element.nextSibling;
    return $(element);
  },

  immediateDescendants: function(element) {
    var results = [], child = $(element).firstChild;
    while (child) {
      if (child.nodeType === 1) {
        results.push(Element.extend(child));
      }
      child = child.nextSibling;
    }
    return results;
  },

  previousSiblings: function(element, maximumLength) {
    return Element.recursivelyCollect(element, 'previousSibling');
  },

  nextSiblings: function(element) {
    return Element.recursivelyCollect(element, 'nextSibling');
  },

  siblings: function(element) {
    element = $(element);
    return Element.previousSiblings(element).reverse()
      .concat(Element.nextSiblings(element));
  },

  match: function(element, selector) {
    element = $(element);
    if (Object.isString(selector))
      return Prototype.Selector.match(element, selector);
    return selector.match(element);
  },

  up: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(element.parentNode);
    var ancestors = Element.ancestors(element);
    return Object.isNumber(expression) ? ancestors[expression] :
      Prototype.Selector.find(ancestors, expression, index);
  },

  down: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return Element.firstDescendant(element);
    return Object.isNumber(expression) ? Element.descendants(element)[expression] :
      Element.select(element, expression)[index || 0];
  },

  previous: function(element, expression, index) {
    element = $(element);
    if (Object.isNumber(expression)) index = expression, expression = false;
    if (!Object.isNumber(index)) index = 0;

    if (expression) {
      return Prototype.Selector.find(element.previousSiblings(), expression, index);
    } else {
      return element.recursivelyCollect("previousSibling", index + 1)[index];
    }
  },

  next: function(element, expression, index) {
    element = $(element);
    if (Object.isNumber(expression)) index = expression, expression = false;
    if (!Object.isNumber(index)) index = 0;

    if (expression) {
      return Prototype.Selector.find(element.nextSiblings(), expression, index);
    } else {
      var maximumLength = Object.isNumber(index) ? index + 1 : 1;
      return element.recursivelyCollect("nextSibling", index + 1)[index];
    }
  },


  select: function(element) {
    element = $(element);
    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');
    return Prototype.Selector.select(expressions, element);
  },

  adjacent: function(element) {
    element = $(element);
    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');
    return Prototype.Selector.select(expressions, element.parentNode).without(element);
  },

  identify: function(element) {
    element = $(element);
    var id = Element.readAttribute(element, 'id');
    if (id) return id;
    do { id = 'anonymous_element_' + Element.idCounter++ } while ($(id));
    Element.writeAttribute(element, 'id', id);
    return id;
  },

  readAttribute: function(element, name) {
    element = $(element);
    if (Prototype.Browser.IE) {
      var t = Element._attributeTranslations.read;
      if (t.values[name]) return t.values[name](element, name);
      if (t.names[name]) name = t.names[name];
      if (name.include(':')) {
        return (!element.attributes || !element.attributes[name]) ? null :
         element.attributes[name].value;
      }
    }
    return element.getAttribute(name);
  },

  writeAttribute: function(element, name, value) {
    element = $(element);
    var attributes = { }, t = Element._attributeTranslations.write;

    if (typeof name == 'object') attributes = name;
    else attributes[name] = Object.isUndefined(value) ? true : value;

    for (var attr in attributes) {
      name = t.names[attr] || attr;
      value = attributes[attr];
      if (t.values[attr]) name = t.values[attr](element, value);
      if (value === false || value === null)
        element.removeAttribute(name);
      else if (value === true)
        element.setAttribute(name, name);
      else element.setAttribute(name, value);
    }
    return element;
  },

  getHeight: function(element) {
    return Element.getDimensions(element).height;
  },

  getWidth: function(element) {
    return Element.getDimensions(element).width;
  },

  classNames: function(element) {
    return new Element.ClassNames(element);
  },

  hasClassName: function(element, className) {
    if (!(element = $(element))) return;
    var elementClassName = element.className;
    return (elementClassName.length > 0 && (elementClassName == className ||
      new RegExp("(^|\\s)" + className + "(\\s|$)").test(elementClassName)));
  },

  addClassName: function(element, className) {
    if (!(element = $(element))) return;
    if (!Element.hasClassName(element, className))
      element.className += (element.className ? ' ' : '') + className;
    return element;
  },

  removeClassName: function(element, className) {
    if (!(element = $(element))) return;
    element.className = element.className.replace(
      new RegExp("(^|\\s+)" + className + "(\\s+|$)"), ' ').strip();
    return element;
  },

  toggleClassName: function(element, className) {
    if (!(element = $(element))) return;
    return Element[Element.hasClassName(element, className) ?
      'removeClassName' : 'addClassName'](element, className);
  },

  cleanWhitespace: function(element) {
    element = $(element);
    var node = element.firstChild;
    while (node) {
      var nextNode = node.nextSibling;
      if (node.nodeType == 3 && !/\S/.test(node.nodeValue))
        element.removeChild(node);
      node = nextNode;
    }
    return element;
  },

  empty: function(element) {
    return $(element).innerHTML.blank();
  },

  descendantOf: function(element, ancestor) {
    element = $(element), ancestor = $(ancestor);

    if (element.compareDocumentPosition)
      return (element.compareDocumentPosition(ancestor) & 8) === 8;

    if (ancestor.contains)
      return ancestor.contains(element) && ancestor !== element;

    while (element = element.parentNode)
      if (element == ancestor) return true;

    return false;
  },

  scrollTo: function(element) {
    element = $(element);
    var pos = Element.cumulativeOffset(element);
    window.scrollTo(pos[0], pos[1]);
    return element;
  },

  getStyle: function(element, style) {
    element = $(element);
    style = style == 'float' ? 'cssFloat' : style.camelize();
    var value = element.style[style];
    if (!value || value == 'auto') {
      var css = document.defaultView.getComputedStyle(element, null);
      value = css ? css[style] : null;
    }
    if (style == 'opacity') return value ? parseFloat(value) : 1.0;
    return value == 'auto' ? null : value;
  },

  getOpacity: function(element) {
    return $(element).getStyle('opacity');
  },

  setStyle: function(element, styles) {
    element = $(element);
    var elementStyle = element.style, match;
    if (Object.isString(styles)) {
      element.style.cssText += ';' + styles;
      return styles.include('opacity') ?
        element.setOpacity(styles.match(/opacity:\s*(\d?\.?\d*)/)[1]) : element;
    }
    for (var property in styles)
      if (property == 'opacity') element.setOpacity(styles[property]);
      else
        elementStyle[(property == 'float' || property == 'cssFloat') ?
          (Object.isUndefined(elementStyle.styleFloat) ? 'cssFloat' : 'styleFloat') :
            property] = styles[property];

    return element;
  },

  setOpacity: function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1 || value === '') ? '' :
      (value < 0.00001) ? 0 : value;
    return element;
  },

  makePositioned: function(element) {
    element = $(element);
    var pos = Element.getStyle(element, 'position');
    if (pos == 'static' || !pos) {
      element._madePositioned = true;
      element.style.position = 'relative';
      if (Prototype.Browser.Opera) {
        element.style.top = 0;
        element.style.left = 0;
      }
    }
    return element;
  },

  undoPositioned: function(element) {
    element = $(element);
    if (element._madePositioned) {
      element._madePositioned = undefined;
      element.style.position =
        element.style.top =
        element.style.left =
        element.style.bottom =
        element.style.right = '';
    }
    return element;
  },

  makeClipping: function(element) {
    element = $(element);
    if (element._overflow) return element;
    element._overflow = Element.getStyle(element, 'overflow') || 'auto';
    if (element._overflow !== 'hidden')
      element.style.overflow = 'hidden';
    return element;
  },

  undoClipping: function(element) {
    element = $(element);
    if (!element._overflow) return element;
    element.style.overflow = element._overflow == 'auto' ? '' : element._overflow;
    element._overflow = null;
    return element;
  },

  clonePosition: function(element, source) {
    var options = Object.extend({
      setLeft:    true,
      setTop:     true,
      setWidth:   true,
      setHeight:  true,
      offsetTop:  0,
      offsetLeft: 0
    }, arguments[2] || { });

    source = $(source);
    var p = Element.viewportOffset(source), delta = [0, 0], parent = null;

    element = $(element);

    if (Element.getStyle(element, 'position') == 'absolute') {
      parent = Element.getOffsetParent(element);
      delta = Element.viewportOffset(parent);
    }

    if (parent == document.body) {
      delta[0] -= document.body.offsetLeft;
      delta[1] -= document.body.offsetTop;
    }

    if (options.setLeft)   element.style.left  = (p[0] - delta[0] + options.offsetLeft) + 'px';
    if (options.setTop)    element.style.top   = (p[1] - delta[1] + options.offsetTop) + 'px';
    if (options.setWidth)  element.style.width = source.offsetWidth + 'px';
    if (options.setHeight) element.style.height = source.offsetHeight + 'px';
    return element;
  }
};

Object.extend(Element.Methods, {
  getElementsBySelector: Element.Methods.select,

  childElements: Element.Methods.immediateDescendants
});

Element._attributeTranslations = {
  write: {
    names: {
      className: 'class',
      htmlFor:   'for'
    },
    values: { }
  }
};

if (Prototype.Browser.Opera) {
  Element.Methods.getStyle = Element.Methods.getStyle.wrap(
    function(proceed, element, style) {
      switch (style) {
        case 'height': case 'width':
          if (!Element.visible(element)) return null;

          var dim = parseInt(proceed(element, style), 10);

          if (dim !== element['offset' + style.capitalize()])
            return dim + 'px';

          var properties;
          if (style === 'height') {
            properties = ['border-top-width', 'padding-top',
             'padding-bottom', 'border-bottom-width'];
          }
          else {
            properties = ['border-left-width', 'padding-left',
             'padding-right', 'border-right-width'];
          }
          return properties.inject(dim, function(memo, property) {
            var val = proceed(element, property);
            return val === null ? memo : memo - parseInt(val, 10);
          }) + 'px';
        default: return proceed(element, style);
      }
    }
  );

  Element.Methods.readAttribute = Element.Methods.readAttribute.wrap(
    function(proceed, element, attribute) {
      if (attribute === 'title') return element.title;
      return proceed(element, attribute);
    }
  );
}

else if (Prototype.Browser.IE) {
  Element.Methods.getStyle = function(element, style) {
    element = $(element);
    style = (style == 'float' || style == 'cssFloat') ? 'styleFloat' : style.camelize();
    var value = element.style[style];
    if (!value && element.currentStyle) value = element.currentStyle[style];

    if (style == 'opacity') {
      if (value = (element.getStyle('filter') || '').match(/alpha\(opacity=(.*)\)/))
        if (value[1]) return parseFloat(value[1]) / 100;
      return 1.0;
    }

    if (value == 'auto') {
      if ((style == 'width' || style == 'height') && (element.getStyle('display') != 'none'))
        return element['offset' + style.capitalize()] + 'px';
      return null;
    }
    return value;
  };

  Element.Methods.setOpacity = function(element, value) {
    function stripAlpha(filter){
      return filter.replace(/alpha\([^\)]*\)/gi,'');
    }
    element = $(element);
    var currentStyle = element.currentStyle;
    if ((currentStyle && !currentStyle.hasLayout) ||
      (!currentStyle && element.style.zoom == 'normal'))
        element.style.zoom = 1;

    var filter = element.getStyle('filter'), style = element.style;
    if (value == 1 || value === '') {
      (filter = stripAlpha(filter)) ?
        style.filter = filter : style.removeAttribute('filter');
      return element;
    } else if (value < 0.00001) value = 0;
    style.filter = stripAlpha(filter) +
      'alpha(opacity=' + (value * 100) + ')';
    return element;
  };

  Element._attributeTranslations = (function(){

    var classProp = 'className',
        forProp = 'for',
        el = document.createElement('div');

    el.setAttribute(classProp, 'x');

    if (el.className !== 'x') {
      el.setAttribute('class', 'x');
      if (el.className === 'x') {
        classProp = 'class';
      }
    }
    el = null;

    el = document.createElement('label');
    el.setAttribute(forProp, 'x');
    if (el.htmlFor !== 'x') {
      el.setAttribute('htmlFor', 'x');
      if (el.htmlFor === 'x') {
        forProp = 'htmlFor';
      }
    }
    el = null;

    return {
      read: {
        names: {
          'class':      classProp,
          'className':  classProp,
          'for':        forProp,
          'htmlFor':    forProp
        },
        values: {
          _getAttr: function(element, attribute) {
            return element.getAttribute(attribute);
          },
          _getAttr2: function(element, attribute) {
            return element.getAttribute(attribute, 2);
          },
          _getAttrNode: function(element, attribute) {
            var node = element.getAttributeNode(attribute);
            return node ? node.value : "";
          },
          _getEv: (function(){

            var el = document.createElement('div'), f;
            el.onclick = Prototype.emptyFunction;
            var value = el.getAttribute('onclick');

            if (String(value).indexOf('{') > -1) {
              f = function(element, attribute) {
                attribute = element.getAttribute(attribute);
                if (!attribute) return null;
                attribute = attribute.toString();
                attribute = attribute.split('{')[1];
                attribute = attribute.split('}')[0];
                return attribute.strip();
              };
            }
            else if (value === '') {
              f = function(element, attribute) {
                attribute = element.getAttribute(attribute);
                if (!attribute) return null;
                return attribute.strip();
              };
            }
            el = null;
            return f;
          })(),
          _flag: function(element, attribute) {
            return $(element).hasAttribute(attribute) ? attribute : null;
          },
          style: function(element) {
            return element.style.cssText.toLowerCase();
          },
          title: function(element) {
            return element.title;
          }
        }
      }
    }
  })();

  Element._attributeTranslations.write = {
    names: Object.extend({
      cellpadding: 'cellPadding',
      cellspacing: 'cellSpacing'
    }, Element._attributeTranslations.read.names),
    values: {
      checked: function(element, value) {
        element.checked = !!value;
      },

      style: function(element, value) {
        element.style.cssText = value ? value : '';
      }
    }
  };

  Element._attributeTranslations.has = {};

  $w('colSpan rowSpan vAlign dateTime accessKey tabIndex ' +
      'encType maxLength readOnly longDesc frameBorder').each(function(attr) {
    Element._attributeTranslations.write.names[attr.toLowerCase()] = attr;
    Element._attributeTranslations.has[attr.toLowerCase()] = attr;
  });

  (function(v) {
    Object.extend(v, {
      href:        v._getAttr2,
      src:         v._getAttr2,
      type:        v._getAttr,
      action:      v._getAttrNode,
      disabled:    v._flag,
      checked:     v._flag,
      readonly:    v._flag,
      multiple:    v._flag,
      onload:      v._getEv,
      onunload:    v._getEv,
      onclick:     v._getEv,
      ondblclick:  v._getEv,
      onmousedown: v._getEv,
      onmouseup:   v._getEv,
      onmouseover: v._getEv,
      onmousemove: v._getEv,
      onmouseout:  v._getEv,
      onfocus:     v._getEv,
      onblur:      v._getEv,
      onkeypress:  v._getEv,
      onkeydown:   v._getEv,
      onkeyup:     v._getEv,
      onsubmit:    v._getEv,
      onreset:     v._getEv,
      onselect:    v._getEv,
      onchange:    v._getEv
    });
  })(Element._attributeTranslations.read.values);

  if (Prototype.BrowserFeatures.ElementExtensions) {
    (function() {
      function _descendants(element) {
        var nodes = element.getElementsByTagName('*'), results = [];
        for (var i = 0, node; node = nodes[i]; i++)
          if (node.tagName !== "!") // Filter out comment nodes.
            results.push(node);
        return results;
      }

      Element.Methods.down = function(element, expression, index) {
        element = $(element);
        if (arguments.length == 1) return element.firstDescendant();
        return Object.isNumber(expression) ? _descendants(element)[expression] :
          Element.select(element, expression)[index || 0];
      }
    })();
  }

}

else if (Prototype.Browser.Gecko && /rv:1\.8\.0/.test(navigator.userAgent)) {
  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1) ? 0.999999 :
      (value === '') ? '' : (value < 0.00001) ? 0 : value;
    return element;
  };
}

else if (Prototype.Browser.WebKit) {
  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1 || value === '') ? '' :
      (value < 0.00001) ? 0 : value;

    if (value == 1)
      if (element.tagName.toUpperCase() == 'IMG' && element.width) {
        element.width++; element.width--;
      } else try {
        var n = document.createTextNode(' ');
        element.appendChild(n);
        element.removeChild(n);
      } catch (e) { }

    return element;
  };
}

if ('outerHTML' in document.documentElement) {
  Element.Methods.replace = function(element, content) {
    element = $(element);

    if (content && content.toElement) content = content.toElement();
    if (Object.isElement(content)) {
      element.parentNode.replaceChild(content, element);
      return element;
    }

    content = Object.toHTML(content);
    var parent = element.parentNode, tagName = parent.tagName.toUpperCase();

    if (Element._insertionTranslations.tags[tagName]) {
      var nextSibling = element.next(),
          fragments = Element._getContentFromAnonymousElement(tagName, content.stripScripts());
      parent.removeChild(element);
      if (nextSibling)
        fragments.each(function(node) { parent.insertBefore(node, nextSibling) });
      else
        fragments.each(function(node) { parent.appendChild(node) });
    }
    else element.outerHTML = content.stripScripts();

    content.evalScripts.bind(content).defer();
    return element;
  };
}

Element._returnOffset = function(l, t) {
  var result = [l, t];
  result.left = l;
  result.top = t;
  return result;
};

Element._getContentFromAnonymousElement = function(tagName, html, force) {
  var div = new Element('div'),
      t = Element._insertionTranslations.tags[tagName];

  var workaround = false;
  if (t) workaround = true;
  else if (force) {
    workaround = true;
    t = ['', '', 0];
  }

  if (workaround) {
    div.innerHTML = '&nbsp;' + t[0] + html + t[1];
    div.removeChild(div.firstChild);
    for (var i = t[2]; i--; ) {
      div = div.firstChild;
    }
  }
  else {
    div.innerHTML = html;
  }
  return $A(div.childNodes);
};

Element._insertionTranslations = {
  before: function(element, node) {
    element.parentNode.insertBefore(node, element);
  },
  top: function(element, node) {
    element.insertBefore(node, element.firstChild);
  },
  bottom: function(element, node) {
    element.appendChild(node);
  },
  after: function(element, node) {
    element.parentNode.insertBefore(node, element.nextSibling);
  },
  tags: {
    TABLE:  ['<table>',                '</table>',                   1],
    TBODY:  ['<table><tbody>',         '</tbody></table>',           2],
    TR:     ['<table><tbody><tr>',     '</tr></tbody></table>',      3],
    TD:     ['<table><tbody><tr><td>', '</td></tr></tbody></table>', 4],
    SELECT: ['<select>',               '</select>',                  1]
  }
};

(function() {
  var tags = Element._insertionTranslations.tags;
  Object.extend(tags, {
    THEAD: tags.TBODY,
    TFOOT: tags.TBODY,
    TH:    tags.TD
  });
})();

Element.Methods.Simulated = {
  hasAttribute: function(element, attribute) {
    attribute = Element._attributeTranslations.has[attribute] || attribute;
    var node = $(element).getAttributeNode(attribute);
    return !!(node && node.specified);
  }
};

Element.Methods.ByTag = { };

Object.extend(Element, Element.Methods);

(function(div) {

  if (!Prototype.BrowserFeatures.ElementExtensions && div['__proto__']) {
    window.HTMLElement = { };
    window.HTMLElement.prototype = div['__proto__'];
    Prototype.BrowserFeatures.ElementExtensions = true;
  }

  div = null;

})(document.createElement('div'));

Element.extend = (function() {

  function checkDeficiency(tagName) {
    if (typeof window.Element != 'undefined') {
      var proto = window.Element.prototype;
      if (proto) {
        var id = '_' + (Math.random()+'').slice(2),
            el = document.createElement(tagName);
        proto[id] = 'x';
        var isBuggy = (el[id] !== 'x');
        delete proto[id];
        el = null;
        return isBuggy;
      }
    }
    return false;
  }

  function extendElementWith(element, methods) {
    for (var property in methods) {
      var value = methods[property];
      if (Object.isFunction(value) && !(property in element))
        element[property] = value.methodize();
    }
  }

  var HTMLOBJECTELEMENT_PROTOTYPE_BUGGY = checkDeficiency('object');

  if (Prototype.BrowserFeatures.SpecificElementExtensions) {
    if (HTMLOBJECTELEMENT_PROTOTYPE_BUGGY) {
      return function(element) {
        if (element && typeof element._extendedByPrototype == 'undefined') {
          var t = element.tagName;
          if (t && (/^(?:object|applet|embed)$/i.test(t))) {
            extendElementWith(element, Element.Methods);
            extendElementWith(element, Element.Methods.Simulated);
            extendElementWith(element, Element.Methods.ByTag[t.toUpperCase()]);
          }
        }
        return element;
      }
    }
    return Prototype.K;
  }

  var Methods = { }, ByTag = Element.Methods.ByTag;

  var extend = Object.extend(function(element) {
    if (!element || typeof element._extendedByPrototype != 'undefined' ||
        element.nodeType != 1 || element == window) return element;

    var methods = Object.clone(Methods),
        tagName = element.tagName.toUpperCase();

    if (ByTag[tagName]) Object.extend(methods, ByTag[tagName]);

    extendElementWith(element, methods);

    element._extendedByPrototype = Prototype.emptyFunction;
    return element;

  }, {
    refresh: function() {
      if (!Prototype.BrowserFeatures.ElementExtensions) {
        Object.extend(Methods, Element.Methods);
        Object.extend(Methods, Element.Methods.Simulated);
      }
    }
  });

  extend.refresh();
  return extend;
})();

if (document.documentElement.hasAttribute) {
  Element.hasAttribute = function(element, attribute) {
    return element.hasAttribute(attribute);
  };
}
else {
  Element.hasAttribute = Element.Methods.Simulated.hasAttribute;
}

Element.addMethods = function(methods) {
  var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag;

  if (!methods) {
    Object.extend(Form, Form.Methods);
    Object.extend(Form.Element, Form.Element.Methods);
    Object.extend(Element.Methods.ByTag, {
      "FORM":     Object.clone(Form.Methods),
      "INPUT":    Object.clone(Form.Element.Methods),
      "SELECT":   Object.clone(Form.Element.Methods),
      "TEXTAREA": Object.clone(Form.Element.Methods),
      "BUTTON":   Object.clone(Form.Element.Methods)
    });
  }

  if (arguments.length == 2) {
    var tagName = methods;
    methods = arguments[1];
  }

  if (!tagName) Object.extend(Element.Methods, methods || { });
  else {
    if (Object.isArray(tagName)) tagName.each(extend);
    else extend(tagName);
  }

  function extend(tagName) {
    tagName = tagName.toUpperCase();
    if (!Element.Methods.ByTag[tagName])
      Element.Methods.ByTag[tagName] = { };
    Object.extend(Element.Methods.ByTag[tagName], methods);
  }

  function copy(methods, destination, onlyIfAbsent) {
    onlyIfAbsent = onlyIfAbsent || false;
    for (var property in methods) {
      var value = methods[property];
      if (!Object.isFunction(value)) continue;
      if (!onlyIfAbsent || !(property in destination))
        destination[property] = value.methodize();
    }
  }

  function findDOMClass(tagName) {
    var klass;
    var trans = {
      "OPTGROUP": "OptGroup", "TEXTAREA": "TextArea", "P": "Paragraph",
      "FIELDSET": "FieldSet", "UL": "UList", "OL": "OList", "DL": "DList",
      "DIR": "Directory", "H1": "Heading", "H2": "Heading", "H3": "Heading",
      "H4": "Heading", "H5": "Heading", "H6": "Heading", "Q": "Quote",
      "INS": "Mod", "DEL": "Mod", "A": "Anchor", "IMG": "Image", "CAPTION":
      "TableCaption", "COL": "TableCol", "COLGROUP": "TableCol", "THEAD":
      "TableSection", "TFOOT": "TableSection", "TBODY": "TableSection", "TR":
      "TableRow", "TH": "TableCell", "TD": "TableCell", "FRAMESET":
      "FrameSet", "IFRAME": "IFrame"
    };
    if (trans[tagName]) klass = 'HTML' + trans[tagName] + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName.capitalize() + 'Element';
    if (window[klass]) return window[klass];

    var element = document.createElement(tagName),
        proto = element['__proto__'] || element.constructor.prototype;

    element = null;
    return proto;
  }

  var elementPrototype = window.HTMLElement ? HTMLElement.prototype :
   Element.prototype;

  if (F.ElementExtensions) {
    copy(Element.Methods, elementPrototype);
    copy(Element.Methods.Simulated, elementPrototype, true);
  }

  if (F.SpecificElementExtensions) {
    for (var tag in Element.Methods.ByTag) {
      var klass = findDOMClass(tag);
      if (Object.isUndefined(klass)) continue;
      copy(T[tag], klass.prototype);
    }
  }

  Object.extend(Element, Element.Methods);
  delete Element.ByTag;

  if (Element.extend.refresh) Element.extend.refresh();
  Element.cache = { };
};


document.viewport = {

  getDimensions: function() {
    return { width: this.getWidth(), height: this.getHeight() };
  },

  getScrollOffsets: function() {
    return Element._returnOffset(
      window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,
      window.pageYOffset || document.documentElement.scrollTop  || document.body.scrollTop);
  }
};

(function(viewport) {
  var B = Prototype.Browser, doc = document, element, property = {};

  function getRootElement() {
    if (B.WebKit && !doc.evaluate)
      return document;

    if (B.Opera && window.parseFloat(window.opera.version()) < 9.5)
      return document.body;

    return document.documentElement;
  }

  function define(D) {
    if (!element) element = getRootElement();

    property[D] = 'client' + D;

    viewport['get' + D] = function() { return element[property[D]] };
    return viewport['get' + D]();
  }

  viewport.getWidth  = define.curry('Width');

  viewport.getHeight = define.curry('Height');
})(document.viewport);


Element.Storage = {
  UID: 1
};

Element.addMethods({
  getStorage: function(element) {
    if (!(element = $(element))) return;

    var uid;
    if (element === window) {
      uid = 0;
    } else {
      if (typeof element._prototypeUID === "undefined")
        element._prototypeUID = Element.Storage.UID++;
      uid = element._prototypeUID;
    }

    if (!Element.Storage[uid])
      Element.Storage[uid] = $H();

    return Element.Storage[uid];
  },

  store: function(element, key, value) {
    if (!(element = $(element))) return;

    if (arguments.length === 2) {
      Element.getStorage(element).update(key);
    } else {
      Element.getStorage(element).set(key, value);
    }

    return element;
  },

  retrieve: function(element, key, defaultValue) {
    if (!(element = $(element))) return;
    var hash = Element.getStorage(element), value = hash.get(key);

    if (Object.isUndefined(value)) {
      hash.set(key, defaultValue);
      value = defaultValue;
    }

    return value;
  },

  clone: function(element, deep) {
    if (!(element = $(element))) return;
    var clone = element.cloneNode(deep);
    clone._prototypeUID = void 0;
    if (deep) {
      var descendants = Element.select(clone, '*'),
          i = descendants.length;
      while (i--) {
        descendants[i]._prototypeUID = void 0;
      }
    }
    return Element.extend(clone);
  },

  purge: function(element) {
    if (!(element = $(element))) return;
    var purgeElement = Element._purgeElement;

    purgeElement(element);

    var descendants = element.getElementsByTagName('*'),
     i = descendants.length;

    while (i--) purgeElement(descendants[i]);

    return null;
  }
});

(function() {

  function toDecimal(pctString) {
    var match = pctString.match(/^(\d+)%?$/i);
    if (!match) return null;
    return (Number(match[1]) / 100);
  }

  function getPixelValue(value, property, context) {
    var element = null;
    if (Object.isElement(value)) {
      element = value;
      value = element.getStyle(property);
    }

    if (value === null) {
      return null;
    }

    if ((/^(?:-)?\d+(\.\d+)?(px)?$/i).test(value)) {
      return window.parseFloat(value);
    }

    var isPercentage = value.include('%'), isViewport = (context === document.viewport);

    if (/\d/.test(value) && element && element.runtimeStyle && !(isPercentage && isViewport)) {
      var style = element.style.left, rStyle = element.runtimeStyle.left;
      element.runtimeStyle.left = element.currentStyle.left;
      element.style.left = value || 0;
      value = element.style.pixelLeft;
      element.style.left = style;
      element.runtimeStyle.left = rStyle;

      return value;
    }

    if (element && isPercentage) {
      context = context || element.parentNode;
      var decimal = toDecimal(value);
      var whole = null;
      var position = element.getStyle('position');

      var isHorizontal = property.include('left') || property.include('right') ||
       property.include('width');

      var isVertical =  property.include('top') || property.include('bottom') ||
        property.include('height');

      if (context === document.viewport) {
        if (isHorizontal) {
          whole = document.viewport.getWidth();
        } else if (isVertical) {
          whole = document.viewport.getHeight();
        }
      } else {
        if (isHorizontal) {
          whole = $(context).measure('width');
        } else if (isVertical) {
          whole = $(context).measure('height');
        }
      }

      return (whole === null) ? 0 : whole * decimal;
    }

    return 0;
  }

  function toCSSPixels(number) {
    if (Object.isString(number) && number.endsWith('px')) {
      return number;
    }
    return number + 'px';
  }

  function isDisplayed(element) {
    var originalElement = element;
    while (element && element.parentNode) {
      var display = element.getStyle('display');
      if (display === 'none') {
        return false;
      }
      element = $(element.parentNode);
    }
    return true;
  }

  var hasLayout = Prototype.K;
  if ('currentStyle' in document.documentElement) {
    hasLayout = function(element) {
      if (!element.currentStyle.hasLayout) {
        element.style.zoom = 1;
      }
      return element;
    };
  }

  function cssNameFor(key) {
    if (key.include('border')) key = key + '-width';
    return key.camelize();
  }

  Element.Layout = Class.create(Hash, {
    initialize: function($super, element, preCompute) {
      $super();
      this.element = $(element);

      Element.Layout.PROPERTIES.each( function(property) {
        this._set(property, null);
      }, this);

      if (preCompute) {
        this._preComputing = true;
        this._begin();
        Element.Layout.PROPERTIES.each( this._compute, this );
        this._end();
        this._preComputing = false;
      }
    },

    _set: function(property, value) {
      return Hash.prototype.set.call(this, property, value);
    },

    set: function(property, value) {
      throw "Properties of Element.Layout are read-only.";
    },

    get: function($super, property) {
      var value = $super(property);
      return value === null ? this._compute(property) : value;
    },

    _begin: function() {
      if (this._prepared) return;

      var element = this.element;
      if (isDisplayed(element)) {
        this._prepared = true;
        return;
      }

      var originalStyles = {
        position:   element.style.position   || '',
        width:      element.style.width      || '',
        visibility: element.style.visibility || '',
        display:    element.style.display    || ''
      };

      element.store('prototype_original_styles', originalStyles);

      var position = element.getStyle('position'),
       width = element.getStyle('width');

      if (width === "0px" || width === null) {
        element.style.display = 'block';
        width = element.getStyle('width');
      }

      var context = (position === 'fixed') ? document.viewport :
       element.parentNode;

      element.setStyle({
        position:   'absolute',
        visibility: 'hidden',
        display:    'block'
      });

      var positionedWidth = element.getStyle('width');

      var newWidth;
      if (width && (positionedWidth === width)) {
        newWidth = getPixelValue(element, 'width', context);
      } else if (position === 'absolute' || position === 'fixed') {
        newWidth = getPixelValue(element, 'width', context);
      } else {
        var parent = element.parentNode, pLayout = $(parent).getLayout();

        newWidth = pLayout.get('width') -
         this.get('margin-left') -
         this.get('border-left') -
         this.get('padding-left') -
         this.get('padding-right') -
         this.get('border-right') -
         this.get('margin-right');
      }

      element.setStyle({ width: newWidth + 'px' });

      this._prepared = true;
    },

    _end: function() {
      var element = this.element;
      var originalStyles = element.retrieve('prototype_original_styles');
      element.store('prototype_original_styles', null);
      element.setStyle(originalStyles);
      this._prepared = false;
    },

    _compute: function(property) {
      var COMPUTATIONS = Element.Layout.COMPUTATIONS;
      if (!(property in COMPUTATIONS)) {
        throw "Property not found.";
      }

      return this._set(property, COMPUTATIONS[property].call(this, this.element));
    },

    toObject: function() {
      var args = $A(arguments);
      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :
       args.join(' ').split(' ');
      var obj = {};
      keys.each( function(key) {
        if (!Element.Layout.PROPERTIES.include(key)) return;
        var value = this.get(key);
        if (value != null) obj[key] = value;
      }, this);
      return obj;
    },

    toHash: function() {
      var obj = this.toObject.apply(this, arguments);
      return new Hash(obj);
    },

    toCSS: function() {
      var args = $A(arguments);
      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :
       args.join(' ').split(' ');
      var css = {};

      keys.each( function(key) {
        if (!Element.Layout.PROPERTIES.include(key)) return;
        if (Element.Layout.COMPOSITE_PROPERTIES.include(key)) return;

        var value = this.get(key);
        if (value != null) css[cssNameFor(key)] = value + 'px';
      }, this);
      return css;
    },

    inspect: function() {
      return "#<Element.Layout>";
    }
  });

  Object.extend(Element.Layout, {
    PROPERTIES: $w('height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height'),

    COMPOSITE_PROPERTIES: $w('padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height'),

    COMPUTATIONS: {
      'height': function(element) {
        if (!this._preComputing) this._begin();

        var bHeight = this.get('border-box-height');
        if (bHeight <= 0) {
          if (!this._preComputing) this._end();
          return 0;
        }

        var bTop = this.get('border-top'),
         bBottom = this.get('border-bottom');

        var pTop = this.get('padding-top'),
         pBottom = this.get('padding-bottom');

        if (!this._preComputing) this._end();

        return bHeight - bTop - bBottom - pTop - pBottom;
      },

      'width': function(element) {
        if (!this._preComputing) this._begin();

        var bWidth = this.get('border-box-width');
        if (bWidth <= 0) {
          if (!this._preComputing) this._end();
          return 0;
        }

        var bLeft = this.get('border-left'),
         bRight = this.get('border-right');

        var pLeft = this.get('padding-left'),
         pRight = this.get('padding-right');

        if (!this._preComputing) this._end();

        return bWidth - bLeft - bRight - pLeft - pRight;
      },

      'padding-box-height': function(element) {
        var height = this.get('height'),
         pTop = this.get('padding-top'),
         pBottom = this.get('padding-bottom');

        return height + pTop + pBottom;
      },

      'padding-box-width': function(element) {
        var width = this.get('width'),
         pLeft = this.get('padding-left'),
         pRight = this.get('padding-right');

        return width + pLeft + pRight;
      },

      'border-box-height': function(element) {
        if (!this._preComputing) this._begin();
        var height = element.offsetHeight;
        if (!this._preComputing) this._end();
        return height;
      },

      'border-box-width': function(element) {
        if (!this._preComputing) this._begin();
        var width = element.offsetWidth;
        if (!this._preComputing) this._end();
        return width;
      },

      'margin-box-height': function(element) {
        var bHeight = this.get('border-box-height'),
         mTop = this.get('margin-top'),
         mBottom = this.get('margin-bottom');

        if (bHeight <= 0) return 0;

        return bHeight + mTop + mBottom;
      },

      'margin-box-width': function(element) {
        var bWidth = this.get('border-box-width'),
         mLeft = this.get('margin-left'),
         mRight = this.get('margin-right');

        if (bWidth <= 0) return 0;

        return bWidth + mLeft + mRight;
      },

      'top': function(element) {
        var offset = element.positionedOffset();
        return offset.top;
      },

      'bottom': function(element) {
        var offset = element.positionedOffset(),
         parent = element.getOffsetParent(),
         pHeight = parent.measure('height');

        var mHeight = this.get('border-box-height');

        return pHeight - mHeight - offset.top;
      },

      'left': function(element) {
        var offset = element.positionedOffset();
        return offset.left;
      },

      'right': function(element) {
        var offset = element.positionedOffset(),
         parent = element.getOffsetParent(),
         pWidth = parent.measure('width');

        var mWidth = this.get('border-box-width');

        return pWidth - mWidth - offset.left;
      },

      'padding-top': function(element) {
        return getPixelValue(element, 'paddingTop');
      },

      'padding-bottom': function(element) {
        return getPixelValue(element, 'paddingBottom');
      },

      'padding-left': function(element) {
        return getPixelValue(element, 'paddingLeft');
      },

      'padding-right': function(element) {
        return getPixelValue(element, 'paddingRight');
      },

      'border-top': function(element) {
        return getPixelValue(element, 'borderTopWidth');
      },

      'border-bottom': function(element) {
        return getPixelValue(element, 'borderBottomWidth');
      },

      'border-left': function(element) {
        return getPixelValue(element, 'borderLeftWidth');
      },

      'border-right': function(element) {
        return getPixelValue(element, 'borderRightWidth');
      },

      'margin-top': function(element) {
        return getPixelValue(element, 'marginTop');
      },

      'margin-bottom': function(element) {
        return getPixelValue(element, 'marginBottom');
      },

      'margin-left': function(element) {
        return getPixelValue(element, 'marginLeft');
      },

      'margin-right': function(element) {
        return getPixelValue(element, 'marginRight');
      }
    }
  });

  if ('getBoundingClientRect' in document.documentElement) {
    Object.extend(Element.Layout.COMPUTATIONS, {
      'right': function(element) {
        var parent = hasLayout(element.getOffsetParent());
        var rect = element.getBoundingClientRect(),
         pRect = parent.getBoundingClientRect();

        return (pRect.right - rect.right).round();
      },

      'bottom': function(element) {
        var parent = hasLayout(element.getOffsetParent());
        var rect = element.getBoundingClientRect(),
         pRect = parent.getBoundingClientRect();

        return (pRect.bottom - rect.bottom).round();
      }
    });
  }

  Element.Offset = Class.create({
    initialize: function(left, top) {
      this.left = left.round();
      this.top  = top.round();

      this[0] = this.left;
      this[1] = this.top;
    },

    relativeTo: function(offset) {
      return new Element.Offset(
        this.left - offset.left,
        this.top  - offset.top
      );
    },

    inspect: function() {
      return "#<Element.Offset left: #{left} top: #{top}>".interpolate(this);
    },

    toString: function() {
      return "[#{left}, #{top}]".interpolate(this);
    },

    toArray: function() {
      return [this.left, this.top];
    }
  });

  function getLayout(element, preCompute) {
    return new Element.Layout(element, preCompute);
  }

  function measure(element, property) {
    return $(element).getLayout().get(property);
  }

  function getDimensions(element) {
    element = $(element);
    var display = Element.getStyle(element, 'display');

    if (display && display !== 'none') {
      return { width: element.offsetWidth, height: element.offsetHeight };
    }

    var style = element.style;
    var originalStyles = {
      visibility: style.visibility,
      position:   style.position,
      display:    style.display
    };

    var newStyles = {
      visibility: 'hidden',
      display:    'block'
    };

    if (originalStyles.position !== 'fixed')
      newStyles.position = 'absolute';

    Element.setStyle(element, newStyles);

    var dimensions = {
      width:  element.offsetWidth,
      height: element.offsetHeight
    };

    Element.setStyle(element, originalStyles);

    return dimensions;
  }

  function getOffsetParent(element) {
    element = $(element);

    if (isDocument(element) || isDetached(element) || isBody(element) || isHtml(element))
      return $(document.body);

    var isInline = (Element.getStyle(element, 'display') === 'inline');
    if (!isInline && element.offsetParent) return $(element.offsetParent);

    while ((element = element.parentNode) && element !== document.body) {
      if (Element.getStyle(element, 'position') !== 'static') {
        return isHtml(element) ? $(document.body) : $(element);
      }
    }

    return $(document.body);
  }


  function cumulativeOffset(element) {
    element = $(element);
    var valueT = 0, valueL = 0;
    if (element.parentNode) {
      do {
        valueT += element.offsetTop  || 0;
        valueL += element.offsetLeft || 0;
        element = element.offsetParent;
      } while (element);
    }
    return new Element.Offset(valueL, valueT);
  }

  function positionedOffset(element) {
    element = $(element);

    var layout = element.getLayout();

    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      element = element.offsetParent;
      if (element) {
        if (isBody(element)) break;
        var p = Element.getStyle(element, 'position');
        if (p !== 'static') break;
      }
    } while (element);

    valueL -= layout.get('margin-top');
    valueT -= layout.get('margin-left');

    return new Element.Offset(valueL, valueT);
  }

  function cumulativeScrollOffset(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.scrollTop  || 0;
      valueL += element.scrollLeft || 0;
      element = element.parentNode;
    } while (element);
    return new Element.Offset(valueL, valueT);
  }

  function viewportOffset(forElement) {
    element = $(element);
    var valueT = 0, valueL = 0, docBody = document.body;

    var element = forElement;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      if (element.offsetParent == docBody &&
        Element.getStyle(element, 'position') == 'absolute') break;
    } while (element = element.offsetParent);

    element = forElement;
    do {
      if (element != docBody) {
        valueT -= element.scrollTop  || 0;
        valueL -= element.scrollLeft || 0;
      }
    } while (element = element.parentNode);
    return new Element.Offset(valueL, valueT);
  }

  function absolutize(element) {
    element = $(element);

    if (Element.getStyle(element, 'position') === 'absolute') {
      return element;
    }

    var offsetParent = getOffsetParent(element);
    var eOffset = element.viewportOffset(),
     pOffset = offsetParent.viewportOffset();

    var offset = eOffset.relativeTo(pOffset);
    var layout = element.getLayout();

    element.store('prototype_absolutize_original_styles', {
      left:   element.getStyle('left'),
      top:    element.getStyle('top'),
      width:  element.getStyle('width'),
      height: element.getStyle('height')
    });

    element.setStyle({
      position: 'absolute',
      top:    offset.top + 'px',
      left:   offset.left + 'px',
      width:  layout.get('width') + 'px',
      height: layout.get('height') + 'px'
    });

    return element;
  }

  function relativize(element) {
    element = $(element);
    if (Element.getStyle(element, 'position') === 'relative') {
      return element;
    }

    var originalStyles =
     element.retrieve('prototype_absolutize_original_styles');

    if (originalStyles) element.setStyle(originalStyles);
    return element;
  }

  if (Prototype.Browser.IE) {
    getOffsetParent = getOffsetParent.wrap(
      function(proceed, element) {
        element = $(element);

        if (isDocument(element) || isDetached(element) || isBody(element) || isHtml(element))
          return $(document.body);

        var position = element.getStyle('position');
        if (position !== 'static') return proceed(element);

        element.setStyle({ position: 'relative' });
        var value = proceed(element);
        element.setStyle({ position: position });
        return value;
      }
    );

    positionedOffset = positionedOffset.wrap(function(proceed, element) {
      element = $(element);
      if (!element.parentNode) return new Element.Offset(0, 0);
      var position = element.getStyle('position');
      if (position !== 'static') return proceed(element);

      var offsetParent = element.getOffsetParent();
      if (offsetParent && offsetParent.getStyle('position') === 'fixed')
        hasLayout(offsetParent);

      element.setStyle({ position: 'relative' });
      var value = proceed(element);
      element.setStyle({ position: position });
      return value;
    });
  } else if (Prototype.Browser.Webkit) {
    cumulativeOffset = function(element) {
      element = $(element);
      var valueT = 0, valueL = 0;
      do {
        valueT += element.offsetTop  || 0;
        valueL += element.offsetLeft || 0;
        if (element.offsetParent == document.body)
          if (Element.getStyle(element, 'position') == 'absolute') break;

        element = element.offsetParent;
      } while (element);

      return new Element.Offset(valueL, valueT);
    };
  }


  Element.addMethods({
    getLayout:              getLayout,
    measure:                measure,
    getDimensions:          getDimensions,
    getOffsetParent:        getOffsetParent,
    cumulativeOffset:       cumulativeOffset,
    positionedOffset:       positionedOffset,
    cumulativeScrollOffset: cumulativeScrollOffset,
    viewportOffset:         viewportOffset,
    absolutize:             absolutize,
    relativize:             relativize
  });

  function isBody(element) {
    return element.nodeName.toUpperCase() === 'BODY';
  }

  function isHtml(element) {
    return element.nodeName.toUpperCase() === 'HTML';
  }

  function isDocument(element) {
    return element.nodeType === Node.DOCUMENT_NODE;
  }

  function isDetached(element) {
    return element !== document.body &&
     !Element.descendantOf(element, document.body);
  }

  if ('getBoundingClientRect' in document.documentElement) {
    Element.addMethods({
      viewportOffset: function(element) {
        element = $(element);
        if (isDetached(element)) return new Element.Offset(0, 0);

        var rect = element.getBoundingClientRect(),
         docEl = document.documentElement;
        return new Element.Offset(rect.left - docEl.clientLeft,
         rect.top - docEl.clientTop);
      }
    });
  }
})();
window.$$ = function() {
  var expression = $A(arguments).join(', ');
  return Prototype.Selector.select(expression, document);
};

Prototype.Selector = (function() {

  function select() {
    throw new Error('Method "Prototype.Selector.select" must be defined.');
  }

  function match() {
    throw new Error('Method "Prototype.Selector.match" must be defined.');
  }

  function find(elements, expression, index) {
    index = index || 0;
    var match = Prototype.Selector.match, length = elements.length, matchIndex = 0, i;

    for (i = 0; i < length; i++) {
      if (match(elements[i], expression) && index == matchIndex++) {
        return Element.extend(elements[i]);
      }
    }
  }

  function extendElements(elements) {
    for (var i = 0, length = elements.length; i < length; i++) {
      Element.extend(elements[i]);
    }
    return elements;
  }


  var K = Prototype.K;

  return {
    select: select,
    match: match,
    find: find,
    extendElements: (Element.extend === K) ? K : extendElements,
    extendElement: Element.extend
  };
})();
Prototype._original_property = window.Sizzle;
/*!
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){

var chunker = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
	done = 0,
	toString = Object.prototype.toString,
	hasDuplicate = false,
	baseHasDuplicate = true;

[0, 0].sort(function(){
	baseHasDuplicate = false;
	return 0;
});

var Sizzle = function(selector, context, results, seed) {
	results = results || [];
	var origContext = context = context || document;

	if ( context.nodeType !== 1 && context.nodeType !== 9 ) {
		return [];
	}

	if ( !selector || typeof selector !== "string" ) {
		return results;
	}

	var parts = [], m, set, checkSet, check, mode, extra, prune = true, contextXML = isXML(context),
		soFar = selector;

	while ( (chunker.exec(""), m = chunker.exec(soFar)) !== null ) {
		soFar = m[3];

		parts.push( m[1] );

		if ( m[2] ) {
			extra = m[3];
			break;
		}
	}

	if ( parts.length > 1 && origPOS.exec( selector ) ) {
		if ( parts.length === 2 && Expr.relative[ parts[0] ] ) {
			set = posProcess( parts[0] + parts[1], context );
		} else {
			set = Expr.relative[ parts[0] ] ?
				[ context ] :
				Sizzle( parts.shift(), context );

			while ( parts.length ) {
				selector = parts.shift();

				if ( Expr.relative[ selector ] )
					selector += parts.shift();

				set = posProcess( selector, set );
			}
		}
	} else {
		if ( !seed && parts.length > 1 && context.nodeType === 9 && !contextXML &&
				Expr.match.ID.test(parts[0]) && !Expr.match.ID.test(parts[parts.length - 1]) ) {
			var ret = Sizzle.find( parts.shift(), context, contextXML );
			context = ret.expr ? Sizzle.filter( ret.expr, ret.set )[0] : ret.set[0];
		}

		if ( context ) {
			var ret = seed ?
				{ expr: parts.pop(), set: makeArray(seed) } :
				Sizzle.find( parts.pop(), parts.length === 1 && (parts[0] === "~" || parts[0] === "+") && context.parentNode ? context.parentNode : context, contextXML );
			set = ret.expr ? Sizzle.filter( ret.expr, ret.set ) : ret.set;

			if ( parts.length > 0 ) {
				checkSet = makeArray(set);
			} else {
				prune = false;
			}

			while ( parts.length ) {
				var cur = parts.pop(), pop = cur;

				if ( !Expr.relative[ cur ] ) {
					cur = "";
				} else {
					pop = parts.pop();
				}

				if ( pop == null ) {
					pop = context;
				}

				Expr.relative[ cur ]( checkSet, pop, contextXML );
			}
		} else {
			checkSet = parts = [];
		}
	}

	if ( !checkSet ) {
		checkSet = set;
	}

	if ( !checkSet ) {
		throw "Syntax error, unrecognized expression: " + (cur || selector);
	}

	if ( toString.call(checkSet) === "[object Array]" ) {
		if ( !prune ) {
			results.push.apply( results, checkSet );
		} else if ( context && context.nodeType === 1 ) {
			for ( var i = 0; checkSet[i] != null; i++ ) {
				if ( checkSet[i] && (checkSet[i] === true || checkSet[i].nodeType === 1 && contains(context, checkSet[i])) ) {
					results.push( set[i] );
				}
			}
		} else {
			for ( var i = 0; checkSet[i] != null; i++ ) {
				if ( checkSet[i] && checkSet[i].nodeType === 1 ) {
					results.push( set[i] );
				}
			}
		}
	} else {
		makeArray( checkSet, results );
	}

	if ( extra ) {
		Sizzle( extra, origContext, results, seed );
		Sizzle.uniqueSort( results );
	}

	return results;
};

Sizzle.uniqueSort = function(results){
	if ( sortOrder ) {
		hasDuplicate = baseHasDuplicate;
		results.sort(sortOrder);

		if ( hasDuplicate ) {
			for ( var i = 1; i < results.length; i++ ) {
				if ( results[i] === results[i-1] ) {
					results.splice(i--, 1);
				}
			}
		}
	}

	return results;
};

Sizzle.matches = function(expr, set){
	return Sizzle(expr, null, null, set);
};

Sizzle.find = function(expr, context, isXML){
	var set, match;

	if ( !expr ) {
		return [];
	}

	for ( var i = 0, l = Expr.order.length; i < l; i++ ) {
		var type = Expr.order[i], match;

		if ( (match = Expr.leftMatch[ type ].exec( expr )) ) {
			var left = match[1];
			match.splice(1,1);

			if ( left.substr( left.length - 1 ) !== "\\" ) {
				match[1] = (match[1] || "").replace(/\\/g, "");
				set = Expr.find[ type ]( match, context, isXML );
				if ( set != null ) {
					expr = expr.replace( Expr.match[ type ], "" );
					break;
				}
			}
		}
	}

	if ( !set ) {
		set = context.getElementsByTagName("*");
	}

	return {set: set, expr: expr};
};

Sizzle.filter = function(expr, set, inplace, not){
	var old = expr, result = [], curLoop = set, match, anyFound,
		isXMLFilter = set && set[0] && isXML(set[0]);

	while ( expr && set.length ) {
		for ( var type in Expr.filter ) {
			if ( (match = Expr.match[ type ].exec( expr )) != null ) {
				var filter = Expr.filter[ type ], found, item;
				anyFound = false;

				if ( curLoop == result ) {
					result = [];
				}

				if ( Expr.preFilter[ type ] ) {
					match = Expr.preFilter[ type ]( match, curLoop, inplace, result, not, isXMLFilter );

					if ( !match ) {
						anyFound = found = true;
					} else if ( match === true ) {
						continue;
					}
				}

				if ( match ) {
					for ( var i = 0; (item = curLoop[i]) != null; i++ ) {
						if ( item ) {
							found = filter( item, match, i, curLoop );
							var pass = not ^ !!found;

							if ( inplace && found != null ) {
								if ( pass ) {
									anyFound = true;
								} else {
									curLoop[i] = false;
								}
							} else if ( pass ) {
								result.push( item );
								anyFound = true;
							}
						}
					}
				}

				if ( found !== undefined ) {
					if ( !inplace ) {
						curLoop = result;
					}

					expr = expr.replace( Expr.match[ type ], "" );

					if ( !anyFound ) {
						return [];
					}

					break;
				}
			}
		}

		if ( expr == old ) {
			if ( anyFound == null ) {
				throw "Syntax error, unrecognized expression: " + expr;
			} else {
				break;
			}
		}

		old = expr;
	}

	return curLoop;
};

var Expr = Sizzle.selectors = {
	order: [ "ID", "NAME", "TAG" ],
	match: {
		ID: /#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
		CLASS: /\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
		NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,
		ATTR: /\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
		TAG: /^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,
		CHILD: /:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,
		POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,
		PSEUDO: /:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/
	},
	leftMatch: {},
	attrMap: {
		"class": "className",
		"for": "htmlFor"
	},
	attrHandle: {
		href: function(elem){
			return elem.getAttribute("href");
		}
	},
	relative: {
		"+": function(checkSet, part, isXML){
			var isPartStr = typeof part === "string",
				isTag = isPartStr && !/\W/.test(part),
				isPartStrNotTag = isPartStr && !isTag;

			if ( isTag && !isXML ) {
				part = part.toUpperCase();
			}

			for ( var i = 0, l = checkSet.length, elem; i < l; i++ ) {
				if ( (elem = checkSet[i]) ) {
					while ( (elem = elem.previousSibling) && elem.nodeType !== 1 ) {}

					checkSet[i] = isPartStrNotTag || elem && elem.nodeName === part ?
						elem || false :
						elem === part;
				}
			}

			if ( isPartStrNotTag ) {
				Sizzle.filter( part, checkSet, true );
			}
		},
		">": function(checkSet, part, isXML){
			var isPartStr = typeof part === "string";

			if ( isPartStr && !/\W/.test(part) ) {
				part = isXML ? part : part.toUpperCase();

				for ( var i = 0, l = checkSet.length; i < l; i++ ) {
					var elem = checkSet[i];
					if ( elem ) {
						var parent = elem.parentNode;
						checkSet[i] = parent.nodeName === part ? parent : false;
					}
				}
			} else {
				for ( var i = 0, l = checkSet.length; i < l; i++ ) {
					var elem = checkSet[i];
					if ( elem ) {
						checkSet[i] = isPartStr ?
							elem.parentNode :
							elem.parentNode === part;
					}
				}

				if ( isPartStr ) {
					Sizzle.filter( part, checkSet, true );
				}
			}
		},
		"": function(checkSet, part, isXML){
			var doneName = done++, checkFn = dirCheck;

			if ( !/\W/.test(part) ) {
				var nodeCheck = part = isXML ? part : part.toUpperCase();
				checkFn = dirNodeCheck;
			}

			checkFn("parentNode", part, doneName, checkSet, nodeCheck, isXML);
		},
		"~": function(checkSet, part, isXML){
			var doneName = done++, checkFn = dirCheck;

			if ( typeof part === "string" && !/\W/.test(part) ) {
				var nodeCheck = part = isXML ? part : part.toUpperCase();
				checkFn = dirNodeCheck;
			}

			checkFn("previousSibling", part, doneName, checkSet, nodeCheck, isXML);
		}
	},
	find: {
		ID: function(match, context, isXML){
			if ( typeof context.getElementById !== "undefined" && !isXML ) {
				var m = context.getElementById(match[1]);
				return m ? [m] : [];
			}
		},
		NAME: function(match, context, isXML){
			if ( typeof context.getElementsByName !== "undefined" ) {
				var ret = [], results = context.getElementsByName(match[1]);

				for ( var i = 0, l = results.length; i < l; i++ ) {
					if ( results[i].getAttribute("name") === match[1] ) {
						ret.push( results[i] );
					}
				}

				return ret.length === 0 ? null : ret;
			}
		},
		TAG: function(match, context){
			return context.getElementsByTagName(match[1]);
		}
	},
	preFilter: {
		CLASS: function(match, curLoop, inplace, result, not, isXML){
			match = " " + match[1].replace(/\\/g, "") + " ";

			if ( isXML ) {
				return match;
			}

			for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {
				if ( elem ) {
					if ( not ^ (elem.className && (" " + elem.className + " ").indexOf(match) >= 0) ) {
						if ( !inplace )
							result.push( elem );
					} else if ( inplace ) {
						curLoop[i] = false;
					}
				}
			}

			return false;
		},
		ID: function(match){
			return match[1].replace(/\\/g, "");
		},
		TAG: function(match, curLoop){
			for ( var i = 0; curLoop[i] === false; i++ ){}
			return curLoop[i] && isXML(curLoop[i]) ? match[1] : match[1].toUpperCase();
		},
		CHILD: function(match){
			if ( match[1] == "nth" ) {
				var test = /(-?)(\d*)n((?:\+|-)?\d*)/.exec(
					match[2] == "even" && "2n" || match[2] == "odd" && "2n+1" ||
					!/\D/.test( match[2] ) && "0n+" + match[2] || match[2]);

				match[2] = (test[1] + (test[2] || 1)) - 0;
				match[3] = test[3] - 0;
			}

			match[0] = done++;

			return match;
		},
		ATTR: function(match, curLoop, inplace, result, not, isXML){
			var name = match[1].replace(/\\/g, "");

			if ( !isXML && Expr.attrMap[name] ) {
				match[1] = Expr.attrMap[name];
			}

			if ( match[2] === "~=" ) {
				match[4] = " " + match[4] + " ";
			}

			return match;
		},
		PSEUDO: function(match, curLoop, inplace, result, not){
			if ( match[1] === "not" ) {
				if ( ( chunker.exec(match[3]) || "" ).length > 1 || /^\w/.test(match[3]) ) {
					match[3] = Sizzle(match[3], null, null, curLoop);
				} else {
					var ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);
					if ( !inplace ) {
						result.push.apply( result, ret );
					}
					return false;
				}
			} else if ( Expr.match.POS.test( match[0] ) || Expr.match.CHILD.test( match[0] ) ) {
				return true;
			}

			return match;
		},
		POS: function(match){
			match.unshift( true );
			return match;
		}
	},
	filters: {
		enabled: function(elem){
			return elem.disabled === false && elem.type !== "hidden";
		},
		disabled: function(elem){
			return elem.disabled === true;
		},
		checked: function(elem){
			return elem.checked === true;
		},
		selected: function(elem){
			elem.parentNode.selectedIndex;
			return elem.selected === true;
		},
		parent: function(elem){
			return !!elem.firstChild;
		},
		empty: function(elem){
			return !elem.firstChild;
		},
		has: function(elem, i, match){
			return !!Sizzle( match[3], elem ).length;
		},
		header: function(elem){
			return /h\d/i.test( elem.nodeName );
		},
		text: function(elem){
			return "text" === elem.type;
		},
		radio: function(elem){
			return "radio" === elem.type;
		},
		checkbox: function(elem){
			return "checkbox" === elem.type;
		},
		file: function(elem){
			return "file" === elem.type;
		},
		password: function(elem){
			return "password" === elem.type;
		},
		submit: function(elem){
			return "submit" === elem.type;
		},
		image: function(elem){
			return "image" === elem.type;
		},
		reset: function(elem){
			return "reset" === elem.type;
		},
		button: function(elem){
			return "button" === elem.type || elem.nodeName.toUpperCase() === "BUTTON";
		},
		input: function(elem){
			return /input|select|textarea|button/i.test(elem.nodeName);
		}
	},
	setFilters: {
		first: function(elem, i){
			return i === 0;
		},
		last: function(elem, i, match, array){
			return i === array.length - 1;
		},
		even: function(elem, i){
			return i % 2 === 0;
		},
		odd: function(elem, i){
			return i % 2 === 1;
		},
		lt: function(elem, i, match){
			return i < match[3] - 0;
		},
		gt: function(elem, i, match){
			return i > match[3] - 0;
		},
		nth: function(elem, i, match){
			return match[3] - 0 == i;
		},
		eq: function(elem, i, match){
			return match[3] - 0 == i;
		}
	},
	filter: {
		PSEUDO: function(elem, match, i, array){
			var name = match[1], filter = Expr.filters[ name ];

			if ( filter ) {
				return filter( elem, i, match, array );
			} else if ( name === "contains" ) {
				return (elem.textContent || elem.innerText || "").indexOf(match[3]) >= 0;
			} else if ( name === "not" ) {
				var not = match[3];

				for ( var i = 0, l = not.length; i < l; i++ ) {
					if ( not[i] === elem ) {
						return false;
					}
				}

				return true;
			}
		},
		CHILD: function(elem, match){
			var type = match[1], node = elem;
			switch (type) {
				case 'only':
				case 'first':
					while ( (node = node.previousSibling) )  {
						if ( node.nodeType === 1 ) return false;
					}
					if ( type == 'first') return true;
					node = elem;
				case 'last':
					while ( (node = node.nextSibling) )  {
						if ( node.nodeType === 1 ) return false;
					}
					return true;
				case 'nth':
					var first = match[2], last = match[3];

					if ( first == 1 && last == 0 ) {
						return true;
					}

					var doneName = match[0],
						parent = elem.parentNode;

					if ( parent && (parent.sizcache !== doneName || !elem.nodeIndex) ) {
						var count = 0;
						for ( node = parent.firstChild; node; node = node.nextSibling ) {
							if ( node.nodeType === 1 ) {
								node.nodeIndex = ++count;
							}
						}
						parent.sizcache = doneName;
					}

					var diff = elem.nodeIndex - last;
					if ( first == 0 ) {
						return diff == 0;
					} else {
						return ( diff % first == 0 && diff / first >= 0 );
					}
			}
		},
		ID: function(elem, match){
			return elem.nodeType === 1 && elem.getAttribute("id") === match;
		},
		TAG: function(elem, match){
			return (match === "*" && elem.nodeType === 1) || elem.nodeName === match;
		},
		CLASS: function(elem, match){
			return (" " + (elem.className || elem.getAttribute("class")) + " ")
				.indexOf( match ) > -1;
		},
		ATTR: function(elem, match){
			var name = match[1],
				result = Expr.attrHandle[ name ] ?
					Expr.attrHandle[ name ]( elem ) :
					elem[ name ] != null ?
						elem[ name ] :
						elem.getAttribute( name ),
				value = result + "",
				type = match[2],
				check = match[4];

			return result == null ?
				type === "!=" :
				type === "=" ?
				value === check :
				type === "*=" ?
				value.indexOf(check) >= 0 :
				type === "~=" ?
				(" " + value + " ").indexOf(check) >= 0 :
				!check ?
				value && result !== false :
				type === "!=" ?
				value != check :
				type === "^=" ?
				value.indexOf(check) === 0 :
				type === "$=" ?
				value.substr(value.length - check.length) === check :
				type === "|=" ?
				value === check || value.substr(0, check.length + 1) === check + "-" :
				false;
		},
		POS: function(elem, match, i, array){
			var name = match[2], filter = Expr.setFilters[ name ];

			if ( filter ) {
				return filter( elem, i, match, array );
			}
		}
	}
};

var origPOS = Expr.match.POS;

for ( var type in Expr.match ) {
	Expr.match[ type ] = new RegExp( Expr.match[ type ].source + /(?![^\[]*\])(?![^\(]*\))/.source );
	Expr.leftMatch[ type ] = new RegExp( /(^(?:.|\r|\n)*?)/.source + Expr.match[ type ].source );
}

var makeArray = function(array, results) {
	array = Array.prototype.slice.call( array, 0 );

	if ( results ) {
		results.push.apply( results, array );
		return results;
	}

	return array;
};

try {
	Array.prototype.slice.call( document.documentElement.childNodes, 0 );

} catch(e){
	makeArray = function(array, results) {
		var ret = results || [];

		if ( toString.call(array) === "[object Array]" ) {
			Array.prototype.push.apply( ret, array );
		} else {
			if ( typeof array.length === "number" ) {
				for ( var i = 0, l = array.length; i < l; i++ ) {
					ret.push( array[i] );
				}
			} else {
				for ( var i = 0; array[i]; i++ ) {
					ret.push( array[i] );
				}
			}
		}

		return ret;
	};
}

var sortOrder;

if ( document.documentElement.compareDocumentPosition ) {
	sortOrder = function( a, b ) {
		if ( !a.compareDocumentPosition || !b.compareDocumentPosition ) {
			if ( a == b ) {
				hasDuplicate = true;
			}
			return 0;
		}

		var ret = a.compareDocumentPosition(b) & 4 ? -1 : a === b ? 0 : 1;
		if ( ret === 0 ) {
			hasDuplicate = true;
		}
		return ret;
	};
} else if ( "sourceIndex" in document.documentElement ) {
	sortOrder = function( a, b ) {
		if ( !a.sourceIndex || !b.sourceIndex ) {
			if ( a == b ) {
				hasDuplicate = true;
			}
			return 0;
		}

		var ret = a.sourceIndex - b.sourceIndex;
		if ( ret === 0 ) {
			hasDuplicate = true;
		}
		return ret;
	};
} else if ( document.createRange ) {
	sortOrder = function( a, b ) {
		if ( !a.ownerDocument || !b.ownerDocument ) {
			if ( a == b ) {
				hasDuplicate = true;
			}
			return 0;
		}

		var aRange = a.ownerDocument.createRange(), bRange = b.ownerDocument.createRange();
		aRange.setStart(a, 0);
		aRange.setEnd(a, 0);
		bRange.setStart(b, 0);
		bRange.setEnd(b, 0);
		var ret = aRange.compareBoundaryPoints(Range.START_TO_END, bRange);
		if ( ret === 0 ) {
			hasDuplicate = true;
		}
		return ret;
	};
}

(function(){
	var form = document.createElement("div"),
		id = "script" + (new Date).getTime();
	form.innerHTML = "<a name='" + id + "'/>";

	var root = document.documentElement;
	root.insertBefore( form, root.firstChild );

	if ( !!document.getElementById( id ) ) {
		Expr.find.ID = function(match, context, isXML){
			if ( typeof context.getElementById !== "undefined" && !isXML ) {
				var m = context.getElementById(match[1]);
				return m ? m.id === match[1] || typeof m.getAttributeNode !== "undefined" && m.getAttributeNode("id").nodeValue === match[1] ? [m] : undefined : [];
			}
		};

		Expr.filter.ID = function(elem, match){
			var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
			return elem.nodeType === 1 && node && node.nodeValue === match;
		};
	}

	root.removeChild( form );
	root = form = null; // release memory in IE
})();

(function(){

	var div = document.createElement("div");
	div.appendChild( document.createComment("") );

	if ( div.getElementsByTagName("*").length > 0 ) {
		Expr.find.TAG = function(match, context){
			var results = context.getElementsByTagName(match[1]);

			if ( match[1] === "*" ) {
				var tmp = [];

				for ( var i = 0; results[i]; i++ ) {
					if ( results[i].nodeType === 1 ) {
						tmp.push( results[i] );
					}
				}

				results = tmp;
			}

			return results;
		};
	}

	div.innerHTML = "<a href='#'></a>";
	if ( div.firstChild && typeof div.firstChild.getAttribute !== "undefined" &&
			div.firstChild.getAttribute("href") !== "#" ) {
		Expr.attrHandle.href = function(elem){
			return elem.getAttribute("href", 2);
		};
	}

	div = null; // release memory in IE
})();

if ( document.querySelectorAll ) (function(){
	var oldSizzle = Sizzle, div = document.createElement("div");
	div.innerHTML = "<p class='TEST'></p>";

	if ( div.querySelectorAll && div.querySelectorAll(".TEST").length === 0 ) {
		return;
	}

	Sizzle = function(query, context, extra, seed){
		context = context || document;

		if ( !seed && context.nodeType === 9 && !isXML(context) ) {
			try {
				return makeArray( context.querySelectorAll(query), extra );
			} catch(e){}
		}

		return oldSizzle(query, context, extra, seed);
	};

	for ( var prop in oldSizzle ) {
		Sizzle[ prop ] = oldSizzle[ prop ];
	}

	div = null; // release memory in IE
})();

if ( document.getElementsByClassName && document.documentElement.getElementsByClassName ) (function(){
	var div = document.createElement("div");
	div.innerHTML = "<div class='test e'></div><div class='test'></div>";

	if ( div.getElementsByClassName("e").length === 0 )
		return;

	div.lastChild.className = "e";

	if ( div.getElementsByClassName("e").length === 1 )
		return;

	Expr.order.splice(1, 0, "CLASS");
	Expr.find.CLASS = function(match, context, isXML) {
		if ( typeof context.getElementsByClassName !== "undefined" && !isXML ) {
			return context.getElementsByClassName(match[1]);
		}
	};

	div = null; // release memory in IE
})();

function dirNodeCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
	var sibDir = dir == "previousSibling" && !isXML;
	for ( var i = 0, l = checkSet.length; i < l; i++ ) {
		var elem = checkSet[i];
		if ( elem ) {
			if ( sibDir && elem.nodeType === 1 ){
				elem.sizcache = doneName;
				elem.sizset = i;
			}
			elem = elem[dir];
			var match = false;

			while ( elem ) {
				if ( elem.sizcache === doneName ) {
					match = checkSet[elem.sizset];
					break;
				}

				if ( elem.nodeType === 1 && !isXML ){
					elem.sizcache = doneName;
					elem.sizset = i;
				}

				if ( elem.nodeName === cur ) {
					match = elem;
					break;
				}

				elem = elem[dir];
			}

			checkSet[i] = match;
		}
	}
}

function dirCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
	var sibDir = dir == "previousSibling" && !isXML;
	for ( var i = 0, l = checkSet.length; i < l; i++ ) {
		var elem = checkSet[i];
		if ( elem ) {
			if ( sibDir && elem.nodeType === 1 ) {
				elem.sizcache = doneName;
				elem.sizset = i;
			}
			elem = elem[dir];
			var match = false;

			while ( elem ) {
				if ( elem.sizcache === doneName ) {
					match = checkSet[elem.sizset];
					break;
				}

				if ( elem.nodeType === 1 ) {
					if ( !isXML ) {
						elem.sizcache = doneName;
						elem.sizset = i;
					}
					if ( typeof cur !== "string" ) {
						if ( elem === cur ) {
							match = true;
							break;
						}

					} else if ( Sizzle.filter( cur, [elem] ).length > 0 ) {
						match = elem;
						break;
					}
				}

				elem = elem[dir];
			}

			checkSet[i] = match;
		}
	}
}

var contains = document.compareDocumentPosition ?  function(a, b){
	return a.compareDocumentPosition(b) & 16;
} : function(a, b){
	return a !== b && (a.contains ? a.contains(b) : true);
};

var isXML = function(elem){
	return elem.nodeType === 9 && elem.documentElement.nodeName !== "HTML" ||
		!!elem.ownerDocument && elem.ownerDocument.documentElement.nodeName !== "HTML";
};

var posProcess = function(selector, context){
	var tmpSet = [], later = "", match,
		root = context.nodeType ? [context] : context;

	while ( (match = Expr.match.PSEUDO.exec( selector )) ) {
		later += match[0];
		selector = selector.replace( Expr.match.PSEUDO, "" );
	}

	selector = Expr.relative[selector] ? selector + "*" : selector;

	for ( var i = 0, l = root.length; i < l; i++ ) {
		Sizzle( selector, root[i], tmpSet );
	}

	return Sizzle.filter( later, tmpSet );
};


window.Sizzle = Sizzle;

})();

;(function(engine) {
  var extendElements = Prototype.Selector.extendElements;

  function select(selector, scope) {
    return extendElements(engine(selector, scope || document));
  }

  function match(element, selector) {
    return engine.matches(selector, [element]).length == 1;
  }

  Prototype.Selector.engine = engine;
  Prototype.Selector.select = select;
  Prototype.Selector.match = match;
})(Sizzle);

window.Sizzle = Prototype._original_property;
delete Prototype._original_property;

var Form = {
  reset: function(form) {
    form = $(form);
    form.reset();
    return form;
  },

  serializeElements: function(elements, options) {
    if (typeof options != 'object') options = { hash: !!options };
    else if (Object.isUndefined(options.hash)) options.hash = true;
    var key, value, submitted = false, submit = options.submit, accumulator, initial;

    if (options.hash) {
      initial = {};
      accumulator = function(result, key, value) {
        if (key in result) {
          if (!Object.isArray(result[key])) result[key] = [result[key]];
          result[key].push(value);
        } else result[key] = value;
        return result;
      };
    } else {
      initial = '';
      accumulator = function(result, key, value) {
        return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + encodeURIComponent(value);
      }
    }

    return elements.inject(initial, function(result, element) {
      if (!element.disabled && element.name) {
        key = element.name; value = $(element).getValue();
        if (value != null && element.type != 'file' && (element.type != 'submit' || (!submitted &&
            submit !== false && (!submit || key == submit) && (submitted = true)))) {
          result = accumulator(result, key, value);
        }
      }
      return result;
    });
  }
};

Form.Methods = {
  serialize: function(form, options) {
    return Form.serializeElements(Form.getElements(form), options);
  },

  getElements: function(form) {
    var elements = $(form).getElementsByTagName('*'),
        element,
        arr = [ ],
        serializers = Form.Element.Serializers;
    for (var i = 0; element = elements[i]; i++) {
      arr.push(element);
    }
    return arr.inject([], function(elements, child) {
      if (serializers[child.tagName.toLowerCase()])
        elements.push(Element.extend(child));
      return elements;
    })
  },

  getInputs: function(form, typeName, name) {
    form = $(form);
    var inputs = form.getElementsByTagName('input');

    if (!typeName && !name) return $A(inputs).map(Element.extend);

    for (var i = 0, matchingInputs = [], length = inputs.length; i < length; i++) {
      var input = inputs[i];
      if ((typeName && input.type != typeName) || (name && input.name != name))
        continue;
      matchingInputs.push(Element.extend(input));
    }

    return matchingInputs;
  },

  disable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('disable');
    return form;
  },

  enable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('enable');
    return form;
  },

  findFirstElement: function(form) {
    var elements = $(form).getElements().findAll(function(element) {
      return 'hidden' != element.type && !element.disabled;
    });
    var firstByIndex = elements.findAll(function(element) {
      return element.hasAttribute('tabIndex') && element.tabIndex >= 0;
    }).sortBy(function(element) { return element.tabIndex }).first();

    return firstByIndex ? firstByIndex : elements.find(function(element) {
      return /^(?:input|select|textarea)$/i.test(element.tagName);
    });
  },

  focusFirstElement: function(form) {
    form = $(form);
    var element = form.findFirstElement();
    if (element) element.activate();
    return form;
  },

  request: function(form, options) {
    form = $(form), options = Object.clone(options || { });

    var params = options.parameters, action = form.readAttribute('action') || '';
    if (action.blank()) action = window.location.href;
    options.parameters = form.serialize(true);

    if (params) {
      if (Object.isString(params)) params = params.toQueryParams();
      Object.extend(options.parameters, params);
    }

    if (form.hasAttribute('method') && !options.method)
      options.method = form.method;

    return new Ajax.Request(action, options);
  }
};

/*--------------------------------------------------------------------------*/


Form.Element = {
  focus: function(element) {
    $(element).focus();
    return element;
  },

  select: function(element) {
    $(element).select();
    return element;
  }
};

Form.Element.Methods = {

  serialize: function(element) {
    element = $(element);
    if (!element.disabled && element.name) {
      var value = element.getValue();
      if (value != undefined) {
        var pair = { };
        pair[element.name] = value;
        return Object.toQueryString(pair);
      }
    }
    return '';
  },

  getValue: function(element) {
    element = $(element);
    var method = element.tagName.toLowerCase();
    return Form.Element.Serializers[method](element);
  },

  setValue: function(element, value) {
    element = $(element);
    var method = element.tagName.toLowerCase();
    Form.Element.Serializers[method](element, value);
    return element;
  },

  clear: function(element) {
    $(element).value = '';
    return element;
  },

  present: function(element) {
    return $(element).value != '';
  },

  activate: function(element) {
    element = $(element);
    try {
      element.focus();
      if (element.select && (element.tagName.toLowerCase() != 'input' ||
          !(/^(?:button|reset|submit)$/i.test(element.type))))
        element.select();
    } catch (e) { }
    return element;
  },

  disable: function(element) {
    element = $(element);
    element.disabled = true;
    return element;
  },

  enable: function(element) {
    element = $(element);
    element.disabled = false;
    return element;
  }
};

/*--------------------------------------------------------------------------*/

var Field = Form.Element;

var $F = Form.Element.Methods.getValue;

/*--------------------------------------------------------------------------*/

Form.Element.Serializers = (function() {
  function input(element, value) {
    switch (element.type.toLowerCase()) {
      case 'checkbox':
      case 'radio':
        return inputSelector(element, value);
      default:
        return valueSelector(element, value);
    }
  }

  function inputSelector(element, value) {
    if (Object.isUndefined(value))
      return element.checked ? element.value : null;
    else element.checked = !!value;
  }

  function valueSelector(element, value) {
    if (Object.isUndefined(value)) return element.value;
    else element.value = value;
  }

  function select(element, value) {
    if (Object.isUndefined(value))
      return (element.type === 'select-one' ? selectOne : selectMany)(element);

    var opt, currentValue, single = !Object.isArray(value);
    for (var i = 0, length = element.length; i < length; i++) {
      opt = element.options[i];
      currentValue = this.optionValue(opt);
      if (single) {
        if (currentValue == value) {
          opt.selected = true;
          return;
        }
      }
      else opt.selected = value.include(currentValue);
    }
  }

  function selectOne(element) {
    var index = element.selectedIndex;
    return index >= 0 ? optionValue(element.options[index]) : null;
  }

  function selectMany(element) {
    var values, length = element.length;
    if (!length) return null;

    for (var i = 0, values = []; i < length; i++) {
      var opt = element.options[i];
      if (opt.selected) values.push(optionValue(opt));
    }
    return values;
  }

  function optionValue(opt) {
    return Element.hasAttribute(opt, 'value') ? opt.value : opt.text;
  }

  return {
    input:         input,
    inputSelector: inputSelector,
    textarea:      valueSelector,
    select:        select,
    selectOne:     selectOne,
    selectMany:    selectMany,
    optionValue:   optionValue,
    button:        valueSelector
  };
})();

/*--------------------------------------------------------------------------*/


Abstract.TimedObserver = Class.create(PeriodicalExecuter, {
  initialize: function($super, element, frequency, callback) {
    $super(callback, frequency);
    this.element   = $(element);
    this.lastValue = this.getValue();
  },

  execute: function() {
    var value = this.getValue();
    if (Object.isString(this.lastValue) && Object.isString(value) ?
        this.lastValue != value : String(this.lastValue) != String(value)) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  }
});

Form.Element.Observer = Class.create(Abstract.TimedObserver, {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.Observer = Class.create(Abstract.TimedObserver, {
  getValue: function() {
    return Form.serialize(this.element);
  }
});

/*--------------------------------------------------------------------------*/

Abstract.EventObserver = Class.create({
  initialize: function(element, callback) {
    this.element  = $(element);
    this.callback = callback;

    this.lastValue = this.getValue();
    if (this.element.tagName.toLowerCase() == 'form')
      this.registerFormCallbacks();
    else
      this.registerCallback(this.element);
  },

  onElementEvent: function() {
    var value = this.getValue();
    if (this.lastValue != value) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  },

  registerFormCallbacks: function() {
    Form.getElements(this.element).each(this.registerCallback, this);
  },

  registerCallback: function(element) {
    if (element.type) {
      switch (element.type.toLowerCase()) {
        case 'checkbox':
        case 'radio':
          Event.observe(element, 'click', this.onElementEvent.bind(this));
          break;
        default:
          Event.observe(element, 'change', this.onElementEvent.bind(this));
          break;
      }
    }
  }
});

Form.Element.EventObserver = Class.create(Abstract.EventObserver, {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.EventObserver = Class.create(Abstract.EventObserver, {
  getValue: function() {
    return Form.serialize(this.element);
  }
});
(function() {

  var Event = {
    KEY_BACKSPACE: 8,
    KEY_TAB:       9,
    KEY_RETURN:   13,
    KEY_ESC:      27,
    KEY_LEFT:     37,
    KEY_UP:       38,
    KEY_RIGHT:    39,
    KEY_DOWN:     40,
    KEY_DELETE:   46,
    KEY_HOME:     36,
    KEY_END:      35,
    KEY_PAGEUP:   33,
    KEY_PAGEDOWN: 34,
    KEY_INSERT:   45,

    cache: {}
  };

  var docEl = document.documentElement;
  var MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED = 'onmouseenter' in docEl
    && 'onmouseleave' in docEl;



  var isIELegacyEvent = function(event) { return false; };

  if (window.attachEvent) {
    if (window.addEventListener) {
      isIELegacyEvent = function(event) {
        return !(event instanceof window.Event);
      };
    } else {
      isIELegacyEvent = function(event) { return true; };
    }
  }

  var _isButton;

  function _isButtonForDOMEvents(event, code) {
    return event.which ? (event.which === code + 1) : (event.button === code);
  }

  var legacyButtonMap = { 0: 1, 1: 4, 2: 2 };
  function _isButtonForLegacyEvents(event, code) {
    return event.button === legacyButtonMap[code];
  }

  function _isButtonForWebKit(event, code) {
    switch (code) {
      case 0: return event.which == 1 && !event.metaKey;
      case 1: return event.which == 2 || (event.which == 1 && event.metaKey);
      case 2: return event.which == 3;
      default: return false;
    }
  }

  if (window.attachEvent) {
    if (!window.addEventListener) {
      _isButton = _isButtonForLegacyEvents;
    } else {
      _isButton = function(event, code) {
        return isIELegacyEvent(event) ? _isButtonForLegacyEvents(event, code) :
         _isButtonForDOMEvents(event, code);
      }
    }
  } else if (Prototype.Browser.WebKit) {
    _isButton = _isButtonForWebKit;
  } else {
    _isButton = _isButtonForDOMEvents;
  }

  function isLeftClick(event)   { return _isButton(event, 0) }

  function isMiddleClick(event) { return _isButton(event, 1) }

  function isRightClick(event)  { return _isButton(event, 2) }

  function element(event) {
    event = Event.extend(event);

    var node = event.target, type = event.type,
     currentTarget = event.currentTarget;

    if (currentTarget && currentTarget.tagName) {
      if (type === 'load' || type === 'error' ||
        (type === 'click' && currentTarget.tagName.toLowerCase() === 'input'
          && currentTarget.type === 'radio'))
            node = currentTarget;
    }

    if (node.nodeType == Node.TEXT_NODE)
      node = node.parentNode;

    return Element.extend(node);
  }

  function findElement(event, expression) {
    var element = Event.element(event);

    if (!expression) return element;
    while (element) {
      if (Object.isElement(element) && Prototype.Selector.match(element, expression)) {
        return Element.extend(element);
      }
      element = element.parentNode;
    }
  }

  function pointer(event) {
    return { x: pointerX(event), y: pointerY(event) };
  }

  function pointerX(event) {
    var docElement = document.documentElement,
     body = document.body || { scrollLeft: 0 };

    return event.pageX || (event.clientX +
      (docElement.scrollLeft || body.scrollLeft) -
      (docElement.clientLeft || 0));
  }

  function pointerY(event) {
    var docElement = document.documentElement,
     body = document.body || { scrollTop: 0 };

    return  event.pageY || (event.clientY +
       (docElement.scrollTop || body.scrollTop) -
       (docElement.clientTop || 0));
  }


  function stop(event) {
    Event.extend(event);
    event.preventDefault();
    event.stopPropagation();

    event.stopped = true;
  }


  Event.Methods = {
    isLeftClick:   isLeftClick,
    isMiddleClick: isMiddleClick,
    isRightClick:  isRightClick,

    element:     element,
    findElement: findElement,

    pointer:  pointer,
    pointerX: pointerX,
    pointerY: pointerY,

    stop: stop
  };

  var methods = Object.keys(Event.Methods).inject({ }, function(m, name) {
    m[name] = Event.Methods[name].methodize();
    return m;
  });

  if (window.attachEvent) {
    function _relatedTarget(event) {
      var element;
      switch (event.type) {
        case 'mouseover':
        case 'mouseenter':
          element = event.fromElement;
          break;
        case 'mouseout':
        case 'mouseleave':
          element = event.toElement;
          break;
        default:
          return null;
      }
      return Element.extend(element);
    }

    var additionalMethods = {
      stopPropagation: function() { this.cancelBubble = true },
      preventDefault:  function() { this.returnValue = false },
      inspect: function() { return '[object Event]' }
    };

    Event.extend = function(event, element) {
      if (!event) return false;

      if (!isIELegacyEvent(event)) return event;

      if (event._extendedByPrototype) return event;
      event._extendedByPrototype = Prototype.emptyFunction;

      var pointer = Event.pointer(event);

      Object.extend(event, {
        target: event.srcElement || element,
        relatedTarget: _relatedTarget(event),
        pageX:  pointer.x,
        pageY:  pointer.y
      });

      Object.extend(event, methods);
      Object.extend(event, additionalMethods);

      return event;
    };
  } else {
    Event.extend = Prototype.K;
  }

  if (window.addEventListener) {
    Event.prototype = window.Event.prototype || document.createEvent('HTMLEvents').__proto__;
    Object.extend(Event.prototype, methods);
  }

  function _createResponder(element, eventName, handler) {
    var registry = Element.retrieve(element, 'prototype_event_registry');

    if (Object.isUndefined(registry)) {
      CACHE.push(element);
      registry = Element.retrieve(element, 'prototype_event_registry', $H());
    }

    var respondersForEvent = registry.get(eventName);
    if (Object.isUndefined(respondersForEvent)) {
      respondersForEvent = [];
      registry.set(eventName, respondersForEvent);
    }

    if (respondersForEvent.pluck('handler').include(handler)) return false;

    var responder;
    if (eventName.include(":")) {
      responder = function(event) {
        if (Object.isUndefined(event.eventName))
          return false;

        if (event.eventName !== eventName)
          return false;

        Event.extend(event, element);
        handler.call(element, event);
      };
    } else {
      if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED &&
       (eventName === "mouseenter" || eventName === "mouseleave")) {
        if (eventName === "mouseenter" || eventName === "mouseleave") {
          responder = function(event) {
            Event.extend(event, element);

            var parent = event.relatedTarget;
            while (parent && parent !== element) {
              try { parent = parent.parentNode; }
              catch(e) { parent = element; }
            }

            if (parent === element) return;

            handler.call(element, event);
          };
        }
      } else {
        responder = function(event) {
          Event.extend(event, element);
          handler.call(element, event);
        };
      }
    }

    responder.handler = handler;
    respondersForEvent.push(responder);
    return responder;
  }

  function _destroyCache() {
    for (var i = 0, length = CACHE.length; i < length; i++) {
      Event.stopObserving(CACHE[i]);
      CACHE[i] = null;
    }
  }

  var CACHE = [];

  if (Prototype.Browser.IE)
    window.attachEvent('onunload', _destroyCache);

  if (Prototype.Browser.WebKit)
    window.addEventListener('unload', Prototype.emptyFunction, false);


  var _getDOMEventName = Prototype.K,
      translations = { mouseenter: "mouseover", mouseleave: "mouseout" };

  if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED) {
    _getDOMEventName = function(eventName) {
      return (translations[eventName] || eventName);
    };
  }

  function observe(element, eventName, handler) {
    element = $(element);

    var responder = _createResponder(element, eventName, handler);

    if (!responder) return element;

    if (eventName.include(':')) {
      if (element.addEventListener)
        element.addEventListener("dataavailable", responder, false);
      else {
        element.attachEvent("ondataavailable", responder);
        element.attachEvent("onlosecapture", responder);
      }
    } else {
      var actualEventName = _getDOMEventName(eventName);

      if (element.addEventListener)
        element.addEventListener(actualEventName, responder, false);
      else
        element.attachEvent("on" + actualEventName, responder);
    }

    return element;
  }

  function stopObserving(element, eventName, handler) {
    element = $(element);

    var registry = Element.retrieve(element, 'prototype_event_registry');
    if (!registry) return element;

    if (!eventName) {
      registry.each( function(pair) {
        var eventName = pair.key;
        stopObserving(element, eventName);
      });
      return element;
    }

    var responders = registry.get(eventName);
    if (!responders) return element;

    if (!handler) {
      responders.each(function(r) {
        stopObserving(element, eventName, r.handler);
      });
      return element;
    }

    var i = responders.length, responder;
    while (i--) {
      if (responders[i].handler === handler) {
        responder = responders[i];
        break;
      }
    }
    if (!responder) return element;

    if (eventName.include(':')) {
      if (element.removeEventListener)
        element.removeEventListener("dataavailable", responder, false);
      else {
        element.detachEvent("ondataavailable", responder);
        element.detachEvent("onlosecapture", responder);
      }
    } else {
      var actualEventName = _getDOMEventName(eventName);
      if (element.removeEventListener)
        element.removeEventListener(actualEventName, responder, false);
      else
        element.detachEvent('on' + actualEventName, responder);
    }

    registry.set(eventName, responders.without(responder));

    return element;
  }

  function fire(element, eventName, memo, bubble) {
    element = $(element);

    if (Object.isUndefined(bubble))
      bubble = true;

    if (element == document && document.createEvent && !element.dispatchEvent)
      element = document.documentElement;

    var event;
    if (document.createEvent) {
      event = document.createEvent('HTMLEvents');
      event.initEvent('dataavailable', bubble, true);
    } else {
      event = document.createEventObject();
      event.eventType = bubble ? 'ondataavailable' : 'onlosecapture';
    }

    event.eventName = eventName;
    event.memo = memo || { };

    if (document.createEvent)
      element.dispatchEvent(event);
    else
      element.fireEvent(event.eventType, event);

    return Event.extend(event);
  }

  Event.Handler = Class.create({
    initialize: function(element, eventName, selector, callback) {
      this.element   = $(element);
      this.eventName = eventName;
      this.selector  = selector;
      this.callback  = callback;
      this.handler   = this.handleEvent.bind(this);
    },

    start: function() {
      Event.observe(this.element, this.eventName, this.handler);
      return this;
    },

    stop: function() {
      Event.stopObserving(this.element, this.eventName, this.handler);
      return this;
    },

    handleEvent: function(event) {
      var element = Event.findElement(event, this.selector);
      if (element) this.callback.call(this.element, event, element);
    }
  });

  function on(element, eventName, selector, callback) {
    element = $(element);
    if (Object.isFunction(selector) && Object.isUndefined(callback)) {
      callback = selector, selector = null;
    }

    return new Event.Handler(element, eventName, selector, callback).start();
  }

  Object.extend(Event, Event.Methods);

  Object.extend(Event, {
    fire:          fire,
    observe:       observe,
    stopObserving: stopObserving,
    on:            on
  });

  Element.addMethods({
    fire:          fire,

    observe:       observe,

    stopObserving: stopObserving,

    on:            on
  });

  Object.extend(document, {
    fire:          fire.methodize(),

    observe:       observe.methodize(),

    stopObserving: stopObserving.methodize(),

    on:            on.methodize(),

    loaded:        false
  });

  if (window.Event) Object.extend(window.Event, Event);
  else window.Event = Event;
})();

(function() {
  /* Support for the DOMContentLoaded event is based on work by Dan Webb,
     Matthias Miller, Dean Edwards, John Resig, and Diego Perini. */

  var timer;

  function fireContentLoadedEvent() {
    if (document.loaded) return;
    if (timer) window.clearTimeout(timer);
    document.loaded = true;
    document.fire('dom:loaded');
  }

  function checkReadyState() {
    if (document.readyState === 'complete') {
      document.stopObserving('readystatechange', checkReadyState);
      fireContentLoadedEvent();
    }
  }

  function pollDoScroll() {
    try { document.documentElement.doScroll('left'); }
    catch(e) {
      timer = pollDoScroll.defer();
      return;
    }
    fireContentLoadedEvent();
  }

  if (document.addEventListener) {
    document.addEventListener('DOMContentLoaded', fireContentLoadedEvent, false);
  } else {
    document.observe('readystatechange', checkReadyState);
    if (window == top)
      timer = pollDoScroll.defer();
  }

  Event.observe(window, 'load', fireContentLoadedEvent);
})();

Element.addMethods();

/*------------------------------- DEPRECATED -------------------------------*/

Hash.toQueryString = Object.toQueryString;

var Toggle = { display: Element.toggle };

Element.Methods.childOf = Element.Methods.descendantOf;

var Insertion = {
  Before: function(element, content) {
    return Element.insert(element, {before:content});
  },

  Top: function(element, content) {
    return Element.insert(element, {top:content});
  },

  Bottom: function(element, content) {
    return Element.insert(element, {bottom:content});
  },

  After: function(element, content) {
    return Element.insert(element, {after:content});
  }
};

var $continue = new Error('"throw $continue" is deprecated, use "return" instead');

var Position = {
  includeScrollOffsets: false,

  prepare: function() {
    this.deltaX =  window.pageXOffset
                || document.documentElement.scrollLeft
                || document.body.scrollLeft
                || 0;
    this.deltaY =  window.pageYOffset
                || document.documentElement.scrollTop
                || document.body.scrollTop
                || 0;
  },

  within: function(element, x, y) {
    if (this.includeScrollOffsets)
      return this.withinIncludingScrolloffsets(element, x, y);
    this.xcomp = x;
    this.ycomp = y;
    this.offset = Element.cumulativeOffset(element);

    return (y >= this.offset[1] &&
            y <  this.offset[1] + element.offsetHeight &&
            x >= this.offset[0] &&
            x <  this.offset[0] + element.offsetWidth);
  },

  withinIncludingScrolloffsets: function(element, x, y) {
    var offsetcache = Element.cumulativeScrollOffset(element);

    this.xcomp = x + offsetcache[0] - this.deltaX;
    this.ycomp = y + offsetcache[1] - this.deltaY;
    this.offset = Element.cumulativeOffset(element);

    return (this.ycomp >= this.offset[1] &&
            this.ycomp <  this.offset[1] + element.offsetHeight &&
            this.xcomp >= this.offset[0] &&
            this.xcomp <  this.offset[0] + element.offsetWidth);
  },

  overlap: function(mode, element) {
    if (!mode) return 0;
    if (mode == 'vertical')
      return ((this.offset[1] + element.offsetHeight) - this.ycomp) /
        element.offsetHeight;
    if (mode == 'horizontal')
      return ((this.offset[0] + element.offsetWidth) - this.xcomp) /
        element.offsetWidth;
  },


  cumulativeOffset: Element.Methods.cumulativeOffset,

  positionedOffset: Element.Methods.positionedOffset,

  absolutize: function(element) {
    Position.prepare();
    return Element.absolutize(element);
  },

  relativize: function(element) {
    Position.prepare();
    return Element.relativize(element);
  },

  realOffset: Element.Methods.cumulativeScrollOffset,

  offsetParent: Element.Methods.getOffsetParent,

  page: Element.Methods.viewportOffset,

  clone: function(source, target, options) {
    options = options || { };
    return Element.clonePosition(target, source, options);
  }
};

/*--------------------------------------------------------------------------*/

if (!document.getElementsByClassName) document.getElementsByClassName = function(instanceMethods){
  function iter(name) {
    return name.blank() ? null : "[contains(concat(' ', @class, ' '), ' " + name + " ')]";
  }

  instanceMethods.getElementsByClassName = Prototype.BrowserFeatures.XPath ?
  function(element, className) {
    className = className.toString().strip();
    var cond = /\s/.test(className) ? $w(className).map(iter).join('') : iter(className);
    return cond ? document._getElementsByXPath('.//*' + cond, element) : [];
  } : function(element, className) {
    className = className.toString().strip();
    var elements = [], classNames = (/\s/.test(className) ? $w(className) : null);
    if (!classNames && !className) return elements;

    var nodes = $(element).getElementsByTagName('*');
    className = ' ' + className + ' ';

    for (var i = 0, child, cn; child = nodes[i]; i++) {
      if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||
          (classNames && classNames.all(function(name) {
            return !name.toString().blank() && cn.include(' ' + name + ' ');
          }))))
        elements.push(Element.extend(child));
    }
    return elements;
  };

  return function(className, parentElement) {
    return $(parentElement || document.body).getElementsByClassName(className);
  };
}(Element.Methods);

/*--------------------------------------------------------------------------*/

Element.ClassNames = Class.create();
Element.ClassNames.prototype = {
  initialize: function(element) {
    this.element = $(element);
  },

  _each: function(iterator) {
    this.element.className.split(/\s+/).select(function(name) {
      return name.length > 0;
    })._each(iterator);
  },

  set: function(className) {
    this.element.className = className;
  },

  add: function(classNameToAdd) {
    if (this.include(classNameToAdd)) return;
    this.set($A(this).concat(classNameToAdd).join(' '));
  },

  remove: function(classNameToRemove) {
    if (!this.include(classNameToRemove)) return;
    this.set($A(this).without(classNameToRemove).join(' '));
  },

  toString: function() {
    return $A(this).join(' ');
  }
};

Object.extend(Element.ClassNames.prototype, Enumerable);

/*--------------------------------------------------------------------------*/

(function() {
  window.Selector = Class.create({
    initialize: function(expression) {
      this.expression = expression.strip();
    },

    findElements: function(rootElement) {
      return Prototype.Selector.select(this.expression, rootElement);
    },

    match: function(element) {
      return Prototype.Selector.match(element, this.expression);
    },

    toString: function() {
      return this.expression;
    },

    inspect: function() {
      return "#<Selector: " + this.expression + ">";
    }
  });

  Object.extend(Selector, {
    matchElements: function(elements, expression) {
      var match = Prototype.Selector.match,
          results = [];

      for (var i = 0, length = elements.length; i < length; i++) {
        var element = elements[i];
        if (match(element, expression)) {
          results.push(Element.extend(element));
        }
      }
      return results;
    },

    findElement: function(elements, expression, index) {
      index = index || 0;
      var matchIndex = 0, element;
      for (var i = 0, length = elements.length; i < length; i++) {
        element = elements[i];
        if (Prototype.Selector.match(element, expression) && index === matchIndex++) {
          return Element.extend(element);
        }
      }
    },

    findChildElements: function(element, expressions) {
      var selector = expressions.toArray().join(', ');
      return Prototype.Selector.select(selector, element || document);
    }
  });
})();
_application/x-javascript‘+,-._Phttps://devimages.apple.com.edgekey.net/assets/core/scripts/lib/scriptaculous.jsOEbplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Phttps://devimages.apple.com.edgekey.net/assets/core/scripts/lib/scriptaculous.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xê®¨ »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"60731955c25f2fb2a9faaa0cd0af724f:1365277160"_Sat, 06 Apr 2013 19:39:20 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesV118598Zkeep-alive“+,Z[\NSDictionary¢Z/ œF_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ27BKQT]fhjqyÑçèëìïóôõù¶®™¨Æ∞≤¥∂∏øÃ—ﬂ‰Ú.^~û§´∂ª»À–Î*<?U             g              WO œF// script.aculo.us scriptaculous.js v1.8.0, Tue Nov 06 15:01:40 +0300 2007

// Copyright (c) 2005-2007 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
// 
// Permission is hereby granted, free of charge, to any person obtaining
// a copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to
// permit persons to whom the Software is furnished to do so, subject to
// the following conditions:
// 
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
//
// For details, see the script.aculo.us web site: http://script.aculo.us/

var Scriptaculous = {
  Version: '1.8.0',
  REQUIRED_PROTOTYPE: '1.6.0'
}

var Builder = {
  NODEMAP: {
    AREA: 'map',
    CAPTION: 'table',
    COL: 'table',
    COLGROUP: 'table',
    LEGEND: 'fieldset',
    OPTGROUP: 'select',
    OPTION: 'select',
    PARAM: 'object',
    TBODY: 'table',
    TD: 'table',
    TFOOT: 'table',
    TH: 'table',
    THEAD: 'table',
    TR: 'table'
  },
  // note: For Firefox < 1.5, OPTION and OPTGROUP tags are currently broken,
  //       due to a Firefox bug
  node: function(elementName) {
    elementName = elementName.toUpperCase();
    
    // try innerHTML approach
    var parentTag = this.NODEMAP[elementName] || 'div';
    var parentElement = document.createElement(parentTag);
    try { // prevent IE "feature": http://dev.rubyonrails.org/ticket/2707
      parentElement.innerHTML = "<" + elementName + "></" + elementName + ">";
    } catch(e) {}
    var element = parentElement.firstChild || null;
      
    // see if browser added wrapping tags
    if(element && (element.tagName.toUpperCase() != elementName))
      element = element.getElementsByTagName(elementName)[0];
    
    // fallback to createElement approach
    if(!element) element = document.createElement(elementName);
    
    // abort if nothing could be created
    if(!element) return;

    // attributes (or text)
    if(arguments[1])
      if(this._isStringOrNumber(arguments[1]) ||
        (arguments[1] instanceof Array) ||
        arguments[1].tagName) {
          this._children(element, arguments[1]);
        } else {
          var attrs = this._attributes(arguments[1]);
          if(attrs.length) {
            try { // prevent IE "feature": http://dev.rubyonrails.org/ticket/2707
              parentElement.innerHTML = "<" +elementName + " " +
                attrs + "></" + elementName + ">";
            } catch(e) {}
            element = parentElement.firstChild || null;
            // workaround firefox 1.0.X bug
            if(!element) {
              element = document.createElement(elementName);
              for(attr in arguments[1]) 
                element[attr == 'class' ? 'className' : attr] = arguments[1][attr];
            }
            if(element.tagName.toUpperCase() != elementName)
              element = parentElement.getElementsByTagName(elementName)[0];
          }
        } 

    // text, or array of children
    if(arguments[2])
      this._children(element, arguments[2]);

     return element;
  },
  _text: function(text) {
     return document.createTextNode(text);
  },

  ATTR_MAP: {
    'className': 'class',
    'htmlFor': 'for'
  },

  _attributes: function(attributes) {
    var attrs = [];
    for(attribute in attributes)
      attrs.push((attribute in this.ATTR_MAP ? this.ATTR_MAP[attribute] : attribute) +
          '="' + attributes[attribute].toString().escapeHTML().gsub(/"/,'&quot;') + '"');
    return attrs.join(" ");
  },
  _children: function(element, children) {
    if(children.tagName) {
      element.appendChild(children);
      return;
    }
    if(typeof children=='object') { // array can hold nodes and text
      children.flatten().each( function(e) {
        if(typeof e=='object')
          element.appendChild(e)
        else
          if(Builder._isStringOrNumber(e))
            element.appendChild(Builder._text(e));
      });
    } else
      if(Builder._isStringOrNumber(children))
        element.appendChild(Builder._text(children));
  },
  _isStringOrNumber: function(param) {
    return(typeof param=='string' || typeof param=='number');
  },
  build: function(html) {
    var element = this.node('div');
    $(element).update(html.strip());
    return element.down();
  },
  dump: function(scope) { 
    if(typeof scope != 'object' && typeof scope != 'function') scope = window; //global scope 
  
    var tags = ("A ABBR ACRONYM ADDRESS APPLET AREA B BASE BASEFONT BDO BIG BLOCKQUOTE BODY " +
      "BR BUTTON CAPTION CENTER CITE CODE COL COLGROUP DD DEL DFN DIR DIV DL DT EM FIELDSET " +
      "FONT FORM FRAME FRAMESET H1 H2 H3 H4 H5 H6 HEAD HR HTML I IFRAME IMG INPUT INS ISINDEX "+
      "KBD LABEL LEGEND LI LINK MAP MENU META NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION P "+
      "PARAM PRE Q S SAMP SCRIPT SELECT SMALL SPAN STRIKE STRONG STYLE SUB SUP TABLE TBODY TD "+
      "TEXTAREA TFOOT TH THEAD TITLE TR TT U UL VAR").split(/\s+/);
  
    tags.each( function(tag){ 
      scope[tag] = function() { 
        return Builder.node.apply(Builder, [tag].concat($A(arguments)));  
      } 
    });
  }
}

String.prototype.parseColor = function() {  
  var color = '#';
  if (this.slice(0,4) == 'rgb(') {  
    var cols = this.slice(4,this.length-1).split(',');  
    var i=0; do { color += parseInt(cols[i]).toColorPart() } while (++i<3);  
  } else {  
    if (this.slice(0,1) == '#') {  
      if (this.length==4) for(var i=1;i<4;i++) color += (this.charAt(i) + this.charAt(i)).toLowerCase();  
      if (this.length==7) color = this.toLowerCase();  
    }  
  }  
  return (color.length==7 ? color : (arguments[0] || this));  
};

/*--------------------------------------------------------------------------*/

Element.collectTextNodes = function(element) {  
  return $A($(element).childNodes).collect( function(node) {
    return (node.nodeType==3 ? node.nodeValue : 
      (node.hasChildNodes() ? Element.collectTextNodes(node) : ''));
  }).flatten().join('');
};

Element.collectTextNodesIgnoreClass = function(element, className) {  
  return $A($(element).childNodes).collect( function(node) {
    return (node.nodeType==3 ? node.nodeValue : 
      ((node.hasChildNodes() && !Element.hasClassName(node,className)) ? 
        Element.collectTextNodesIgnoreClass(node, className) : ''));
  }).flatten().join('');
};

Element.setContentZoom = function(element, percent) {
  element = $(element);  
  element.setStyle({fontSize: (percent/100) + 'em'});   
  if (Prototype.Browser.WebKit) window.scrollBy(0,0);
  return element;
};

Element.getInlineOpacity = function(element){
  return $(element).style.opacity || '';
};

Element.forceRerendering = function(element) {
  try {
    element = $(element);
    var n = document.createTextNode(' ');
    element.appendChild(n);
    element.removeChild(n);
  } catch(e) { }
};

/*--------------------------------------------------------------------------*/

var Effect = {
  _elementDoesNotExistError: {
    name: 'ElementDoesNotExistError',
    message: 'The specified DOM element does not exist, but is required for this effect to operate'
  },
  Transitions: {
    linear: Prototype.K,
    sinoidal: function(pos) {
      return (-Math.cos(pos*Math.PI)/2) + 0.5;
    },
    reverse: function(pos) {
      return 1-pos;
    },
    flicker: function(pos) {
      var pos = ((-Math.cos(pos*Math.PI)/4) + 0.75) + Math.random()/4;
      return pos > 1 ? 1 : pos;
    },
    wobble: function(pos) {
      return (-Math.cos(pos*Math.PI*(9*pos))/2) + 0.5;
    },
    pulse: function(pos, pulses) { 
      pulses = pulses || 5; 
      return (
        ((pos % (1/pulses)) * pulses).round() == 0 ? 
              ((pos * pulses * 2) - (pos * pulses * 2).floor()) : 
          1 - ((pos * pulses * 2) - (pos * pulses * 2).floor())
        );
    },
    spring: function(pos) { 
      return 1 - (Math.cos(pos * 4.5 * Math.PI) * Math.exp(-pos * 6)); 
    },
    none: function(pos) {
      return 0;
    },
    full: function(pos) {
      return 1;
    }
  },
  DefaultOptions: {
    duration:   1.0,   // seconds
    fps:        100,   // 100= assume 66fps max.
    sync:       false, // true for combining
    from:       0.0,
    to:         1.0,
    delay:      0.0,
    queue:      'parallel'
  },
  tagifyText: function(element) {
    var tagifyStyle = 'position:relative';
    if (Prototype.Browser.IE) tagifyStyle += ';zoom:1';
    
    element = $(element);
    $A(element.childNodes).each( function(child) {
      if (child.nodeType==3) {
        child.nodeValue.toArray().each( function(character) {
          element.insertBefore(
            new Element('span', {style: tagifyStyle}).update(
              character == ' ' ? String.fromCharCode(160) : character), 
              child);
        });
        Element.remove(child);
      }
    });
  },
  multiple: function(element, effect) {
    var elements;
    if (((typeof element == 'object') || 
        Object.isFunction(element)) && 
       (element.length))
      elements = element;
    else
      elements = $(element).childNodes;
      
    var options = Object.extend({
      speed: 0.1,
      delay: 0.0
    }, arguments[2] || { });
    var masterDelay = options.delay;

    $A(elements).each( function(element, index) {
      new effect(element, Object.extend(options, { delay: index * options.speed + masterDelay }));
    });
  },
  PAIRS: {
    'slide':  ['SlideDown','SlideUp'],
    'blind':  ['BlindDown','BlindUp'],
    'appear': ['Appear','Fade']
  },
  toggle: function(element, effect) {
    element = $(element);
    effect = (effect || 'appear').toLowerCase();
    var options = Object.extend({
      queue: { position:'end', scope:(element.id || 'global'), limit: 1 }
    }, arguments[2] || { });
    Effect[element.visible() ? 
      Effect.PAIRS[effect][1] : Effect.PAIRS[effect][0]](element, options);
  }
};

Effect.DefaultOptions.transition = Effect.Transitions.sinoidal;

/* ------------- core effects ------------- */

Effect.ScopedQueue = Class.create(Enumerable, {
  initialize: function() {
    this.effects  = [];
    this.interval = null;    
  },
  _each: function(iterator) {
    this.effects._each(iterator);
  },
  add: function(effect) {
    var timestamp = new Date().getTime();
    
    var position = Object.isString(effect.options.queue) ? 
      effect.options.queue : effect.options.queue.position;
    
    switch(position) {
      case 'front':
        // move unstarted effects after this effect  
        this.effects.findAll(function(e){ return e.state=='idle' }).each( function(e) {
            e.startOn  += effect.finishOn;
            e.finishOn += effect.finishOn;
          });
        break;
      case 'with-last':
        timestamp = this.effects.pluck('startOn').max() || timestamp;
        break;
      case 'end':
        // start effect after last queued effect has finished
        timestamp = this.effects.pluck('finishOn').max() || timestamp;
        break;
    }
    
    effect.startOn  += timestamp;
    effect.finishOn += timestamp;

    if (!effect.options.queue.limit || (this.effects.length < effect.options.queue.limit))
      this.effects.push(effect);
    
    if (!this.interval)
      this.interval = setInterval(this.loop.bind(this), 15);
  },
  remove: function(effect) {
    this.effects = this.effects.reject(function(e) { return e==effect });
    if (this.effects.length == 0) {
      clearInterval(this.interval);
      this.interval = null;
    }
  },
  loop: function() {
    var timePos = new Date().getTime();
    for(var i=0, len=this.effects.length;i<len;i++) 
      this.effects[i] && this.effects[i].loop(timePos);
  }
});

Effect.Queues = {
  instances: $H(),
  get: function(queueName) {
    if (!Object.isString(queueName)) return queueName;
    
    return this.instances.get(queueName) ||
      this.instances.set(queueName, new Effect.ScopedQueue());
  }
};
Effect.Queue = Effect.Queues.get('global');

Effect.Base = Class.create({
  position: null,
  start: function(options) {
    function codeForEvent(options,eventName){
      return (
        (options[eventName+'Internal'] ? 'this.options.'+eventName+'Internal(this);' : '') +
        (options[eventName] ? 'this.options.'+eventName+'(this);' : '')
      );
    }
    if (options && options.transition === false) options.transition = Effect.Transitions.linear;
    this.options      = Object.extend(Object.extend({ },Effect.DefaultOptions), options || { });
    this.currentFrame = 0;
    this.state        = 'idle';
    this.startOn      = this.options.delay*1000;
    this.finishOn     = this.startOn+(this.options.duration*1000);
    this.fromToDelta  = this.options.to-this.options.from;
    this.totalTime    = this.finishOn-this.startOn;
    this.totalFrames  = this.options.fps*this.options.duration;
    
    eval('this.render = function(pos){ '+
      'if (this.state=="idle"){this.state="running";'+
      codeForEvent(this.options,'beforeSetup')+
      (this.setup ? 'this.setup();':'')+ 
      codeForEvent(this.options,'afterSetup')+
      '};if (this.state=="running"){'+
      'pos=this.options.transition(pos)*'+this.fromToDelta+'+'+this.options.from+';'+
      'this.position=pos;'+
      codeForEvent(this.options,'beforeUpdate')+
      (this.update ? 'this.update(pos);':'')+
      codeForEvent(this.options,'afterUpdate')+
      '}}');
    
    this.event('beforeStart');
    if (!this.options.sync)
      Effect.Queues.get(Object.isString(this.options.queue) ? 
        'global' : this.options.queue.scope).add(this);
  },
  loop: function(timePos) {
    if (timePos >= this.startOn) {
      if (timePos >= this.finishOn) {
        this.render(1.0);
        this.cancel();
        this.event('beforeFinish');
        if (this.finish) this.finish(); 
        this.event('afterFinish');
        return;  
      }
      var pos   = (timePos - this.startOn) / this.totalTime,
          frame = (pos * this.totalFrames).round();
      if (frame > this.currentFrame) {
        this.render(pos);
        this.currentFrame = frame;
      }
    }
  },
  cancel: function() {
    if (!this.options.sync)
      Effect.Queues.get(Object.isString(this.options.queue) ? 
        'global' : this.options.queue.scope).remove(this);
    this.state = 'finished';
  },
  event: function(eventName) {
    if (this.options[eventName + 'Internal']) this.options[eventName + 'Internal'](this);
    if (this.options[eventName]) this.options[eventName](this);
  },
  inspect: function() {
    var data = $H();
    for(property in this)
      if (!Object.isFunction(this[property])) data.set(property, this[property]);
    return '#<Effect:' + data.inspect() + ',options:' + $H(this.options).inspect() + '>';
  }
});

Effect.Parallel = Class.create(Effect.Base, {
  initialize: function(effects) {
    this.effects = effects || [];
    this.start(arguments[1]);
  },
  update: function(position) {
    this.effects.invoke('render', position);
  },
  finish: function(position) {
    this.effects.each( function(effect) {
      effect.render(1.0);
      effect.cancel();
      effect.event('beforeFinish');
      if (effect.finish) effect.finish(position);
      effect.event('afterFinish');
    });
  }
});

Effect.Tween = Class.create(Effect.Base, {
  initialize: function(object, from, to) {
    object = Object.isString(object) ? $(object) : object;
    var args = $A(arguments), method = args.last(), 
      options = args.length == 5 ? args[3] : null;
    this.method = Object.isFunction(method) ? method.bind(object) :
      Object.isFunction(object[method]) ? object[method].bind(object) : 
      function(value) { object[method] = value };
    this.start(Object.extend({ from: from, to: to }, options || { }));
  },
  update: function(position) {
    this.method(position);
  }
});

Effect.Event = Class.create(Effect.Base, {
  initialize: function() {
    this.start(Object.extend({ duration: 0 }, arguments[0] || { }));
  },
  update: Prototype.emptyFunction
});

Effect.Opacity = Class.create(Effect.Base, {
  initialize: function(element) {
    this.element = $(element);
    if (!this.element) throw(Effect._elementDoesNotExistError);
    // make this work on IE on elements without 'layout'
    if (Prototype.Browser.IE && (!this.element.currentStyle.hasLayout))
      this.element.setStyle({zoom: 1});
    var options = Object.extend({
      from: this.element.getOpacity() || 0.0,
      to:   1.0
    }, arguments[1] || { });
    this.start(options);
  },
  update: function(position) {
    this.element.setOpacity(position);
  }
});

Effect.Move = Class.create(Effect.Base, {
  initialize: function(element) {
    this.element = $(element);
    if (!this.element) throw(Effect._elementDoesNotExistError);
    var options = Object.extend({
      x:    0,
      y:    0,
      mode: 'relative'
    }, arguments[1] || { });
    this.start(options);
  },
  setup: function() {
    this.element.makePositioned();
    this.originalLeft = parseFloat(this.element.getStyle('left') || '0');
    this.originalTop  = parseFloat(this.element.getStyle('top')  || '0');
    if (this.options.mode == 'absolute') {
      this.options.x = this.options.x - this.originalLeft;
      this.options.y = this.options.y - this.originalTop;
    }
  },
  update: function(position) {
    this.element.setStyle({
      left: (this.options.x  * position + this.originalLeft).round() + 'px',
      top:  (this.options.y  * position + this.originalTop).round()  + 'px'
    });
  }
});

// for backwards compatibility
Effect.MoveBy = function(element, toTop, toLeft) {
  return new Effect.Move(element, 
    Object.extend({ x: toLeft, y: toTop }, arguments[3] || { }));
};

Effect.Scale = Class.create(Effect.Base, {
  initialize: function(element, percent) {
    this.element = $(element);
    if (!this.element) throw(Effect._elementDoesNotExistError);
    var options = Object.extend({
      scaleX: true,
      scaleY: true,
      scaleContent: true,
      scaleFromCenter: false,
      scaleMode: 'box',        // 'box' or 'contents' or { } with provided values
      scaleFrom: 100.0,
      scaleTo:   percent
    }, arguments[2] || { });
    this.start(options);
  },
  setup: function() {
    this.restoreAfterFinish = this.options.restoreAfterFinish || false;
    this.elementPositioning = this.element.getStyle('position');
    
    this.originalStyle = { };
    ['top','left','width','height','fontSize'].each( function(k) {
      this.originalStyle[k] = this.element.style[k];
    }.bind(this));
      
    this.originalTop  = this.element.offsetTop;
    this.originalLeft = this.element.offsetLeft;
    
    var fontSize = this.element.getStyle('font-size') || '100%';
    ['em','px','%','pt'].each( function(fontSizeType) {
      if (fontSize.indexOf(fontSizeType)>0) {
        this.fontSize     = parseFloat(fontSize);
        this.fontSizeType = fontSizeType;
      }
    }.bind(this));
    
    this.factor = (this.options.scaleTo - this.options.scaleFrom)/100;
    
    this.dims = null;
    if (this.options.scaleMode=='box')
      this.dims = [this.element.offsetHeight, this.element.offsetWidth];
    if (/^content/.test(this.options.scaleMode))
      this.dims = [this.element.scrollHeight, this.element.scrollWidth];
    if (!this.dims)
      this.dims = [this.options.scaleMode.originalHeight,
                   this.options.scaleMode.originalWidth];
  },
  update: function(position) {
    var currentScale = (this.options.scaleFrom/100.0) + (this.factor * position);
    if (this.options.scaleContent && this.fontSize)
      this.element.setStyle({fontSize: this.fontSize * currentScale + this.fontSizeType });
    this.setDimensions(this.dims[0] * currentScale, this.dims[1] * currentScale);
  },
  finish: function(position) {
    if (this.restoreAfterFinish) this.element.setStyle(this.originalStyle);
  },
  setDimensions: function(height, width) {
    var d = { };
    if (this.options.scaleX) d.width = width.round() + 'px';
    if (this.options.scaleY) d.height = height.round() + 'px';
    if (this.options.scaleFromCenter) {
      var topd  = (height - this.dims[0])/2;
      var leftd = (width  - this.dims[1])/2;
      if (this.elementPositioning == 'absolute') {
        if (this.options.scaleY) d.top = this.originalTop-topd + 'px';
        if (this.options.scaleX) d.left = this.originalLeft-leftd + 'px';
      } else {
        if (this.options.scaleY) d.top = -topd + 'px';
        if (this.options.scaleX) d.left = -leftd + 'px';
      }
    }
    this.element.setStyle(d);
  }
});

Effect.Highlight = Class.create(Effect.Base, {
  initialize: function(element) {
    this.element = $(element);
    if (!this.element) throw(Effect._elementDoesNotExistError);
    var options = Object.extend({ startcolor: '#ffff99' }, arguments[1] || { });
    this.start(options);
  },
  setup: function() {
    // Prevent executing on elements not in the layout flow
    if (this.element.getStyle('display')=='none') { this.cancel(); return; }
    // Disable background image during the effect
    this.oldStyle = { };
    if (!this.options.keepBackgroundImage) {
      this.oldStyle.backgroundImage = this.element.getStyle('background-image');
      this.element.setStyle({backgroundImage: 'none'});
    }
    if (!this.options.endcolor)
      this.options.endcolor = this.element.getStyle('background-color').parseColor('#ffffff');
    if (!this.options.restorecolor)
      this.options.restorecolor = this.element.getStyle('background-color');
    // init color calculations
    this._base  = $R(0,2).map(function(i){ return parseInt(this.options.startcolor.slice(i*2+1,i*2+3),16) }.bind(this));
    this._delta = $R(0,2).map(function(i){ return parseInt(this.options.endcolor.slice(i*2+1,i*2+3),16)-this._base[i] }.bind(this));
  },
  update: function(position) {
    this.element.setStyle({backgroundColor: $R(0,2).inject('#',function(m,v,i){
      return m+((this._base[i]+(this._delta[i]*position)).round().toColorPart()); }.bind(this)) });
  },
  finish: function() {
    this.element.setStyle(Object.extend(this.oldStyle, {
      backgroundColor: this.options.restorecolor
    }));
  }
});

Effect.ScrollTo = function(element) {
  var options = arguments[1] || { },
    scrollOffsets = document.viewport.getScrollOffsets(),
    elementOffsets = $(element).cumulativeOffset(),
    max = (window.height || document.body.scrollHeight) - document.viewport.getHeight();  

  if (options.offset) elementOffsets[1] += options.offset;

  return new Effect.Tween(null,
    scrollOffsets.top,
    elementOffsets[1] > max ? max : elementOffsets[1],
    options,
    function(p){ scrollTo(scrollOffsets.left, p.round()) }
  );
};

/* ------------- combination effects ------------- */

Effect.Fade = function(element) {
  element = $(element);
  var oldOpacity = element.getInlineOpacity();
  var options = Object.extend({
    from: element.getOpacity() || 1.0,
    to:   0.0,
    afterFinishInternal: function(effect) { 
      if (effect.options.to!=0) return;
      effect.element.hide().setStyle({opacity: oldOpacity}); 
    }
  }, arguments[1] || { });
  return new Effect.Opacity(element,options);
};

Effect.Appear = function(element) {
  element = $(element);
  var options = Object.extend({
  from: (element.getStyle('display') == 'none' ? 0.0 : element.getOpacity() || 0.0),
  to:   1.0,
  // force Safari to render floated elements properly
  afterFinishInternal: function(effect) {
    effect.element.forceRerendering();
  },
  beforeSetup: function(effect) {
    effect.element.setOpacity(effect.options.from).show(); 
  }}, arguments[1] || { });
  return new Effect.Opacity(element,options);
};

Effect.Puff = function(element) {
  element = $(element);
  var oldStyle = { 
    opacity: element.getInlineOpacity(), 
    position: element.getStyle('position'),
    top:  element.style.top,
    left: element.style.left,
    width: element.style.width,
    height: element.style.height
  };
  return new Effect.Parallel(
   [ new Effect.Scale(element, 200, 
      { sync: true, scaleFromCenter: true, scaleContent: true, restoreAfterFinish: true }), 
     new Effect.Opacity(element, { sync: true, to: 0.0 } ) ], 
     Object.extend({ duration: 1.0, 
      beforeSetupInternal: function(effect) {
        Position.absolutize(effect.effects[0].element)
      },
      afterFinishInternal: function(effect) {
         effect.effects[0].element.hide().setStyle(oldStyle); }
     }, arguments[1] || { })
   );
};

Effect.BlindUp = function(element) {
  element = $(element);
  element.makeClipping();
  return new Effect.Scale(element, 0,
    Object.extend({ scaleContent: false, 
      scaleX: false, 
      restoreAfterFinish: true,
      afterFinishInternal: function(effect) {
        effect.element.hide().undoClipping();
      } 
    }, arguments[1] || { })
  );
};

Effect.BlindDown = function(element) {
  element = $(element);
  var elementDimensions = element.getDimensions();
  return new Effect.Scale(element, 100, Object.extend({ 
    scaleContent: false, 
    scaleX: false,
    scaleFrom: 0,
    scaleMode: {originalHeight: elementDimensions.height, originalWidth: elementDimensions.width},
    restoreAfterFinish: true,
    afterSetup: function(effect) {
      effect.element.makeClipping().setStyle({height: '0px'}).show(); 
    },  
    afterFinishInternal: function(effect) {
      effect.element.undoClipping();
    }
  }, arguments[1] || { }));
};

Effect.SwitchOff = function(element) {
  element = $(element);
  var oldOpacity = element.getInlineOpacity();
  return new Effect.Appear(element, Object.extend({
    duration: 0.4,
    from: 0,
    transition: Effect.Transitions.flicker,
    afterFinishInternal: function(effect) {
      new Effect.Scale(effect.element, 1, { 
        duration: 0.3, scaleFromCenter: true,
        scaleX: false, scaleContent: false, restoreAfterFinish: true,
        beforeSetup: function(effect) { 
          effect.element.makePositioned().makeClipping();
        },
        afterFinishInternal: function(effect) {
          effect.element.hide().undoClipping().undoPositioned().setStyle({opacity: oldOpacity});
        }
      })
    }
  }, arguments[1] || { }));
};

Effect.DropOut = function(element) {
  element = $(element);
  var oldStyle = {
    top: element.getStyle('top'),
    left: element.getStyle('left'),
    opacity: element.getInlineOpacity() };
  return new Effect.Parallel(
    [ new Effect.Move(element, {x: 0, y: 100, sync: true }), 
      new Effect.Opacity(element, { sync: true, to: 0.0 }) ],
    Object.extend(
      { duration: 0.5,
        beforeSetup: function(effect) {
          effect.effects[0].element.makePositioned(); 
        },
        afterFinishInternal: function(effect) {
          effect.effects[0].element.hide().undoPositioned().setStyle(oldStyle);
        } 
      }, arguments[1] || { }));
};

Effect.Shake = function(element) {
  element = $(element);
  var options = Object.extend({
    distance: 20,
    duration: 0.5
  }, arguments[1] || {});
  var distance = parseFloat(options.distance);
  var split = parseFloat(options.duration) / 10.0;
  var oldStyle = {
    top: element.getStyle('top'),
    left: element.getStyle('left') };
    return new Effect.Move(element,
      { x:  distance, y: 0, duration: split, afterFinishInternal: function(effect) {
    new Effect.Move(effect.element,
      { x: -distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {
    new Effect.Move(effect.element,
      { x:  distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {
    new Effect.Move(effect.element,
      { x: -distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {
    new Effect.Move(effect.element,
      { x:  distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {
    new Effect.Move(effect.element,
      { x: -distance, y: 0, duration: split, afterFinishInternal: function(effect) {
        effect.element.undoPositioned().setStyle(oldStyle);
  }}) }}) }}) }}) }}) }});
};

Effect.SlideDown = function(element) {
  element = $(element).cleanWhitespace();
  // SlideDown need to have the content of the element wrapped in a container element with fixed height!
  var oldInnerBottom = element.down().getStyle('bottom');
  var elementDimensions = element.getDimensions();
  return new Effect.Scale(element, 100, Object.extend({ 
    scaleContent: false, 
    scaleX: false, 
    scaleFrom: window.opera ? 0 : 1,
    scaleMode: {originalHeight: elementDimensions.height, originalWidth: elementDimensions.width},
    restoreAfterFinish: true,
    afterSetup: function(effect) {
      effect.element.makePositioned();
      effect.element.down().makePositioned();
      if (window.opera) effect.element.setStyle({top: ''});
      effect.element.makeClipping().setStyle({height: '0px'}).show(); 
    },
    afterUpdateInternal: function(effect) {
      effect.element.down().setStyle({bottom:
        (effect.dims[0] - effect.element.clientHeight) + 'px' }); 
    },
    afterFinishInternal: function(effect) {
      effect.element.undoClipping().undoPositioned();
      effect.element.down().undoPositioned().setStyle({bottom: oldInnerBottom}); }
    }, arguments[1] || { })
  );
};

Effect.SlideUp = function(element) {
  element = $(element).cleanWhitespace();
  var oldInnerBottom = element.down().getStyle('bottom');
  var elementDimensions = element.getDimensions();
  return new Effect.Scale(element, window.opera ? 0 : 1,
   Object.extend({ scaleContent: false, 
    scaleX: false, 
    scaleMode: 'box',
    scaleFrom: 100,
    scaleMode: {originalHeight: elementDimensions.height, originalWidth: elementDimensions.width},
    restoreAfterFinish: true,
    afterSetup: function(effect) {
      effect.element.makePositioned();
      effect.element.down().makePositioned();
      if (window.opera) effect.element.setStyle({top: ''});
      effect.element.makeClipping().show();
    },  
    afterUpdateInternal: function(effect) {
      effect.element.down().setStyle({bottom:
        (effect.dims[0] - effect.element.clientHeight) + 'px' });
    },
    afterFinishInternal: function(effect) {
      effect.element.hide().undoClipping().undoPositioned();
      effect.element.down().undoPositioned().setStyle({bottom: oldInnerBottom});
    }
   }, arguments[1] || { })
  );
};

// Bug in opera makes the TD containing this element expand for a instance after finish 
Effect.Squish = function(element) {
  return new Effect.Scale(element, window.opera ? 1 : 0, { 
    restoreAfterFinish: true,
    beforeSetup: function(effect) {
      effect.element.makeClipping(); 
    },  
    afterFinishInternal: function(effect) {
      effect.element.hide().undoClipping(); 
    }
  });
};

Effect.Grow = function(element) {
  element = $(element);
  var options = Object.extend({
    direction: 'center',
    moveTransition: Effect.Transitions.sinoidal,
    scaleTransition: Effect.Transitions.sinoidal,
    opacityTransition: Effect.Transitions.full
  }, arguments[1] || { });
  var oldStyle = {
    top: element.style.top,
    left: element.style.left,
    height: element.style.height,
    width: element.style.width,
    opacity: element.getInlineOpacity() };

  var dims = element.getDimensions();    
  var initialMoveX, initialMoveY;
  var moveX, moveY;
  
  switch (options.direction) {
    case 'top-left':
      initialMoveX = initialMoveY = moveX = moveY = 0; 
      break;
    case 'top-right':
      initialMoveX = dims.width;
      initialMoveY = moveY = 0;
      moveX = -dims.width;
      break;
    case 'bottom-left':
      initialMoveX = moveX = 0;
      initialMoveY = dims.height;
      moveY = -dims.height;
      break;
    case 'bottom-right':
      initialMoveX = dims.width;
      initialMoveY = dims.height;
      moveX = -dims.width;
      moveY = -dims.height;
      break;
    case 'center':
      initialMoveX = dims.width / 2;
      initialMoveY = dims.height / 2;
      moveX = -dims.width / 2;
      moveY = -dims.height / 2;
      break;
  }
  
  return new Effect.Move(element, {
    x: initialMoveX,
    y: initialMoveY,
    duration: 0.01, 
    beforeSetup: function(effect) {
      effect.element.hide().makeClipping().makePositioned();
    },
    afterFinishInternal: function(effect) {
      new Effect.Parallel(
        [ new Effect.Opacity(effect.element, { sync: true, to: 1.0, from: 0.0, transition: options.opacityTransition }),
          new Effect.Move(effect.element, { x: moveX, y: moveY, sync: true, transition: options.moveTransition }),
          new Effect.Scale(effect.element, 100, {
            scaleMode: { originalHeight: dims.height, originalWidth: dims.width }, 
            sync: true, scaleFrom: window.opera ? 1 : 0, transition: options.scaleTransition, restoreAfterFinish: true})
        ], Object.extend({
             beforeSetup: function(effect) {
               effect.effects[0].element.setStyle({height: '0px'}).show(); 
             },
             afterFinishInternal: function(effect) {
               effect.effects[0].element.undoClipping().undoPositioned().setStyle(oldStyle); 
             }
           }, options)
      )
    }
  });
};

Effect.Shrink = function(element) {
  element = $(element);
  var options = Object.extend({
    direction: 'center',
    moveTransition: Effect.Transitions.sinoidal,
    scaleTransition: Effect.Transitions.sinoidal,
    opacityTransition: Effect.Transitions.none
  }, arguments[1] || { });
  var oldStyle = {
    top: element.style.top,
    left: element.style.left,
    height: element.style.height,
    width: element.style.width,
    opacity: element.getInlineOpacity() };

  var dims = element.getDimensions();
  var moveX, moveY;
  
  switch (options.direction) {
    case 'top-left':
      moveX = moveY = 0;
      break;
    case 'top-right':
      moveX = dims.width;
      moveY = 0;
      break;
    case 'bottom-left':
      moveX = 0;
      moveY = dims.height;
      break;
    case 'bottom-right':
      moveX = dims.width;
      moveY = dims.height;
      break;
    case 'center':  
      moveX = dims.width / 2;
      moveY = dims.height / 2;
      break;
  }
  
  return new Effect.Parallel(
    [ new Effect.Opacity(element, { sync: true, to: 0.0, from: 1.0, transition: options.opacityTransition }),
      new Effect.Scale(element, window.opera ? 1 : 0, { sync: true, transition: options.scaleTransition, restoreAfterFinish: true}),
      new Effect.Move(element, { x: moveX, y: moveY, sync: true, transition: options.moveTransition })
    ], Object.extend({            
         beforeStartInternal: function(effect) {
           effect.effects[0].element.makePositioned().makeClipping(); 
         },
         afterFinishInternal: function(effect) {
           effect.effects[0].element.hide().undoClipping().undoPositioned().setStyle(oldStyle); }
       }, options)
  );
};

Effect.Pulsate = function(element) {
  element = $(element);
  var options    = arguments[1] || { };
  var oldOpacity = element.getInlineOpacity();
  var transition = options.transition || Effect.Transitions.sinoidal;
  var reverser   = function(pos){ return transition(1-Effect.Transitions.pulse(pos, options.pulses)) };
  reverser.bind(transition);
  return new Effect.Opacity(element, 
    Object.extend(Object.extend({  duration: 2.0, from: 0,
      afterFinishInternal: function(effect) { effect.element.setStyle({opacity: oldOpacity}); }
    }, options), {transition: reverser}));
};

Effect.Fold = function(element) {
  element = $(element);
  var oldStyle = {
    top: element.style.top,
    left: element.style.left,
    width: element.style.width,
    height: element.style.height };
  element.makeClipping();
  return new Effect.Scale(element, 5, Object.extend({   
    scaleContent: false,
    scaleX: false,
    afterFinishInternal: function(effect) {
    new Effect.Scale(element, 1, { 
      scaleContent: false, 
      scaleY: false,
      afterFinishInternal: function(effect) {
        effect.element.hide().undoClipping().setStyle(oldStyle);
      } });
  }}, arguments[1] || { }));
};

Effect.Morph = Class.create(Effect.Base, {
  initialize: function(element) {
    this.element = $(element);
    if (!this.element) throw(Effect._elementDoesNotExistError);
    var options = Object.extend({
      style: { }
    }, arguments[1] || { });
    
    if (!Object.isString(options.style)) this.style = $H(options.style);
    else {
      if (options.style.include(':'))
        this.style = options.style.parseStyle();
      else {
        this.element.addClassName(options.style);
        this.style = $H(this.element.getStyles());
        this.element.removeClassName(options.style);
        var css = this.element.getStyles();
        this.style = this.style.reject(function(style) {
          return style.value == css[style.key];
        });
        options.afterFinishInternal = function(effect) {
          effect.element.addClassName(effect.options.style);
          effect.transforms.each(function(transform) {
            effect.element.style[transform.style] = '';
          });
        }
      }
    }
    this.start(options);
  },
  
  setup: function(){
    function parseColor(color){
      if (!color || ['rgba(0, 0, 0, 0)','transparent'].include(color)) color = '#ffffff';
      color = color.parseColor();
      return $R(0,2).map(function(i){
        return parseInt( color.slice(i*2+1,i*2+3), 16 ) 
      });
    }
    this.transforms = this.style.map(function(pair){
      var property = pair[0], value = pair[1], unit = null;

      if (value.parseColor('#zzzzzz') != '#zzzzzz') {
        value = value.parseColor();
        unit  = 'color';
      } else if (property == 'opacity') {
        value = parseFloat(value);
        if (Prototype.Browser.IE && (!this.element.currentStyle.hasLayout))
          this.element.setStyle({zoom: 1});
      } else if (Element.CSS_LENGTH.test(value)) {
          var components = value.match(/^([\+\-]?[0-9\.]+)(.*)$/);
          value = parseFloat(components[1]);
          unit = (components.length == 3) ? components[2] : null;
      }

      var originalValue = this.element.getStyle(property);
      return { 
        style: property.camelize(), 
        originalValue: unit=='color' ? parseColor(originalValue) : parseFloat(originalValue || 0), 
        targetValue: unit=='color' ? parseColor(value) : value,
        unit: unit
      };
    }.bind(this)).reject(function(transform){
      return (
        (transform.originalValue == transform.targetValue) ||
        (
          transform.unit != 'color' &&
          (isNaN(transform.originalValue) || isNaN(transform.targetValue))
        )
      )
    });
  },
  update: function(position) {
    var style = { }, transform, i = this.transforms.length;
    while(i--)
      style[(transform = this.transforms[i]).style] = 
        transform.unit=='color' ? '#'+
          (Math.round(transform.originalValue[0]+
            (transform.targetValue[0]-transform.originalValue[0])*position)).toColorPart() +
          (Math.round(transform.originalValue[1]+
            (transform.targetValue[1]-transform.originalValue[1])*position)).toColorPart() +
          (Math.round(transform.originalValue[2]+
            (transform.targetValue[2]-transform.originalValue[2])*position)).toColorPart() :
        (transform.originalValue +
          (transform.targetValue - transform.originalValue) * position).toFixed(3) + 
            (transform.unit === null ? '' : transform.unit);
    this.element.setStyle(style, true);
  }
});

Effect.Transform = Class.create({
  initialize: function(tracks){
    this.tracks  = [];
    this.options = arguments[1] || { };
    this.addTracks(tracks);
  },
  addTracks: function(tracks){
    tracks.each(function(track){
      track = $H(track);
      var data = track.values().first();
      this.tracks.push($H({
        ids:     track.keys().first(),
        effect:  Effect.Morph,
        options: { style: data }
      }));
    }.bind(this));
    return this;
  },
  play: function(){
    return new Effect.Parallel(
      this.tracks.map(function(track){
        var ids = track.get('ids'), effect = track.get('effect'), options = track.get('options');
        var elements = [$(ids) || $$(ids)].flatten();
        return elements.map(function(e){ return new effect(e, Object.extend({ sync:true }, options)) });
      }).flatten(),
      this.options
    );
  }
});

Element.CSS_PROPERTIES = $w(
  'backgroundColor backgroundPosition borderBottomColor borderBottomStyle ' + 
  'borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth ' +
  'borderRightColor borderRightStyle borderRightWidth borderSpacing ' +
  'borderTopColor borderTopStyle borderTopWidth bottom clip color ' +
  'fontSize fontWeight height left letterSpacing lineHeight ' +
  'marginBottom marginLeft marginRight marginTop markerOffset maxHeight '+
  'maxWidth minHeight minWidth opacity outlineColor outlineOffset ' +
  'outlineWidth paddingBottom paddingLeft paddingRight paddingTop ' +
  'right textIndent top width wordSpacing zIndex');
  
Element.CSS_LENGTH = /^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;

String.__parseStyleElement = document.createElement('div');
String.prototype.parseStyle = function(){
  var style, styleRules = $H();
  if (Prototype.Browser.WebKit)
    style = new Element('div',{style:this}).style;
  else {
    String.__parseStyleElement.innerHTML = '<div style="' + this + '"></div>';
    style = String.__parseStyleElement.childNodes[0].style;
  }
  
  Element.CSS_PROPERTIES.each(function(property){
    if (style[property]) styleRules.set(property, style[property]); 
  });
  
  if (Prototype.Browser.IE && this.include('opacity'))
    styleRules.set('opacity', this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]);

  return styleRules;
};

if (document.defaultView && document.defaultView.getComputedStyle) {
  Element.getStyles = function(element) {
    var css = document.defaultView.getComputedStyle($(element), null);
    return Element.CSS_PROPERTIES.inject({ }, function(styles, property) {
      styles[property] = css[property];
      return styles;
    });
  };
} else {
  Element.getStyles = function(element) {
    element = $(element);
    var css = element.currentStyle, styles;
    styles = Element.CSS_PROPERTIES.inject({ }, function(hash, property) {
      hash.set(property, css[property]);
      return hash;
    });
    if (!styles.opacity) styles.set('opacity', element.getOpacity());
    return styles;
  };
};

Effect.Methods = {
  morph: function(element, style) {
    element = $(element);
    new Effect.Morph(element, Object.extend({ style: style }, arguments[2] || { }));
    return element;
  },
  visualEffect: function(element, effect, options) {
    element = $(element)
    var s = effect.dasherize().camelize(), klass = s.charAt(0).toUpperCase() + s.substring(1);
    new Effect[klass](element, options);
    return element;
  },
  highlight: function(element, options) {
    element = $(element);
    new Effect.Highlight(element, options);
    return element;
  }
};

$w('fade appear grow shrink fold blindUp blindDown slideUp slideDown '+
  'pulsate shake puff squish switchOff dropOut').each(
  function(effect) { 
    Effect.Methods[effect] = function(element, options){
      element = $(element);
      Effect[effect.charAt(0).toUpperCase() + effect.substring(1)](element, options);
      return element;
    }
  }
);

$w('getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles').each( 
  function(f) { Effect.Methods[f] = Element[f]; }
);

Element.addMethods(Effect.Methods);

if(typeof Effect == 'undefined')
  throw("controls.js requires including script.aculo.us' effects.js library");

var Autocompleter = { }
Autocompleter.Base = Class.create({
  baseInitialize: function(element, update, options) {
    element          = $(element)
    this.element     = element; 
    this.update      = $(update);  
    this.hasFocus    = false; 
    this.changed     = false; 
    this.active      = false; 
    this.index       = 0;     
    this.entryCount  = 0;
    this.oldElementValue = this.element.value;

    if(this.setOptions)
      this.setOptions(options);
    else
      this.options = options || { };

    this.options.paramName    = this.options.paramName || this.element.name;
    this.options.tokens       = this.options.tokens || [];
    this.options.frequency    = this.options.frequency || 0.4;
    this.options.minChars     = this.options.minChars || 1;
    this.options.onShow       = this.options.onShow || 
      function(element, update){ 
        if(!update.style.position || update.style.position=='absolute') {
          update.style.position = 'absolute';
          Position.clone(element, update, {
            setHeight: false, 
            offsetTop: element.offsetHeight
          });
        }
        Effect.Appear(update,{duration:0.15});
      };
    this.options.onHide = this.options.onHide || 
      function(element, update){ new Effect.Fade(update,{duration:0.15}) };

    if(typeof(this.options.tokens) == 'string') 
      this.options.tokens = new Array(this.options.tokens);
    // Force carriage returns as token delimiters anyway
    if (!this.options.tokens.include('\n'))
      this.options.tokens.push('\n');

    this.observer = null;
    
    this.element.setAttribute('autocomplete','off');

    Element.hide(this.update);

    Event.observe(this.element, 'blur', this.onBlur.bindAsEventListener(this));
    Event.observe(this.element, 'keypress', this.onKeyPress.bindAsEventListener(this));
  },

  show: function() {
    if(Element.getStyle(this.update, 'display')=='none') this.options.onShow(this.element, this.update);
    if(!this.iefix && 
      (Prototype.Browser.IE) &&
      (Element.getStyle(this.update, 'position')=='absolute')) {
      new Insertion.After(this.update, 
       '<iframe id="' + this.update.id + '_iefix" '+
       'style="display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);" ' +
       'src="javascript:false;" frameborder="0" scrolling="no"></iframe>');
      this.iefix = $(this.update.id+'_iefix');
    }
    if(this.iefix) setTimeout(this.fixIEOverlapping.bind(this), 50);
  },
  
  fixIEOverlapping: function() {
    Position.clone(this.update, this.iefix, {setTop:(!this.update.style.height)});
    this.iefix.style.zIndex = 1;
    this.update.style.zIndex = 2;
    Element.show(this.iefix);
  },

  hide: function() {
    this.stopIndicator();
    if(Element.getStyle(this.update, 'display')!='none') this.options.onHide(this.element, this.update);
    if(this.iefix) Element.hide(this.iefix);
  },

  startIndicator: function() {
    if(this.options.indicator) Element.show(this.options.indicator);
  },

  stopIndicator: function() {
    if(this.options.indicator) Element.hide(this.options.indicator);
  },

  onKeyPress: function(event) {
    if(this.active)
      switch(event.keyCode) {
       case Event.KEY_TAB:
       case Event.KEY_RETURN:
         this.selectEntry();
         Event.stop(event);
       case Event.KEY_ESC:
         this.hide();
         this.active = false;
         Event.stop(event);
         return;
       case Event.KEY_LEFT:
       case Event.KEY_RIGHT:
         return;
       case Event.KEY_UP:
         this.markPrevious();
         this.render();
         if(Prototype.Browser.WebKit) Event.stop(event);
         return;
       case Event.KEY_DOWN:
         this.markNext();
         this.render();
         if(Prototype.Browser.WebKit) Event.stop(event);
         return;
      }
     else 
       if(event.keyCode==Event.KEY_TAB || event.keyCode==Event.KEY_RETURN || 
         (Prototype.Browser.WebKit > 0 && event.keyCode == 0)) return;

    this.changed = true;
    this.hasFocus = true;

    if(this.observer) clearTimeout(this.observer);
      this.observer = 
        setTimeout(this.onObserverEvent.bind(this), this.options.frequency*1000);
  },

  activate: function() {
    this.changed = false;
    this.hasFocus = true;
    this.getUpdatedChoices();
  },

  onHover: function(event) {
    var element = Event.findElement(event, 'LI');
    if(this.index != element.autocompleteIndex) 
    {
        this.index = element.autocompleteIndex;
        this.render();
    }
    Event.stop(event);
  },
  
  onClick: function(event) {
    var element = Event.findElement(event, 'LI');
    this.index = element.autocompleteIndex;
    this.selectEntry();
    this.hide();
  },
  
  onBlur: function(event) {
    // needed to make click events working
    setTimeout(this.hide.bind(this), 250);
    this.hasFocus = false;
    this.active = false;     
  }, 
  
  render: function() {
    if(this.entryCount > 0) {
      for (var i = 0; i < this.entryCount; i++)
        this.index==i ? 
          Element.addClassName(this.getEntry(i),"selected") : 
          Element.removeClassName(this.getEntry(i),"selected");
      if(this.hasFocus) { 
        this.show();
        this.active = true;
      }
    } else {
      this.active = false;
      this.hide();
    }
  },
  
  markPrevious: function() {
    if(this.index > 0) this.index--
      else this.index = this.entryCount-1;
    this.getEntry(this.index).scrollIntoView(true);
  },
  
  markNext: function() {
    if(this.index < this.entryCount-1) this.index++
      else this.index = 0;
    this.getEntry(this.index).scrollIntoView(false);
  },
  
  getEntry: function(index) {
    return this.update.firstChild.childNodes[index];
  },
  
  getCurrentEntry: function() {
    return this.getEntry(this.index);
  },
  
  selectEntry: function() {
    this.active = false;
    this.updateElement(this.getCurrentEntry());
  },

  updateElement: function(selectedElement) {
    if (this.options.updateElement) {
      this.options.updateElement(selectedElement);
      return;
    }
    var value = '';
    if (this.options.select) {
      var nodes = $(selectedElement).select('.' + this.options.select) || [];
      if(nodes.length>0) value = Element.collectTextNodes(nodes[0], this.options.select);
    } else
      value = Element.collectTextNodesIgnoreClass(selectedElement, 'informal');
    
    var bounds = this.getTokenBounds();
    if (bounds[0] != -1) {
      var newValue = this.element.value.substr(0, bounds[0]);
      var whitespace = this.element.value.substr(bounds[0]).match(/^\s+/);
      if (whitespace)
        newValue += whitespace[0];
      this.element.value = newValue + value + this.element.value.substr(bounds[1]);
    } else {
      this.element.value = value;
    }
    this.oldElementValue = this.element.value;
    this.element.focus();
    
    if (this.options.afterUpdateElement)
      this.options.afterUpdateElement(this.element, selectedElement);
  },

  updateChoices: function(choices) {
    if(!this.changed && this.hasFocus) {
      this.update.innerHTML = choices;
      Element.cleanWhitespace(this.update);
      Element.cleanWhitespace(this.update.down());

      if(this.update.firstChild && this.update.down().childNodes) {
        this.entryCount = 
          this.update.down().childNodes.length;
        for (var i = 0; i < this.entryCount; i++) {
          var entry = this.getEntry(i);
          entry.autocompleteIndex = i;
          this.addObservers(entry);
        }
      } else { 
        this.entryCount = 0;
      }

      this.stopIndicator();
      this.index = 0;
      
      if(this.entryCount==1 && this.options.autoSelect) {
        this.selectEntry();
        this.hide();
      } else {
        this.render();
      }
    }
  },

  addObservers: function(element) {
    Event.observe(element, "mouseover", this.onHover.bindAsEventListener(this));
    Event.observe(element, "click", this.onClick.bindAsEventListener(this));
  },

  onObserverEvent: function() {
    this.changed = false;   
    this.tokenBounds = null;
    if(this.getToken().length>=this.options.minChars) {
      this.getUpdatedChoices();
    } else {
      this.active = false;
      this.hide();
    }
    this.oldElementValue = this.element.value;
  },

  getToken: function() {
    var bounds = this.getTokenBounds();
    return this.element.value.substring(bounds[0], bounds[1]).strip();
  },

  getTokenBounds: function() {
    if (null != this.tokenBounds) return this.tokenBounds;
    var value = this.element.value;
    if (value.strip().empty()) return [-1, 0];
    var diff = arguments.callee.getFirstDifferencePos(value, this.oldElementValue);
    var offset = (diff == this.oldElementValue.length ? 1 : 0);
    var prevTokenPos = -1, nextTokenPos = value.length;
    var tp;
    for (var index = 0, l = this.options.tokens.length; index < l; ++index) {
      tp = value.lastIndexOf(this.options.tokens[index], diff + offset - 1);
      if (tp > prevTokenPos) prevTokenPos = tp;
      tp = value.indexOf(this.options.tokens[index], diff + offset);
      if (-1 != tp && tp < nextTokenPos) nextTokenPos = tp;
    }
    return (this.tokenBounds = [prevTokenPos + 1, nextTokenPos]);
  }
});

Autocompleter.Base.prototype.getTokenBounds.getFirstDifferencePos = function(newS, oldS) {
  var boundary = Math.min(newS.length, oldS.length);
  for (var index = 0; index < boundary; ++index)
    if (newS[index] != oldS[index])
      return index;
  return boundary;
};

Ajax.Autocompleter = Class.create(Autocompleter.Base, {
  initialize: function(element, update, url, options) {
    this.baseInitialize(element, update, options);
    this.options.asynchronous  = true;
    this.options.onComplete    = this.onComplete.bind(this);
    this.options.defaultParams = this.options.parameters || null;
    this.url                   = url;
  },

  getUpdatedChoices: function() {
    this.startIndicator();
    
    var entry = encodeURIComponent(this.options.paramName) + '=' + 
      encodeURIComponent(this.getToken());

    this.options.parameters = this.options.callback ?
      this.options.callback(this.element, entry) : entry;

    if(this.options.defaultParams) 
      this.options.parameters += '&' + this.options.defaultParams;
    
    new Ajax.Request(this.url, this.options);
  },

  onComplete: function(request) {
    this.updateChoices(request.responseText);
  }
});

// The local array autocompleter. Used when you'd prefer to
// inject an array of autocompletion options into the page, rather
// than sending out Ajax queries, which can be quite slow sometimes.
//
// The constructor takes four parameters. The first two are, as usual,
// the id of the monitored textbox, and id of the autocompletion menu.
// The third is the array you want to autocomplete from, and the fourth
// is the options block.
//
// Extra local autocompletion options:
// - choices - How many autocompletion choices to offer
//
// - partialSearch - If false, the autocompleter will match entered
//                    text only at the beginning of strings in the 
//                    autocomplete array. Defaults to true, which will
//                    match text at the beginning of any *word* in the
//                    strings in the autocomplete array. If you want to
//                    search anywhere in the string, additionally set
//                    the option fullSearch to true (default: off).
//
// - fullSsearch - Search anywhere in autocomplete array strings.
//
// - partialChars - How many characters to enter before triggering
//                   a partial match (unlike minChars, which defines
//                   how many characters are required to do any match
//                   at all). Defaults to 2.
//
// - ignoreCase - Whether to ignore case when autocompleting.
//                 Defaults to true.
//
// It's possible to pass in a custom function as the 'selector' 
// option, if you prefer to write your own autocompletion logic.
// In that case, the other options above will not apply unless
// you support them.

Autocompleter.Local = Class.create(Autocompleter.Base, {
  initialize: function(element, update, array, options) {
    this.baseInitialize(element, update, options);
    this.options.array = array;
  },

  getUpdatedChoices: function() {
    this.updateChoices(this.options.selector(this));
  },

  setOptions: function(options) {
    this.options = Object.extend({
      choices: 10,
      partialSearch: true,
      partialChars: 2,
      ignoreCase: true,
      fullSearch: false,
      selector: function(instance) {
        var ret       = []; // Beginning matches
        var partial   = []; // Inside matches
        var entry     = instance.getToken();
        var count     = 0;

        for (var i = 0; i < instance.options.array.length &&  
          ret.length < instance.options.choices ; i++) { 

          var elem = instance.options.array[i];
          var foundPos = instance.options.ignoreCase ? 
            elem.toLowerCase().indexOf(entry.toLowerCase()) : 
            elem.indexOf(entry);

          while (foundPos != -1) {
            if (foundPos == 0 && elem.length != entry.length) { 
              ret.push("<li><strong>" + elem.substr(0, entry.length) + "</strong>" + 
                elem.substr(entry.length) + "</li>");
              break;
            } else if (entry.length >= instance.options.partialChars && 
              instance.options.partialSearch && foundPos != -1) {
              if (instance.options.fullSearch || /\s/.test(elem.substr(foundPos-1,1))) {
                partial.push("<li>" + elem.substr(0, foundPos) + "<strong>" +
                  elem.substr(foundPos, entry.length) + "</strong>" + elem.substr(
                  foundPos + entry.length) + "</li>");
                break;
              }
            }

            foundPos = instance.options.ignoreCase ? 
              elem.toLowerCase().indexOf(entry.toLowerCase(), foundPos + 1) : 
              elem.indexOf(entry, foundPos + 1);

          }
        }
        if (partial.length)
          ret = ret.concat(partial.slice(0, instance.options.choices - ret.length))
        return "<ul>" + ret.join('') + "</ul>";
      }
    }, options || { });
  }
});

// AJAX in-place editor and collection editor
// Full rewrite by Christophe Porteneuve <tdd@tddsworld.com> (April 2007).

// Use this if you notice weird scrolling problems on some browsers,
// the DOM might be a bit confused when this gets called so do this
// waits 1 ms (with setTimeout) until it does the activation
Field.scrollFreeActivate = function(field) {
  setTimeout(function() {
    Field.activate(field);
  }, 1);
}

Ajax.InPlaceEditor = Class.create({
  initialize: function(element, url, options) {
    this.url = url;
    this.element = element = $(element);
    this.prepareOptions();
    this._controls = { };
    arguments.callee.dealWithDeprecatedOptions(options); // DEPRECATION LAYER!!!
    Object.extend(this.options, options || { });
    if (!this.options.formId && this.element.id) {
      this.options.formId = this.element.id + '-inplaceeditor';
      if ($(this.options.formId))
        this.options.formId = '';
    }
    if (this.options.externalControl)
      this.options.externalControl = $(this.options.externalControl);
    if (!this.options.externalControl)
      this.options.externalControlOnly = false;
    this._originalBackground = this.element.getStyle('background-color') || 'transparent';
    this.element.title = this.options.clickToEditText;
    this._boundCancelHandler = this.handleFormCancellation.bind(this);
    this._boundComplete = (this.options.onComplete || Prototype.emptyFunction).bind(this);
    this._boundFailureHandler = this.handleAJAXFailure.bind(this);
    this._boundSubmitHandler = this.handleFormSubmission.bind(this);
    this._boundWrapperHandler = this.wrapUp.bind(this);
    this.registerListeners();
  },
  checkForEscapeOrReturn: function(e) {
    if (!this._editing || e.ctrlKey || e.altKey || e.shiftKey) return;
    if (Event.KEY_ESC == e.keyCode)
      this.handleFormCancellation(e);
    else if (Event.KEY_RETURN == e.keyCode)
      this.handleFormSubmission(e);
  },
  createControl: function(mode, handler, extraClasses) {
    var control = this.options[mode + 'Control'];
    var text = this.options[mode + 'Text'];
    if ('button' == control) {
      var btn = document.createElement('input');
      btn.type = 'submit';
      btn.value = text;
      btn.className = 'editor_' + mode + '_button';
      if ('cancel' == mode)
        btn.onclick = this._boundCancelHandler;
      this._form.appendChild(btn);
      this._controls[mode] = btn;
    } else if ('link' == control) {
      var link = document.createElement('a');
      link.href = '#';
      link.appendChild(document.createTextNode(text));
      link.onclick = 'cancel' == mode ? this._boundCancelHandler : this._boundSubmitHandler;
      link.className = 'editor_' + mode + '_link';
      if (extraClasses)
        link.className += ' ' + extraClasses;
      this._form.appendChild(link);
      this._controls[mode] = link;
    }
  },
  createEditField: function() {
    var text = (this.options.loadTextURL ? this.options.loadingText : this.getText());
    var fld;
    if (1 >= this.options.rows && !/\r|\n/.test(this.getText())) {
      fld = document.createElement('input');
      fld.type = 'text';
      var size = this.options.size || this.options.cols || 0;
      if (0 < size) fld.size = size;
    } else {
      fld = document.createElement('textarea');
      fld.rows = (1 >= this.options.rows ? this.options.autoRows : this.options.rows);
      fld.cols = this.options.cols || 40;
    }
    fld.name = this.options.paramName;
    fld.value = text; // No HTML breaks conversion anymore
    fld.className = 'editor_field';
    if (this.options.submitOnBlur)
      fld.onblur = this._boundSubmitHandler;
    this._controls.editor = fld;
    if (this.options.loadTextURL)
      this.loadExternalText();
    this._form.appendChild(this._controls.editor);
  },
  createForm: function() {
    var ipe = this;
    function addText(mode, condition) {
      var text = ipe.options['text' + mode + 'Controls'];
      if (!text || condition === false) return;
      ipe._form.appendChild(document.createTextNode(text));
    };
    this._form = $(document.createElement('form'));
    this._form.id = this.options.formId;
    this._form.addClassName(this.options.formClassName);
    this._form.onsubmit = this._boundSubmitHandler;
    this.createEditField();
    if ('textarea' == this._controls.editor.tagName.toLowerCase())
      this._form.appendChild(document.createElement('br'));
    if (this.options.onFormCustomization)
      this.options.onFormCustomization(this, this._form);
    addText('Before', this.options.okControl || this.options.cancelControl);
    this.createControl('ok', this._boundSubmitHandler);
    addText('Between', this.options.okControl && this.options.cancelControl);
    this.createControl('cancel', this._boundCancelHandler, 'editor_cancel');
    addText('After', this.options.okControl || this.options.cancelControl);
  },
  destroy: function() {
    if (this._oldInnerHTML)
      this.element.innerHTML = this._oldInnerHTML;
    this.leaveEditMode();
    this.unregisterListeners();
  },
  enterEditMode: function(e) {
    if (this._saving || this._editing) return;
    this._editing = true;
    this.triggerCallback('onEnterEditMode');
    if (this.options.externalControl)
      this.options.externalControl.hide();
    this.element.hide();
    this.createForm();
    this.element.parentNode.insertBefore(this._form, this.element);
    if (!this.options.loadTextURL)
      this.postProcessEditField();
    if (e) Event.stop(e);
  },
  enterHover: function(e) {
    if (this.options.hoverClassName)
      this.element.addClassName(this.options.hoverClassName);
    if (this._saving) return;
    this.triggerCallback('onEnterHover');
  },
  getText: function() {
    return this.element.innerHTML;
  },
  handleAJAXFailure: function(transport) {
    this.triggerCallback('onFailure', transport);
    if (this._oldInnerHTML) {
      this.element.innerHTML = this._oldInnerHTML;
      this._oldInnerHTML = null;
    }
  },
  handleFormCancellation: function(e) {
    this.wrapUp();
    if (e) Event.stop(e);
  },
  handleFormSubmission: function(e) {
    var form = this._form;
    var value = $F(this._controls.editor);
    this.prepareSubmission();
    var params = this.options.callback(form, value) || '';
    if (Object.isString(params))
      params = params.toQueryParams();
    params.editorId = this.element.id;
    if (this.options.htmlResponse) {
      var options = Object.extend({ evalScripts: true }, this.options.ajaxOptions);
      Object.extend(options, {
        parameters: params,
        onComplete: this._boundWrapperHandler,
        onFailure: this._boundFailureHandler
      });
      new Ajax.Updater({ success: this.element }, this.url, options);
    } else {
      var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);
      Object.extend(options, {
        parameters: params,
        onComplete: this._boundWrapperHandler,
        onFailure: this._boundFailureHandler
      });
      new Ajax.Request(this.url, options);
    }
    if (e) Event.stop(e);
  },
  leaveEditMode: function() {
    this.element.removeClassName(this.options.savingClassName);
    this.removeForm();
    this.leaveHover();
    this.element.style.backgroundColor = this._originalBackground;
    this.element.show();
    if (this.options.externalControl)
      this.options.externalControl.show();
    this._saving = false;
    this._editing = false;
    this._oldInnerHTML = null;
    this.triggerCallback('onLeaveEditMode');
  },
  leaveHover: function(e) {
    if (this.options.hoverClassName)
      this.element.removeClassName(this.options.hoverClassName);
    if (this._saving) return;
    this.triggerCallback('onLeaveHover');
  },
  loadExternalText: function() {
    this._form.addClassName(this.options.loadingClassName);
    this._controls.editor.disabled = true;
    var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);
    Object.extend(options, {
      parameters: 'editorId=' + encodeURIComponent(this.element.id),
      onComplete: Prototype.emptyFunction,
      onSuccess: function(transport) {
        this._form.removeClassName(this.options.loadingClassName);
        var text = transport.responseText;
        if (this.options.stripLoadedTextTags)
          text = text.stripTags();
        this._controls.editor.value = text;
        this._controls.editor.disabled = false;
        this.postProcessEditField();
      }.bind(this),
      onFailure: this._boundFailureHandler
    });
    new Ajax.Request(this.options.loadTextURL, options);
  },
  postProcessEditField: function() {
    var fpc = this.options.fieldPostCreation;
    if (fpc)
      $(this._controls.editor)['focus' == fpc ? 'focus' : 'activate']();
  },
  prepareOptions: function() {
    this.options = Object.clone(Ajax.InPlaceEditor.DefaultOptions);
    Object.extend(this.options, Ajax.InPlaceEditor.DefaultCallbacks);
    [this._extraDefaultOptions].flatten().compact().each(function(defs) {
      Object.extend(this.options, defs);
    }.bind(this));
  },
  prepareSubmission: function() {
    this._saving = true;
    this.removeForm();
    this.leaveHover();
    this.showSaving();
  },
  registerListeners: function() {
    this._listeners = { };
    var listener;
    $H(Ajax.InPlaceEditor.Listeners).each(function(pair) {
      listener = this[pair.value].bind(this);
      this._listeners[pair.key] = listener;
      if (!this.options.externalControlOnly)
        this.element.observe(pair.key, listener);
      if (this.options.externalControl)
        this.options.externalControl.observe(pair.key, listener);
    }.bind(this));
  },
  removeForm: function() {
    if (!this._form) return;
    this._form.remove();
    this._form = null;
    this._controls = { };
  },
  showSaving: function() {
    this._oldInnerHTML = this.element.innerHTML;
    this.element.innerHTML = this.options.savingText;
    this.element.addClassName(this.options.savingClassName);
    this.element.style.backgroundColor = this._originalBackground;
    this.element.show();
  },
  triggerCallback: function(cbName, arg) {
    if ('function' == typeof this.options[cbName]) {
      this.options[cbName](this, arg);
    }
  },
  unregisterListeners: function() {
    $H(this._listeners).each(function(pair) {
      if (!this.options.externalControlOnly)
        this.element.stopObserving(pair.key, pair.value);
      if (this.options.externalControl)
        this.options.externalControl.stopObserving(pair.key, pair.value);
    }.bind(this));
  },
  wrapUp: function(transport) {
    this.leaveEditMode();
    // Can't use triggerCallback due to backward compatibility: requires
    // binding + direct element
    this._boundComplete(transport, this.element);
  }
});

Object.extend(Ajax.InPlaceEditor.prototype, {
  dispose: Ajax.InPlaceEditor.prototype.destroy
});

Ajax.InPlaceCollectionEditor = Class.create(Ajax.InPlaceEditor, {
  initialize: function($super, element, url, options) {
    this._extraDefaultOptions = Ajax.InPlaceCollectionEditor.DefaultOptions;
    $super(element, url, options);
  },

  createEditField: function() {
    var list = document.createElement('select');
    list.name = this.options.paramName;
    list.size = 1;
    this._controls.editor = list;
    this._collection = this.options.collection || [];
    if (this.options.loadCollectionURL)
      this.loadCollection();
    else
      this.checkForExternalText();
    this._form.appendChild(this._controls.editor);
  },

  loadCollection: function() {
    this._form.addClassName(this.options.loadingClassName);
    this.showLoadingText(this.options.loadingCollectionText);
    var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);
    Object.extend(options, {
      parameters: 'editorId=' + encodeURIComponent(this.element.id),
      onComplete: Prototype.emptyFunction,
      onSuccess: function(transport) {
        var js = transport.responseText.strip();
        if (!/^\[.*\]$/.test(js)) // TODO: improve sanity check
          throw 'Server returned an invalid collection representation.';
        this._collection = eval(js);
        this.checkForExternalText();
      }.bind(this),
      onFailure: this.onFailure
    });
    new Ajax.Request(this.options.loadCollectionURL, options);
  },

  showLoadingText: function(text) {
    this._controls.editor.disabled = true;
    var tempOption = this._controls.editor.firstChild;
    if (!tempOption) {
      tempOption = document.createElement('option');
      tempOption.value = '';
      this._controls.editor.appendChild(tempOption);
      tempOption.selected = true;
    }
    tempOption.update((text || '').stripScripts().stripTags());
  },

  checkForExternalText: function() {
    this._text = this.getText();
    if (this.options.loadTextURL)
      this.loadExternalText();
    else
      this.buildOptionList();
  },

  loadExternalText: function() {
    this.showLoadingText(this.options.loadingText);
    var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);
    Object.extend(options, {
      parameters: 'editorId=' + encodeURIComponent(this.element.id),
      onComplete: Prototype.emptyFunction,
      onSuccess: function(transport) {
        this._text = transport.responseText.strip();
        this.buildOptionList();
      }.bind(this),
      onFailure: this.onFailure
    });
    new Ajax.Request(this.options.loadTextURL, options);
  },

  buildOptionList: function() {
    this._form.removeClassName(this.options.loadingClassName);
    this._collection = this._collection.map(function(entry) {
      return 2 === entry.length ? entry : [entry, entry].flatten();
    });
    var marker = ('value' in this.options) ? this.options.value : this._text;
    var textFound = this._collection.any(function(entry) {
      return entry[0] == marker;
    }.bind(this));
    this._controls.editor.update('');
    var option;
    this._collection.each(function(entry, index) {
      option = document.createElement('option');
      option.value = entry[0];
      option.selected = textFound ? entry[0] == marker : 0 == index;
      option.appendChild(document.createTextNode(entry[1]));
      this._controls.editor.appendChild(option);
    }.bind(this));
    this._controls.editor.disabled = false;
    Field.scrollFreeActivate(this._controls.editor);
  }
});

//**** DEPRECATION LAYER FOR InPlace[Collection]Editor! ****
//**** This only  exists for a while,  in order to  let ****
//**** users adapt to  the new API.  Read up on the new ****
//**** API and convert your code to it ASAP!            ****

Ajax.InPlaceEditor.prototype.initialize.dealWithDeprecatedOptions = function(options) {
  if (!options) return;
  function fallback(name, expr) {
    if (name in options || expr === undefined) return;
    options[name] = expr;
  };
  fallback('cancelControl', (options.cancelLink ? 'link' : (options.cancelButton ? 'button' :
    options.cancelLink == options.cancelButton == false ? false : undefined)));
  fallback('okControl', (options.okLink ? 'link' : (options.okButton ? 'button' :
    options.okLink == options.okButton == false ? false : undefined)));
  fallback('highlightColor', options.highlightcolor);
  fallback('highlightEndColor', options.highlightendcolor);
};

Object.extend(Ajax.InPlaceEditor, {
  DefaultOptions: {
    ajaxOptions: { },
    autoRows: 3,                                // Use when multi-line w/ rows == 1
    cancelControl: 'link',                      // 'link'|'button'|false
    cancelText: 'cancel',
    clickToEditText: 'Click to edit',
    externalControl: null,                      // id|elt
    externalControlOnly: false,
    fieldPostCreation: 'activate',              // 'activate'|'focus'|false
    formClassName: 'inplaceeditor-form',
    formId: null,                               // id|elt
    highlightColor: '#ffff99',
    highlightEndColor: '#ffffff',
    hoverClassName: '',
    htmlResponse: true,
    loadingClassName: 'inplaceeditor-loading',
    loadingText: 'Loading...',
    okControl: 'button',                        // 'link'|'button'|false
    okText: 'ok',
    paramName: 'value',
    rows: 1,                                    // If 1 and multi-line, uses autoRows
    savingClassName: 'inplaceeditor-saving',
    savingText: 'Saving...',
    size: 0,
    stripLoadedTextTags: false,
    submitOnBlur: false,
    textAfterControls: '',
    textBeforeControls: '',
    textBetweenControls: ''
  },
  DefaultCallbacks: {
    callback: function(form) {
      return Form.serialize(form);
    },
    onComplete: function(transport, element) {
      // For backward compatibility, this one is bound to the IPE, and passes
      // the element directly.  It was too often customized, so we don't break it.
      new Effect.Highlight(element, {
        startcolor: this.options.highlightColor, keepBackgroundImage: true });
    },
    onEnterEditMode: null,
    onEnterHover: function(ipe) {
      ipe.element.style.backgroundColor = ipe.options.highlightColor;
      if (ipe._effect)
        ipe._effect.cancel();
    },
    onFailure: function(transport, ipe) {
      alert('Error communication with the server: ' + transport.responseText.stripTags());
    },
    onFormCustomization: null, // Takes the IPE and its generated form, after editor, before controls.
    onLeaveEditMode: null,
    onLeaveHover: function(ipe) {
      ipe._effect = new Effect.Highlight(ipe.element, {
        startcolor: ipe.options.highlightColor, endcolor: ipe.options.highlightEndColor,
        restorecolor: ipe._originalBackground, keepBackgroundImage: true
      });
    }
  },
  Listeners: {
    click: 'enterEditMode',
    keydown: 'checkForEscapeOrReturn',
    mouseover: 'enterHover',
    mouseout: 'leaveHover'
  }
});

Ajax.InPlaceCollectionEditor.DefaultOptions = {
  loadingCollectionText: 'Loading options...'
};

// Delayed observer, like Form.Element.Observer, 
// but waits for delay after last key input
// Ideal for live-search fields

Form.Element.DelayedObserver = Class.create({
  initialize: function(element, delay, callback) {
    this.delay     = delay || 0.5;
    this.element   = $(element);
    this.callback  = callback;
    this.timer     = null;
    this.lastValue = $F(this.element); 
    Event.observe(this.element,'keyup',this.delayedListener.bindAsEventListener(this));
  },
  delayedListener: function(event) {
    if(this.lastValue == $F(this.element)) return;
    if(this.timer) clearTimeout(this.timer);
    this.timer = setTimeout(this.onTimerEvent.bind(this), this.delay * 1000);
    this.lastValue = $F(this.element);
  },
  onTimerEvent: function() {
    this.timer = null;
    this.callback(this.element, $F(this.element));
  }
});

if (!Control) var Control = { };

// options:
//  axis: 'vertical', or 'horizontal' (default)
//
// callbacks:
//  onChange(value)
//  onSlide(value)
Control.Slider = Class.create({
  initialize: function(handle, track, options) {
    var slider = this;
    
    if (Object.isArray(handle)) {
      this.handles = handle.collect( function(e) { return $(e) });
    } else {
      this.handles = [$(handle)];
    }
    
    this.track   = $(track);
    this.options = options || { };

    this.axis      = this.options.axis || 'horizontal';
    this.increment = this.options.increment || 1;
    this.step      = parseInt(this.options.step || '1');
    this.range     = this.options.range || $R(0,1);
    
    this.value     = 0; // assure backwards compat
    this.values    = this.handles.map( function() { return 0 });
    this.spans     = this.options.spans ? this.options.spans.map(function(s){ return $(s) }) : false;
    this.options.startSpan = $(this.options.startSpan || null);
    this.options.endSpan   = $(this.options.endSpan || null);

    this.restricted = this.options.restricted || false;

    this.maximum   = this.options.maximum || this.range.end;
    this.minimum   = this.options.minimum || this.range.start;

    // Will be used to align the handle onto the track, if necessary
    this.alignX = parseInt(this.options.alignX || '0');
    this.alignY = parseInt(this.options.alignY || '0');
    
    this.trackLength = this.maximumOffset() - this.minimumOffset();

    this.handleLength = this.isVertical() ? 
      (this.handles[0].offsetHeight != 0 ? 
        this.handles[0].offsetHeight : this.handles[0].style.height.replace(/px$/,"")) : 
      (this.handles[0].offsetWidth != 0 ? this.handles[0].offsetWidth : 
        this.handles[0].style.width.replace(/px$/,""));

    this.active   = false;
    this.dragging = false;
    this.disabled = false;

    if (this.options.disabled) this.setDisabled();

    // Allowed values array
    this.allowedValues = this.options.values ? this.options.values.sortBy(Prototype.K) : false;
    if (this.allowedValues) {
      this.minimum = this.allowedValues.min();
      this.maximum = this.allowedValues.max();
    }

    this.eventMouseDown = this.startDrag.bindAsEventListener(this);
    this.eventMouseUp   = this.endDrag.bindAsEventListener(this);
    this.eventMouseMove = this.update.bindAsEventListener(this);

    // Initialize handles in reverse (make sure first handle is active)
    this.handles.each( function(h,i) {
      i = slider.handles.length-1-i;
      slider.setValue(parseFloat(
        (Object.isArray(slider.options.sliderValue) ? 
          slider.options.sliderValue[i] : slider.options.sliderValue) || 
         slider.range.start), i);
      h.makePositioned().observe("mousedown", slider.eventMouseDown);
    });
    
    this.track.observe("mousedown", this.eventMouseDown);
    document.observe("mouseup", this.eventMouseUp);
    document.observe("mousemove", this.eventMouseMove);
    
    this.initialized = true;
  },
  dispose: function() {
    var slider = this;    
    Event.stopObserving(this.track, "mousedown", this.eventMouseDown);
    Event.stopObserving(document, "mouseup", this.eventMouseUp);
    Event.stopObserving(document, "mousemove", this.eventMouseMove);
    this.handles.each( function(h) {
      Event.stopObserving(h, "mousedown", slider.eventMouseDown);
    });
  },
  setDisabled: function(){
    this.disabled = true;
  },
  setEnabled: function(){
    this.disabled = false;
  },  
  getNearestValue: function(value){
    if (this.allowedValues){
      if (value >= this.allowedValues.max()) return(this.allowedValues.max());
      if (value <= this.allowedValues.min()) return(this.allowedValues.min());
      
      var offset = Math.abs(this.allowedValues[0] - value);
      var newValue = this.allowedValues[0];
      this.allowedValues.each( function(v) {
        var currentOffset = Math.abs(v - value);
        if (currentOffset <= offset){
          newValue = v;
          offset = currentOffset;
        } 
      });
      return newValue;
    }
    if (value > this.range.end) return this.range.end;
    if (value < this.range.start) return this.range.start;
    return value;
  },
  setValue: function(sliderValue, handleIdx){
    if (!this.active) {
      this.activeHandleIdx = handleIdx || 0;
      this.activeHandle    = this.handles[this.activeHandleIdx];
      this.updateStyles();
    }
    handleIdx = handleIdx || this.activeHandleIdx || 0;
    if (this.initialized && this.restricted) {
      if ((handleIdx>0) && (sliderValue<this.values[handleIdx-1]))
        sliderValue = this.values[handleIdx-1];
      if ((handleIdx < (this.handles.length-1)) && (sliderValue>this.values[handleIdx+1]))
        sliderValue = this.values[handleIdx+1];
    }
    sliderValue = this.getNearestValue(sliderValue);
    this.values[handleIdx] = sliderValue;
    this.value = this.values[0]; // assure backwards compat
    
    this.handles[handleIdx].style[this.isVertical() ? 'top' : 'left'] = 
      this.translateToPx(sliderValue);
    
    this.drawSpans();
    if (!this.dragging || !this.event) this.updateFinished();
  },
  setValueBy: function(delta, handleIdx) {
    this.setValue(this.values[handleIdx || this.activeHandleIdx || 0] + delta, 
      handleIdx || this.activeHandleIdx || 0);
  },
  translateToPx: function(value) {
    return Math.round(
      ((this.trackLength-this.handleLength)/(this.range.end-this.range.start)) * 
      (value - this.range.start)) + "px";
  },
  translateToValue: function(offset) {
    return ((offset/(this.trackLength-this.handleLength) * 
      (this.range.end-this.range.start)) + this.range.start);
  },
  getRange: function(range) {
    var v = this.values.sortBy(Prototype.K); 
    range = range || 0;
    return $R(v[range],v[range+1]);
  },
  minimumOffset: function(){
    return(this.isVertical() ? this.alignY : this.alignX);
  },
  maximumOffset: function(){
    return(this.isVertical() ? 
      (this.track.offsetHeight != 0 ? this.track.offsetHeight :
        this.track.style.height.replace(/px$/,"")) - this.alignY : 
      (this.track.offsetWidth != 0 ? this.track.offsetWidth : 
        this.track.style.width.replace(/px$/,"")) - this.alignX);
  },  
  isVertical:  function(){
    return (this.axis == 'vertical');
  },
  drawSpans: function() {
    var slider = this;
    if (this.spans)
      $R(0, this.spans.length-1).each(function(r) { slider.setSpan(slider.spans[r], slider.getRange(r)) });
    if (this.options.startSpan)
      this.setSpan(this.options.startSpan,
        $R(0, this.values.length>1 ? this.getRange(0).min() : this.value ));
    if (this.options.endSpan)
      this.setSpan(this.options.endSpan, 
        $R(this.values.length>1 ? this.getRange(this.spans.length-1).max() : this.value, this.maximum));
  },
  setSpan: function(span, range) {
    if (this.isVertical()) {
      span.style.top = this.translateToPx(range.start);
      span.style.height = this.translateToPx(range.end - range.start + this.range.start);
    } else {
      span.style.left = this.translateToPx(range.start);
      span.style.width = this.translateToPx(range.end - range.start + this.range.start);
    }
  },
  updateStyles: function() {
    this.handles.each( function(h){ Element.removeClassName(h, 'selected') });
    Element.addClassName(this.activeHandle, 'selected');
  },
  startDrag: function(event) {
    if (Event.isLeftClick(event)) {
      if (!this.disabled){
        this.active = true;
        
        var handle = Event.element(event);
        var pointer  = [Event.pointerX(event), Event.pointerY(event)];
        var track = handle;
        if (track==this.track) {
          var offsets  = Position.cumulativeOffset(this.track); 
          this.event = event;
          this.setValue(this.translateToValue( 
           (this.isVertical() ? pointer[1]-offsets[1] : pointer[0]-offsets[0])-(this.handleLength/2)
          ));
          var offsets  = Position.cumulativeOffset(this.activeHandle);
          this.offsetX = (pointer[0] - offsets[0]);
          this.offsetY = (pointer[1] - offsets[1]);
        } else {
          // find the handle (prevents issues with Safari)
          while((this.handles.indexOf(handle) == -1) && handle.parentNode) 
            handle = handle.parentNode;
            
          if (this.handles.indexOf(handle)!=-1) {
            this.activeHandle    = handle;
            this.activeHandleIdx = this.handles.indexOf(this.activeHandle);
            this.updateStyles();
            
            var offsets  = Position.cumulativeOffset(this.activeHandle);
            this.offsetX = (pointer[0] - offsets[0]);
            this.offsetY = (pointer[1] - offsets[1]);
          }
        }
      }
      Event.stop(event);
    }
  },
  update: function(event) {
   if (this.active) {
      if (!this.dragging) this.dragging = true;
      this.draw(event);
      if (Prototype.Browser.WebKit) window.scrollBy(0,0);
      Event.stop(event);
   }
  },
  draw: function(event) {
    var pointer = [Event.pointerX(event), Event.pointerY(event)];
    var offsets = Position.cumulativeOffset(this.track);
    pointer[0] -= this.offsetX + offsets[0];
    pointer[1] -= this.offsetY + offsets[1];
    this.event = event;
    this.setValue(this.translateToValue( this.isVertical() ? pointer[1] : pointer[0] ));
    if (this.initialized && this.options.onSlide)
      this.options.onSlide(this.values.length>1 ? this.values : this.value, this);
  },
  endDrag: function(event) {
    if (this.active && this.dragging) {
      this.finishDrag(event, true);
      Event.stop(event);
    }
    this.active = false;
    this.dragging = false;
  },  
  finishDrag: function(event, success) {
    this.active = false;
    this.dragging = false;
    this.updateFinished();
  },
  updateFinished: function() {
    if (this.initialized && this.options.onChange) 
      this.options.onChange(this.values.length>1 ? this.values : this.value, this);
    this.event = null;
  }
});

if(Object.isUndefined(Effect))
  throw("dragdrop.js requires including script.aculo.us' effects.js library");

var Droppables = {
  drops: [],

  remove: function(element) {
    this.drops = this.drops.reject(function(d) { return d.element==$(element) });
  },

  add: function(element) {
    element = $(element);
    var options = Object.extend({
      greedy:     true,
      hoverclass: null,
      tree:       false
    }, arguments[1] || { });

    // cache containers
    if(options.containment) {
      options._containers = [];
      var containment = options.containment;
      if(Object.isArray(containment)) {
        containment.each( function(c) { options._containers.push($(c)) });
      } else {
        options._containers.push($(containment));
      }
    }
    
    if(options.accept) options.accept = [options.accept].flatten();

    Element.makePositioned(element); // fix IE
    options.element = element;

    this.drops.push(options);
  },
  
  findDeepestChild: function(drops) {
    deepest = drops[0];
      
    for (i = 1; i < drops.length; ++i)
      if (Element.isParent(drops[i].element, deepest.element))
        deepest = drops[i];
    
    return deepest;
  },

  isContained: function(element, drop) {
    var containmentNode;
    if(drop.tree) {
      containmentNode = element.treeNode; 
    } else {
      containmentNode = element.parentNode;
    }
    return drop._containers.detect(function(c) { return containmentNode == c });
  },
  
  isAffected: function(point, element, drop) {
    return (
      (drop.element!=element) &&
      ((!drop._containers) ||
        this.isContained(element, drop)) &&
      ((!drop.accept) ||
        (Element.classNames(element).detect( 
          function(v) { return drop.accept.include(v) } ) )) &&
      Position.within(drop.element, point[0], point[1]) );
  },

  deactivate: function(drop) {
    if(drop.hoverclass)
      Element.removeClassName(drop.element, drop.hoverclass);
    this.last_active = null;
  },

  activate: function(drop) {
    if(drop.hoverclass)
      Element.addClassName(drop.element, drop.hoverclass);
    this.last_active = drop;
  },

  show: function(point, element) {
    if(!this.drops.length) return;
    var drop, affected = [];
    
    this.drops.each( function(drop) {
      if(Droppables.isAffected(point, element, drop))
        affected.push(drop);
    });
        
    if(affected.length>0)
      drop = Droppables.findDeepestChild(affected);

    if(this.last_active && this.last_active != drop) this.deactivate(this.last_active);
    if (drop) {
      Position.within(drop.element, point[0], point[1]);
      if(drop.onHover)
        drop.onHover(element, drop.element, Position.overlap(drop.overlap, drop.element));
      
      if (drop != this.last_active) Droppables.activate(drop);
    }
  },

  fire: function(event, element) {
    if(!this.last_active) return;
    Position.prepare();

    if (this.isAffected([Event.pointerX(event), Event.pointerY(event)], element, this.last_active))
      if (this.last_active.onDrop) {
        this.last_active.onDrop(element, this.last_active.element, event); 
        return true; 
      }
  },

  reset: function() {
    if(this.last_active)
      this.deactivate(this.last_active);
  }
}

var Draggables = {
  drags: [],
  observers: [],
  
  register: function(draggable) {
    if(this.drags.length == 0) {
      this.eventMouseUp   = this.endDrag.bindAsEventListener(this);
      this.eventMouseMove = this.updateDrag.bindAsEventListener(this);
      this.eventKeypress  = this.keyPress.bindAsEventListener(this);
      
      Event.observe(document, "mouseup", this.eventMouseUp);
      Event.observe(document, "mousemove", this.eventMouseMove);
      Event.observe(document, "keypress", this.eventKeypress);
    }
    this.drags.push(draggable);
  },
  
  unregister: function(draggable) {
    this.drags = this.drags.reject(function(d) { return d==draggable });
    if(this.drags.length == 0) {
      Event.stopObserving(document, "mouseup", this.eventMouseUp);
      Event.stopObserving(document, "mousemove", this.eventMouseMove);
      Event.stopObserving(document, "keypress", this.eventKeypress);
    }
  },
  
  activate: function(draggable) {
    if(draggable.options.delay) { 
      this._timeout = setTimeout(function() { 
        Draggables._timeout = null; 
        window.focus(); 
        Draggables.activeDraggable = draggable; 
      }.bind(this), draggable.options.delay); 
    } else {
      window.focus(); // allows keypress events if window isn't currently focused, fails for Safari
      this.activeDraggable = draggable;
    }
  },
  
  deactivate: function() {
    this.activeDraggable = null;
  },
  
  updateDrag: function(event) {
    if(!this.activeDraggable) return;
    var pointer = [Event.pointerX(event), Event.pointerY(event)];
    // Mozilla-based browsers fire successive mousemove events with
    // the same coordinates, prevent needless redrawing (moz bug?)
    if(this._lastPointer && (this._lastPointer.inspect() == pointer.inspect())) return;
    this._lastPointer = pointer;
    
    this.activeDraggable.updateDrag(event, pointer);
  },
  
  endDrag: function(event) {
    if(this._timeout) { 
      clearTimeout(this._timeout); 
      this._timeout = null; 
    }
    if(!this.activeDraggable) return;
    this._lastPointer = null;
    this.activeDraggable.endDrag(event);
    this.activeDraggable = null;
  },
  
  keyPress: function(event) {
    if(this.activeDraggable)
      this.activeDraggable.keyPress(event);
  },
  
  addObserver: function(observer) {
    this.observers.push(observer);
    this._cacheObserverCallbacks();
  },
  
  removeObserver: function(element) {  // element instead of observer fixes mem leaks
    this.observers = this.observers.reject( function(o) { return o.element==element });
    this._cacheObserverCallbacks();
  },
  
  notify: function(eventName, draggable, event) {  // 'onStart', 'onEnd', 'onDrag'
    if(this[eventName+'Count'] > 0)
      this.observers.each( function(o) {
        if(o[eventName]) o[eventName](eventName, draggable, event);
      });
    if(draggable.options[eventName]) draggable.options[eventName](draggable, event);
  },
  
  _cacheObserverCallbacks: function() {
    ['onStart','onEnd','onDrag'].each( function(eventName) {
      Draggables[eventName+'Count'] = Draggables.observers.select(
        function(o) { return o[eventName]; }
      ).length;
    });
  }
}

/*--------------------------------------------------------------------------*/

var Draggable = Class.create({
  initialize: function(element) {
    var defaults = {
      handle: false,
      reverteffect: function(element, top_offset, left_offset) {
        var dur = Math.sqrt(Math.abs(top_offset^2)+Math.abs(left_offset^2))*0.02;
        new Effect.Move(element, { x: -left_offset, y: -top_offset, duration: dur,
          queue: {scope:'_draggable', position:'end'}
        });
      },
      endeffect: function(element) {
        var toOpacity = Object.isNumber(element._opacity) ? element._opacity : 1.0;
        new Effect.Opacity(element, {duration:0.2, from:0.7, to:toOpacity, 
          queue: {scope:'_draggable', position:'end'},
          afterFinish: function(){ 
            Draggable._dragging[element] = false 
          }
        }); 
      },
      zindex: 1000,
      revert: false,
      quiet: false,
      scroll: false,
      scrollSensitivity: 20,
      scrollSpeed: 15,
      snap: false,  // false, or xy or [x,y] or function(x,y){ return [x,y] }
      delay: 0
    };
    
    if(!arguments[1] || Object.isUndefined(arguments[1].endeffect))
      Object.extend(defaults, {
        starteffect: function(element) {
          element._opacity = Element.getOpacity(element);
          Draggable._dragging[element] = true;
          new Effect.Opacity(element, {duration:0.2, from:element._opacity, to:0.7}); 
        }
      });
    
    var options = Object.extend(defaults, arguments[1] || { });

    this.element = $(element);
    
    if(options.handle && Object.isString(options.handle))
      this.handle = this.element.down('.'+options.handle, 0);
    
    if(!this.handle) this.handle = $(options.handle);
    if(!this.handle) this.handle = this.element;
    
    if(options.scroll && !options.scroll.scrollTo && !options.scroll.outerHTML) {
      options.scroll = $(options.scroll);
      this._isScrollChild = Element.childOf(this.element, options.scroll);
    }

    Element.makePositioned(this.element); // fix IE    

    this.options  = options;
    this.dragging = false;   

    this.eventMouseDown = this.initDrag.bindAsEventListener(this);
    Event.observe(this.handle, "mousedown", this.eventMouseDown);
    
    Draggables.register(this);
  },
  
  destroy: function() {
    Event.stopObserving(this.handle, "mousedown", this.eventMouseDown);
    Draggables.unregister(this);
  },
  
  currentDelta: function() {
    return([
      parseInt(Element.getStyle(this.element,'left') || '0'),
      parseInt(Element.getStyle(this.element,'top') || '0')]);
  },
  
  initDrag: function(event) {
    if(!Object.isUndefined(Draggable._dragging[this.element]) &&
      Draggable._dragging[this.element]) return;
    if(Event.isLeftClick(event)) {    
      // abort on form elements, fixes a Firefox issue
      var src = Event.element(event);
      if((tag_name = src.tagName.toUpperCase()) && (
        tag_name=='INPUT' ||
        tag_name=='SELECT' ||
        tag_name=='OPTION' ||
        tag_name=='BUTTON' ||
        tag_name=='TEXTAREA')) return;
        
      var pointer = [Event.pointerX(event), Event.pointerY(event)];
      var pos     = Position.cumulativeOffset(this.element);
      this.offset = [0,1].map( function(i) { return (pointer[i] - pos[i]) });
      
      Draggables.activate(this);
      Event.stop(event);
    }
  },
  
  startDrag: function(event) {
    this.dragging = true;
    if(!this.delta)
      this.delta = this.currentDelta();
    
    if(this.options.zindex) {
      this.originalZ = parseInt(Element.getStyle(this.element,'z-index') || 0);
      this.element.style.zIndex = this.options.zindex;
    }
    
    if(this.options.ghosting) {
      this._clone = this.element.cloneNode(true);
      this.element._originallyAbsolute = (this.element.getStyle('position') == 'absolute');
      if (!this.element._originallyAbsolute)
        Position.absolutize(this.element);
      this.element.parentNode.insertBefore(this._clone, this.element);
    }
    
    if(this.options.scroll) {
      if (this.options.scroll == window) {
        var where = this._getWindowScroll(this.options.scroll);
        this.originalScrollLeft = where.left;
        this.originalScrollTop = where.top;
      } else {
        this.originalScrollLeft = this.options.scroll.scrollLeft;
        this.originalScrollTop = this.options.scroll.scrollTop;
      }
    }
    
    Draggables.notify('onStart', this, event);
        
    if(this.options.starteffect) this.options.starteffect(this.element);
  },
  
  updateDrag: function(event, pointer) {
    if(!this.dragging) this.startDrag(event);
    
    if(!this.options.quiet){
      Position.prepare();
      Droppables.show(pointer, this.element);
    }
    
    Draggables.notify('onDrag', this, event);
    
    this.draw(pointer);
    if(this.options.change) this.options.change(this);
    
    if(this.options.scroll) {
      this.stopScrolling();
      
      var p;
      if (this.options.scroll == window) {
        with(this._getWindowScroll(this.options.scroll)) { p = [ left, top, left+width, top+height ]; }
      } else {
        p = Position.page(this.options.scroll);
        p[0] += this.options.scroll.scrollLeft + Position.deltaX;
        p[1] += this.options.scroll.scrollTop + Position.deltaY;
        p.push(p[0]+this.options.scroll.offsetWidth);
        p.push(p[1]+this.options.scroll.offsetHeight);
      }
      var speed = [0,0];
      if(pointer[0] < (p[0]+this.options.scrollSensitivity)) speed[0] = pointer[0]-(p[0]+this.options.scrollSensitivity);
      if(pointer[1] < (p[1]+this.options.scrollSensitivity)) speed[1] = pointer[1]-(p[1]+this.options.scrollSensitivity);
      if(pointer[0] > (p[2]-this.options.scrollSensitivity)) speed[0] = pointer[0]-(p[2]-this.options.scrollSensitivity);
      if(pointer[1] > (p[3]-this.options.scrollSensitivity)) speed[1] = pointer[1]-(p[3]-this.options.scrollSensitivity);
      this.startScrolling(speed);
    }
    
    // fix AppleWebKit rendering
    if(Prototype.Browser.WebKit) window.scrollBy(0,0);
    
    Event.stop(event);
  },
  
  finishDrag: function(event, success) {
    this.dragging = false;
    
    if(this.options.quiet){
      Position.prepare();
      var pointer = [Event.pointerX(event), Event.pointerY(event)];
      Droppables.show(pointer, this.element);
    }

    if(this.options.ghosting) {
      if (!this.element._originallyAbsolute)
        Position.relativize(this.element);
      delete this.element._originallyAbsolute;
      Element.remove(this._clone);
      this._clone = null;
    }

    var dropped = false; 
    if(success) { 
      dropped = Droppables.fire(event, this.element); 
      if (!dropped) dropped = false; 
    }
    if(dropped && this.options.onDropped) this.options.onDropped(this.element);
    Draggables.notify('onEnd', this, event);

    var revert = this.options.revert;
    if(revert && Object.isFunction(revert)) revert = revert(this.element);
    
    var d = this.currentDelta();
    if(revert && this.options.reverteffect) {
      if (dropped == 0 || revert != 'failure')
        this.options.reverteffect(this.element,
          d[1]-this.delta[1], d[0]-this.delta[0]);
    } else {
      this.delta = d;
    }

    if(this.options.zindex)
      this.element.style.zIndex = this.originalZ;

    if(this.options.endeffect) 
      this.options.endeffect(this.element);
      
    Draggables.deactivate(this);
    Droppables.reset();
  },
  
  keyPress: function(event) {
    if(event.keyCode!=Event.KEY_ESC) return;
    this.finishDrag(event, false);
    Event.stop(event);
  },
  
  endDrag: function(event) {
    if(!this.dragging) return;
    this.stopScrolling();
    this.finishDrag(event, true);
    Event.stop(event);
  },
  
  draw: function(point) {
    var pos = Position.cumulativeOffset(this.element);
    if(this.options.ghosting) {
      var r   = Position.realOffset(this.element);
      pos[0] += r[0] - Position.deltaX; pos[1] += r[1] - Position.deltaY;
    }
    
    var d = this.currentDelta();
    pos[0] -= d[0]; pos[1] -= d[1];
    
    if(this.options.scroll && (this.options.scroll != window && this._isScrollChild)) {
      pos[0] -= this.options.scroll.scrollLeft-this.originalScrollLeft;
      pos[1] -= this.options.scroll.scrollTop-this.originalScrollTop;
    }
    
    var p = [0,1].map(function(i){ 
      return (point[i]-pos[i]-this.offset[i]) 
    }.bind(this));
    
    if(this.options.snap) {
      if(Object.isFunction(this.options.snap)) {
        p = this.options.snap(p[0],p[1],this);
      } else {
      if(Object.isArray(this.options.snap)) {
        p = p.map( function(v, i) {
          return (v/this.options.snap[i]).round()*this.options.snap[i] }.bind(this))
      } else {
        p = p.map( function(v) {
          return (v/this.options.snap).round()*this.options.snap }.bind(this))
      }
    }}
    
    var style = this.element.style;
    if((!this.options.constraint) || (this.options.constraint=='horizontal'))
      style.left = p[0] + "px";
    if((!this.options.constraint) || (this.options.constraint=='vertical'))
      style.top  = p[1] + "px";
    
    if(style.visibility=="hidden") style.visibility = ""; // fix gecko rendering
  },
  
  stopScrolling: function() {
    if(this.scrollInterval) {
      clearInterval(this.scrollInterval);
      this.scrollInterval = null;
      Draggables._lastScrollPointer = null;
    }
  },
  
  startScrolling: function(speed) {
    if(!(speed[0] || speed[1])) return;
    this.scrollSpeed = [speed[0]*this.options.scrollSpeed,speed[1]*this.options.scrollSpeed];
    this.lastScrolled = new Date();
    this.scrollInterval = setInterval(this.scroll.bind(this), 10);
  },
  
  scroll: function() {
    var current = new Date();
    var delta = current - this.lastScrolled;
    this.lastScrolled = current;
    if(this.options.scroll == window) {
      with (this._getWindowScroll(this.options.scroll)) {
        if (this.scrollSpeed[0] || this.scrollSpeed[1]) {
          var d = delta / 1000;
          this.options.scroll.scrollTo( left + d*this.scrollSpeed[0], top + d*this.scrollSpeed[1] );
        }
      }
    } else {
      this.options.scroll.scrollLeft += this.scrollSpeed[0] * delta / 1000;
      this.options.scroll.scrollTop  += this.scrollSpeed[1] * delta / 1000;
    }
    
    Position.prepare();
    Droppables.show(Draggables._lastPointer, this.element);
    Draggables.notify('onDrag', this);
    if (this._isScrollChild) {
      Draggables._lastScrollPointer = Draggables._lastScrollPointer || $A(Draggables._lastPointer);
      Draggables._lastScrollPointer[0] += this.scrollSpeed[0] * delta / 1000;
      Draggables._lastScrollPointer[1] += this.scrollSpeed[1] * delta / 1000;
      if (Draggables._lastScrollPointer[0] < 0)
        Draggables._lastScrollPointer[0] = 0;
      if (Draggables._lastScrollPointer[1] < 0)
        Draggables._lastScrollPointer[1] = 0;
      this.draw(Draggables._lastScrollPointer);
    }
    
    if(this.options.change) this.options.change(this);
  },
  
  _getWindowScroll: function(w) {
    var T, L, W, H;
    with (w.document) {
      if (w.document.documentElement && documentElement.scrollTop) {
        T = documentElement.scrollTop;
        L = documentElement.scrollLeft;
      } else if (w.document.body) {
        T = body.scrollTop;
        L = body.scrollLeft;
      }
      if (w.innerWidth) {
        W = w.innerWidth;
        H = w.innerHeight;
      } else if (w.document.documentElement && documentElement.clientWidth) {
        W = documentElement.clientWidth;
        H = documentElement.clientHeight;
      } else {
        W = body.offsetWidth;
        H = body.offsetHeight
      }
    }
    return { top: T, left: L, width: W, height: H };
  }
});

Draggable._dragging = { };

/*--------------------------------------------------------------------------*/

var SortableObserver = Class.create({
  initialize: function(element, observer) {
    this.element   = $(element);
    this.observer  = observer;
    this.lastValue = Sortable.serialize(this.element);
  },
  
  onStart: function() {
    this.lastValue = Sortable.serialize(this.element);
  },
  
  onEnd: function() {
    Sortable.unmark();
    if(this.lastValue != Sortable.serialize(this.element))
      this.observer(this.element)
  }
});

var Sortable = {
  SERIALIZE_RULE: /^[^_\-](?:[A-Za-z0-9\-\_]*)[_](.*)$/,
  
  sortables: { },
  
  _findRootElement: function(element) {
    while (element.tagName.toUpperCase() != "BODY") {  
      if(element.id && Sortable.sortables[element.id]) return element;
      element = element.parentNode;
    }
  },

  options: function(element) {
    element = Sortable._findRootElement($(element));
    if(!element) return;
    return Sortable.sortables[element.id];
  },
  
  destroy: function(element){
    var s = Sortable.options(element);
    
    if(s) {
      Draggables.removeObserver(s.element);
      s.droppables.each(function(d){ Droppables.remove(d) });
      s.draggables.invoke('destroy');
      
      delete Sortable.sortables[s.element.id];
    }
  },

  create: function(element) {
    element = $(element);
    var options = Object.extend({ 
      element:     element,
      tag:         'li',       // assumes li children, override with tag: 'tagname'
      dropOnEmpty: false,
      tree:        false,
      treeTag:     'ul',
      overlap:     'vertical', // one of 'vertical', 'horizontal'
      constraint:  'vertical', // one of 'vertical', 'horizontal', false
      containment: element,    // also takes array of elements (or id's); or false
      handle:      false,      // or a CSS class
      only:        false,
      delay:       0,
      hoverclass:  null,
      ghosting:    false,
      quiet:       false, 
      scroll:      false,
      scrollSensitivity: 20,
      scrollSpeed: 15,
      format:      this.SERIALIZE_RULE,
      
      // these take arrays of elements or ids and can be 
      // used for better initialization performance
      elements:    false,
      handles:     false,
      
      onChange:    Prototype.emptyFunction,
      onUpdate:    Prototype.emptyFunction
    }, arguments[1] || { });

    // clear any old sortable with same element
    this.destroy(element);

    // build options for the draggables
    var options_for_draggable = {
      revert:      true,
      quiet:       options.quiet,
      scroll:      options.scroll,
      scrollSpeed: options.scrollSpeed,
      scrollSensitivity: options.scrollSensitivity,
      delay:       options.delay,
      ghosting:    options.ghosting,
      constraint:  options.constraint,
      handle:      options.handle };

    if(options.starteffect)
      options_for_draggable.starteffect = options.starteffect;

    if(options.reverteffect)
      options_for_draggable.reverteffect = options.reverteffect;
    else
      if(options.ghosting) options_for_draggable.reverteffect = function(element) {
        element.style.top  = 0;
        element.style.left = 0;
      };

    if(options.endeffect)
      options_for_draggable.endeffect = options.endeffect;

    if(options.zindex)
      options_for_draggable.zindex = options.zindex;

    // build options for the droppables  
    var options_for_droppable = {
      overlap:     options.overlap,
      containment: options.containment,
      tree:        options.tree,
      hoverclass:  options.hoverclass,
      onHover:     Sortable.onHover
    }
    
    var options_for_tree = {
      onHover:      Sortable.onEmptyHover,
      overlap:      options.overlap,
      containment:  options.containment,
      hoverclass:   options.hoverclass
    }

    // fix for gecko engine
    Element.cleanWhitespace(element); 

    options.draggables = [];
    options.droppables = [];

    // drop on empty handling
    if(options.dropOnEmpty || options.tree) {
      Droppables.add(element, options_for_tree);
      options.droppables.push(element);
    }

    (options.elements || this.findElements(element, options) || []).each( function(e,i) {
      var handle = options.handles ? $(options.handles[i]) :
        (options.handle ? $(e).select('.' + options.handle)[0] : e); 
      options.draggables.push(
        new Draggable(e, Object.extend(options_for_draggable, { handle: handle })));
      Droppables.add(e, options_for_droppable);
      if(options.tree) e.treeNode = element;
      options.droppables.push(e);      
    });
    
    if(options.tree) {
      (Sortable.findTreeElements(element, options) || []).each( function(e) {
        Droppables.add(e, options_for_tree);
        e.treeNode = element;
        options.droppables.push(e);
      });
    }

    // keep reference
    this.sortables[element.id] = options;

    // for onupdate
    Draggables.addObserver(new SortableObserver(element, options.onUpdate));

  },

  // return all suitable-for-sortable elements in a guaranteed order
  findElements: function(element, options) {
    return Element.findChildren(
      element, options.only, options.tree ? true : false, options.tag);
  },
  
  findTreeElements: function(element, options) {
    return Element.findChildren(
      element, options.only, options.tree ? true : false, options.treeTag);
  },

  onHover: function(element, dropon, overlap) {
    if(Element.isParent(dropon, element)) return;

    if(overlap > .33 && overlap < .66 && Sortable.options(dropon).tree) {
      return;
    } else if(overlap>0.5) {
      Sortable.mark(dropon, 'before');
      if(dropon.previousSibling != element) {
        var oldParentNode = element.parentNode;
        element.style.visibility = "hidden"; // fix gecko rendering
        dropon.parentNode.insertBefore(element, dropon);
        if(dropon.parentNode!=oldParentNode) 
          Sortable.options(oldParentNode).onChange(element);
        Sortable.options(dropon.parentNode).onChange(element);
      }
    } else {
      Sortable.mark(dropon, 'after');
      var nextElement = dropon.nextSibling || null;
      if(nextElement != element) {
        var oldParentNode = element.parentNode;
        element.style.visibility = "hidden"; // fix gecko rendering
        dropon.parentNode.insertBefore(element, nextElement);
        if(dropon.parentNode!=oldParentNode) 
          Sortable.options(oldParentNode).onChange(element);
        Sortable.options(dropon.parentNode).onChange(element);
      }
    }
  },
  
  onEmptyHover: function(element, dropon, overlap) {
    var oldParentNode = element.parentNode;
    var droponOptions = Sortable.options(dropon);
        
    if(!Element.isParent(dropon, element)) {
      var index;
      
      var children = Sortable.findElements(dropon, {tag: droponOptions.tag, only: droponOptions.only});
      var child = null;
            
      if(children) {
        var offset = Element.offsetSize(dropon, droponOptions.overlap) * (1.0 - overlap);
        
        for (index = 0; index < children.length; index += 1) {
          if (offset - Element.offsetSize (children[index], droponOptions.overlap) >= 0) {
            offset -= Element.offsetSize (children[index], droponOptions.overlap);
          } else if (offset - (Element.offsetSize (children[index], droponOptions.overlap) / 2) >= 0) {
            child = index + 1 < children.length ? children[index + 1] : null;
            break;
          } else {
            child = children[index];
            break;
          }
        }
      }
      
      dropon.insertBefore(element, child);
      
      Sortable.options(oldParentNode).onChange(element);
      droponOptions.onChange(element);
    }
  },

  unmark: function() {
    if(Sortable._marker) Sortable._marker.hide();
  },

  mark: function(dropon, position) {
    // mark on ghosting only
    var sortable = Sortable.options(dropon.parentNode);
    if(sortable && !sortable.ghosting) return; 

    if(!Sortable._marker) {
      Sortable._marker = 
        ($('dropmarker') || Element.extend(document.createElement('DIV'))).
          hide().addClassName('dropmarker').setStyle({position:'absolute'});
      document.getElementsByTagName("body").item(0).appendChild(Sortable._marker);
    }    
    var offsets = Position.cumulativeOffset(dropon);
    Sortable._marker.setStyle({left: offsets[0]+'px', top: offsets[1] + 'px'});
    
    if(position=='after')
      if(sortable.overlap == 'horizontal') 
        Sortable._marker.setStyle({left: (offsets[0]+dropon.clientWidth) + 'px'});
      else
        Sortable._marker.setStyle({top: (offsets[1]+dropon.clientHeight) + 'px'});
    
    Sortable._marker.show();
  },
  
  _tree: function(element, options, parent) {
    var children = Sortable.findElements(element, options) || [];
  
    for (var i = 0; i < children.length; ++i) {
      var match = children[i].id.match(options.format);

      if (!match) continue;
      
      var child = {
        id: encodeURIComponent(match ? match[1] : null),
        element: element,
        parent: parent,
        children: [],
        position: parent.children.length,
        container: $(children[i]).down(options.treeTag)
      }
      
      /* Get the element containing the children and recurse over it */
      if (child.container)
        this._tree(child.container, options, child)
      
      parent.children.push (child);
    }

    return parent; 
  },

  tree: function(element) {
    element = $(element);
    var sortableOptions = this.options(element);
    var options = Object.extend({
      tag: sortableOptions.tag,
      treeTag: sortableOptions.treeTag,
      only: sortableOptions.only,
      name: element.id,
      format: sortableOptions.format
    }, arguments[1] || { });
    
    var root = {
      id: null,
      parent: null,
      children: [],
      container: element,
      position: 0
    }
    
    return Sortable._tree(element, options, root);
  },

  /* Construct a [i] index for a particular node */
  _constructIndex: function(node) {
    var index = '';
    do {
      if (node.id) index = '[' + node.position + ']' + index;
    } while ((node = node.parent) != null);
    return index;
  },

  sequence: function(element) {
    element = $(element);
    var options = Object.extend(this.options(element), arguments[1] || { });
    
    return $(this.findElements(element, options) || []).map( function(item) {
      return item.id.match(options.format) ? item.id.match(options.format)[1] : '';
    });
  },

  setSequence: function(element, new_sequence) {
    element = $(element);
    var options = Object.extend(this.options(element), arguments[2] || { });
    
    var nodeMap = { };
    this.findElements(element, options).each( function(n) {
        if (n.id.match(options.format))
            nodeMap[n.id.match(options.format)[1]] = [n, n.parentNode];
        n.parentNode.removeChild(n);
    });
   
    new_sequence.each(function(ident) {
      var n = nodeMap[ident];
      if (n) {
        n[1].appendChild(n[0]);
        delete nodeMap[ident];
      }
    });
  },
  
  serialize: function(element) {
    element = $(element);
    var options = Object.extend(Sortable.options(element), arguments[1] || { });
    var name = encodeURIComponent(
      (arguments[1] && arguments[1].name) ? arguments[1].name : element.id);
    
    if (options.tree) {
      return Sortable.tree(element, arguments[1]).children.map( function (item) {
        return [name + Sortable._constructIndex(item) + "[id]=" + 
                encodeURIComponent(item.id)].concat(item.children.map(arguments.callee));
      }).flatten().join('&');
    } else {
      return Sortable.sequence(element, arguments[1]).map( function(item) {
        return name + "[]=" + encodeURIComponent(item);
      }).join('&');
    }
  }
}

// Returns true if child is contained within element
Element.isParent = function(child, element) {
  if (!child.parentNode || child == element) return false;
  if (child.parentNode == element) return true;
  return Element.isParent(child.parentNode, element);
}

Element.findChildren = function(element, only, recursive, tagName) {   
  if(!element.hasChildNodes()) return null;
  tagName = tagName.toUpperCase();
  if(only) only = [only].flatten();
  var elements = [];
  $A(element.childNodes).each( function(e) {
    if(e.tagName && e.tagName.toUpperCase()==tagName &&
      (!only || (Element.classNames(e).detect(function(v) { return only.include(v) }))))
        elements.push(e);
    if(recursive) {
      var grandchildren = Element.findChildren(e, only, recursive, tagName);
      if(grandchildren) elements.push(grandchildren);
    }
  });

  return (elements.length>0 ? elements.flatten() : []);
}

Element.offsetSize = function (element, type) {
  return element['offset' + ((type=='vertical' || type=='height') ? 'Height' : 'Width')];
}
_application/x-javascript‘0123_Lhttps://devimages.apple.com.edgekey.net/assets/core/scripts/browserdetect.jsO>bplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Lhttps://devimages.apple.com.edgekey.net/assets/core/scripts/browserdetect.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€XêüÒ »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"2eb46662429f6a9824932b764ba77073:1365277157"_Sat, 06 Apr 2013 19:39:17 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesU20954Zkeep-alive“+,Z[\NSDictionary¢Z/Q⁄_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ.3>GMPYbdfmuÄâãçèëìïóô¢§¶®™¨Æ∞≤¥ª»Õ€‡Ó˝*Zzö†¶±∂√∆…‰È˝#58N             g              POQ⁄// = Apple.com Detection Library =
// 
// A package consisting of a variety of functions for detecting various
// capabilities about a specified user agent.
// 
// While browser detection is frowned up, there is a definite need at times.
// Just use it for the right reasons.
// 
// Be sure to check the extensive unit testing for this package in 
// the sandbox. But keep in mind that optimizations made to this file have
// broken the tests. Specifically, anytime the result of the test is cached
// the test is not re-evaluated.
// 

if (typeof(AC) === 'undefined') {
	AC = {};
}

// == AC.Detector ==
// The package all detection functions are stored within.
AC.Detector = {

	// ** {{{ AC.Detector.getAgent() }}} **
	// 
	// Returns the name of the user agent, normalized as all lower case.
	getAgent: function() {
		return navigator.userAgent.toLowerCase();
	},

	// ** {{{ AC.Detector.isMac() }}} **
	// 
	// Returns whether or not the platform is a Mac.
	isMac: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return !!agent.match(/mac/i);
	},

	// ** {{{ AC.Detector.isSnowLeopard() }}} **
	// 
	// **DEPRECATED**
	// Use {{{ AC.Detector.macOSAtLeastVersion('10.6') }}}
	// 
	// Returns whether or not the OS is Snow Leopard
	isSnowLeopard: function(userAgent) {
		if (typeof console != 'undefined') console.warn('Instead of AC.Detector.isSnowLeopard, please use AC.Detector.macOSAtLeastVersion("10.6").');
		var agent = userAgent || this.getAgent();
		return !!agent.match(/mac os x 10_6/i);
	},

	// ** {{{ AC.Detector.macOSVersion(userAgent) }}} **
	// 
	// Returns an array of integers defining the OS version of the Mac operating system the
	// user is running, or null if the user is not using a Mac
	// 
	// Example output: OSX 10.6.6 = [10,6,6];
	// 
	// Can take a custom userAgent, otherwise get's the user's userAgent
	// 
	macOSVersion: function(userAgent) {
		var agent = userAgent || this.getAgent();

		// if we're not on a mac, we can't have a mac os version
		if (!this.isMac(agent)) {
			return null;
		}

		var version = agent.match(/(mac os x )([\d\._]*)/i);
		if (version == null) {
			return version;
		}
		if (!!version[2].match(/\./)) {
			version = version[2].split('.');
		} else {
			version = version[2].split('_');
		}

		// convert the array of strings to an array of ints
		for (var i=0; i<version.length; i++) {
			version[i] = parseInt(version[i]);
		}
		return version;
	},

	// ** {{{ AC.Detector.macOSAtLeastVersion(required) }}} **
	// 
	// Returns a boolean whether or not the os version of the user's device is greater than or
	// equal to the one supplied. If the user is not on a Mac, it returns false
	// 
	// Input can be a string (e.g. '10.6.6' or '10.6') or an array (e.g [10,6,6] or [10,6])
	// 
	macOSAtLeastVersion: function(required, userAgent) {
		if (typeof required == 'undefined') {
			return false;
		}

		var version = this.macOSVersion(userAgent);
		if (version == null) {
			return false;
		}
		if (typeof required == 'string') {
			required = required.replace('.', '_').split('_');
		}

		for (var i=0; i<required.length; i++) {
			// If we don't know enough information about the OS version,
			// assume the number to test against is 0, i.e. 10.6 == 10.6.0
			var t = parseInt(version[i]);
			if (isNaN(t)) {
				t = 0;
			}
			if (parseInt(required[i]) > t) {
				return false;
			}
		}

		return true;
	},

	// ** {{{ AC.Detector.isWin() }}} **
	// 
	// Returns whether or nor the platform is Windows, regardless of version.
	isWin: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return !!agent.match(/win/i);
	},

	// ** {{{ AC.Detector.winVersion() }}} **
	// 
	// Returns Windows version as float. If not Windows, returns false.
	winVersion: function(userAgent) {
		var agent = userAgent || this.getAgent();
		if (this.isWin(agent)) {
			var version = agent.match(/nt\s*([\d\.]*)/);
			if (version && version[1]) {
				return parseFloat(version[1]);
			}

			return true;
		}
		return false;
	},

	// ** {{{ AC.Detector.winAtLeastVersion(required) }}} **
	// 
	// Returns a boolean whether or not the os version of the user's windows is greater than or
	// equal to the one supplied. If the user is not on a Windows, or is of unknown Windows
	// version (e.g. Win98) it returns false.
	// 
	// Input should be a float (e.g. 5.1 or '10.6').
	// 
	// A good reference, for Windows versions is available here:
	// http://msdn.microsoft.com/en-us/library/ms537503(v=vs.85).aspx
	// 
	winAtLeastVersion: function(required, userAgent) {
		if (typeof required == 'undefined') {
			return false;
		}
		required = parseFloat(required);
		if (required === NaN) {
			return false;
		}

		var version = this.winVersion(userAgent);
		if (version === null || version === false || version === true) {
			return false;
		}

		return (required <= version);
	},

	// ** {{{ AC.Detector.isWin2k() }}} **
	// 
	// Returns whether or not the platform is Windows 2000.
	isWin2k: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return this.isWin(agent) && (agent.match(/nt\s*5/i));
	},

	// ** {{{ AC.Detector.isWinVista() }}} **
	// 
	// Returns whether or not the platform is Windows Vista.
	isWinVista: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return this.isWin(agent) && (agent.match(/nt\s*6\.0([0-9]{0,2})?/i));
	},

	// ** {{{ AC.Detector.isWebKit() }}} **
	// 
	// Returns whether or not the user agent is using the webkit engine.
	isWebKit: function(userAgent) {
		if (this._isWebKit === undefined) {
			var agent = userAgent || this.getAgent();
			this._isWebKit =  !!agent.match(/AppleWebKit/i);
			this.isWebKit = function() {
				return this._isWebKit;
			};
		}
		return this._isWebKit;
	},

	// ** {{{ AC.Detector.isSafari2() }}} **
	// 
	// Returns whether or not the user agent is Safari 2.
	// 
	// **DEPRECATED**
	// Why are you using this?
	isSafari2: function(userAgent) {
		if (typeof console != 'undefined') console.warn('Instead of AC.Detector.isSafari2(), please use AC.Detector.isWebKit().');

		var agent = userAgent || this.getAgent();
		if (this._isSafari2 === undefined) {
			if (!this.isWebKit(agent)) {
				this._isSafari2 = false;
			} else {
				var version = parseInt(parseFloat(agent.substring(agent.lastIndexOf('safari/') + 7)), 10);
				this._isSafari2 = (version >= 419);
			}
			this.isSafari2 = function() {
				return this._isSafari2;
			};
		}
		return this._isSafari2;
	},

	// ** {{{ AC.Detector.isChrome() }}} **
	// 
	// Returns whether or not the user agent is Chrome.
	isChrome: function(userAgent) {
		if (this._isChrome === undefined) {
			var agent = userAgent || this.getAgent();
			this._isChrome = !!agent.match(/Chrome/i);
			this.isChrome = function() {
				return this._isChrome;
			};
		}
		return this._isChrome;
	},

	// ** {{{ AC.Detector.isiPhone() }}} **
	// 
	// **DEPRECATED**
	// Use {{{ AC.Detector.isMobile() }}}
	isiPhone: function(userAgent) {
		if (typeof console != 'undefined') console.warn('Instead of AC.Detector.isiPhone(), please use AC.Detector.isMobile().');
		var agent = userAgent || this.getAgent();
		return this.isMobile(agent);
	},

	// ** {{{ AC.Detector.iPhoneOSVersion() }}} **
	// 
	// **DEPRECATED**
	// Use {{{ AC.Detector.iOSVersion() }}}
	iPhoneOSVersion: function(userAgent) {
		if (typeof console != 'undefined') console.warn('Instead of AC.Detector.iPhoneOSVersion(), please use AC.Detector.iOSVersion().');

		var agent = userAgent || this.getAgent(),
		    isMobile = this.isMobile(agent),
		    OSString, OSStringParts, version;

		if (isMobile) {
			// now looks at user agent
			var OSString = agent.match(/.*CPU ([\w|\s]+) like/i);
			if (OSString && OSString[1]) {
				OSStringParts = OSString[1].split(' ');
				version = OSStringParts[2].split('_');
				return version;
			} else {
				return [1];
			}
		}
		return null;
	},

	// ** {{{ AC.Detector.isiPad() }}} **
	// 
	// Returns whether or not the platform is an iPad
	isiPad: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return !!(this.isWebKit(agent) && agent.match(/ipad/i));
	},

	// ** {{{ AC.Detector.isMobile() }}} **
	// 
	// Returns whether or not the platform is an iPhone or an iPhone touch.
	isMobile: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return this.isWebKit(agent) && (agent.match(/Mobile/i) && !this.isiPad(agent));
	},

	// ** {{{ AC.Detector.iOSVersion() }}} **
	// 
	// Returns iOS version as float. If not iOS, returns false.
	_iOSVersion: null,
	iOSVersion: function() {
		if (this._iOSVersion === null) {
			this._iOSVersion = (AC.Detector.isMobile() || AC.Detector.isiPad()) ? parseFloat(navigator.userAgent.match(/os ([\d_]*)/i)[1].replace('_', '.')) : false;
		}
		return this._iOSVersion;
	},

	// ** {{{ AC.Detector.isOpera() }}} **
	// 
	// Returns whether or not the user agent is Opera
	isOpera: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return !!agent.match(/opera/i);
	},

	// ** {{{ AC.Detector.isIE() }}} **
	// 
	// Returns whether or not the user agent reports that it is IE.
	isIE: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return !!agent.match(/msie/i);
	},

	// ** {{{ AC.Detector.isIEStrict() }}} **
	// 
	// Returns whether or not the is IE, and not another browser 
	// masquerading as IE.
	isIEStrict: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return agent.match(/msie/i) && !this.isOpera(agent);
	},

	// ** {{{ AC.Detector.isIE8() }}} **
	// 
	// Returns whether or not the browser is IE8+
	isIE8: function(userAgent) {
		var agent = userAgent || this.getAgent();

		var match = agent.match(/msie\D*([\.\d]*)/i);
		if (match && match[1]) {
			version = match[1];
		}

		return (+version >= 8);
	},

	// ** {{{ AC.Detector.isFirefox() }}} **
	// 
	// Returns whether or not the user agent is Firefox.
	isFirefox: function(userAgent) {
		var agent = userAgent || this.getAgent();
		return !!agent.match(/firefox/i);
	},

	// ** {{{ AC.Detector.isiTunesOK() }}} **
	// 
	// Returns whether or not the platform is compatible with iTunes.
	isiTunesOK: function(userAgent) {
		var agent = userAgent || this.getAgent();
		if (this.isMac(agent)) return true;
		if (this.winAtLeastVersion(5.1, agent)) return true;
		return false;
	},

	// ** {{{ AC.Detector.isQTInstalled() }}} **
	// 
	// Returns whether or not the QuickTime plugin is installed.
	// 
	// Note that the iPhone is not regisetered by this, but is typically
	// treated as having QuickTime.
	_isQTInstalled: undefined,
	isQTInstalled: function() {

		if (this._isQTInstalled === undefined) {
			var qtInstalled = false;

			if (navigator.plugins && navigator.plugins.length) {

				for (var i=0; i<navigator.plugins.length; i++) {
					var plugin = navigator.plugins[i];

					if (plugin.name.indexOf('QuickTime') > -1) {
						qtInstalled = true;
					}
				}
			} else if (typeof(execScript) != 'undefined') {
				qtObj = false; // global variable written to by vbscript for ie
				execScript('on error resume next: qtObj = IsObject(CreateObject("QuickTimeCheckObject.QuickTimeCheck.1"))','VBScript');
				qtInstalled = qtObj;
			}

			this._isQTInstalled = qtInstalled;
		}
		return this._isQTInstalled;
	},

	// ** {{{ AC.Detector.getQTVersion() }}} **
	// 
	// Returns the version of QuickTime installed.
	// 
	getQTVersion: function() {
		var version = '0';

		if (navigator.plugins && navigator.plugins.length) {
			for (var i = 0; i < navigator.plugins.length; i++) {

				var plugin = navigator.plugins[i];

				// match: QuickTime Plugin X.Y.Z
				var match = plugin.name.match(/quicktime\D*([\.\d]*)/i);
				if (match && match[1]) {
					version = match[1];
				}
			}
		} else if (typeof(execScript) != 'undefined') {
			ieQTVersion=null;

			execScript('on error resume next: ieQTVersion = CreateObject("QuickTimeCheckObject.QuickTimeCheck.1").QuickTimeVersion','VBScript');

			if (ieQTVersion) {
				// ieQTVersion is comes back as '76208000' when 7.6.2 is installed.
				version = ieQTVersion.toString(16);
				version = [version.charAt(0), version.charAt(1), version.charAt(2)].join('.');
			}
		}

		return version;
	},

	// ** {{{ AC.Detector.isQTCompatible(required, actual) }}} **
	// 
	// Returns whether or not the {{{actual}}} version is considered
	// compatible with the {{{required}}} version.
	// 
	// Note that versions are expressed as dot-delimited strings.
	// 
	// {{{required}}}: The minimum version required
	// 
	// {{{actual}}}: The actual version available
	// 
	isQTCompatible: function(required, actual) {
		function areCompatible(required, actual) {

			var requiredValue = parseInt(required[0], 10);
			if (isNaN(requiredValue)) {
				requiredValue = 0;
			}

			var actualValue = parseInt(actual[0], 10);
			if (isNaN(actualValue)) {
				actualValue = 0;
			}

			if (requiredValue === actualValue) {
				if (required.length > 1) {
					return areCompatible(required.slice(1), actual.slice(1));
				} else {
					return true;
				}
			} else if (requiredValue < actualValue) {
				return true;
			} else {
				return false;
			}
		}

		var expectedVersion = required.split(/\./);
		var actualVersion = actual ? actual.split(/\./) : this.getQTVersion().split(/\./);

		return areCompatible(expectedVersion, actualVersion);
	},

	// ** {{{ AC.Detector.isValidQTAvailable(required) }}} **
	// 
	// Returns whether or not the QuickTime plugin installed is compatible
	// with the {{{required}}} version.
	// 
	// {{{required}}}: The minimum version required
	// 
	isValidQTAvailable: function(required) {
		return this.isQTInstalled() && this.isQTCompatible(required);
	},

	// ** {{{ AC.Detector.isSBVDPAvailable(required) }}} **
	// 
	// Returns whether or not the SBVDP plugin installed is compatible
	// with the {{{required}}} version.
	// 
	// {{{required}}}: The minimum version required
	// *note* default should be 9.0.115 for h.264 encoded movies
	// 
	isSBVDPAvailable: function(required) {
		return false;
	},

	// ** {{{AC.Detector.svgAsBackground(callback)}}}
	// Returns {{{true}}} if the current browser supports using an SVG image
	// as a CSS background-image, otherwise returns {{{false}}}.
	// 
	// {{{callback}}}: the function callback to use after the test is complete
	// and the current browser passes.
	// 
	_svgAsBackground: null,
	svgAsBackground: function(callback) {
		if (this._svgAsBackground === null) {
			var success = function() {
				AC.Detector._svgAsBackground = true;
				if (typeof(callback) == 'function') {
					callback();
				}
			}

			var img = document.createElement('img')
			img.setAttribute('src', 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNzUiIGhlaWdodD0iMjc1Ij48L3N2Zz4%3D');

			if (img.complete) {
				img.style.visibility = 'hidden';
				img.style.position = 'absolute';
				document.body.appendChild(img);

				window.setTimeout(function() {
					AC.Detector._svgAsBackground = false;
					if (img.width >= 100) {
						document.body.removeChild(img);
						success();
					} else {
						document.body.removeChild(img);
					}
				}, 1);
			} else {
				this._svgAsBackground = false;
				img.onload = success;
			}
		} else {
			if (this._svgAsBackground && typeof(callback) == 'function') {
				callback();
			}
		}
		return this._svgAsBackground;
	},

	// ** {{{AC.Detector.isCSSAvailable(property)}}}
	// Returns {{{true}}} if the current browser supports the given CSS {{{property}}},
	// otherwise, returns {{{false}}}.
	// 
	// {{{property}}}: the CSS property to test, can be of the form:
	// * webkitBorderRadius, mozBorderRadius, etc.
	// * borderRadius
	// * -webkit-border-radius, -moz-border-radius, etc.
	// * border-radius
	// 
	_style: null,
	_prefixes: null,
	_preFixes: null,
	_css: null,
	isCSSAvailable: function(property) {
		if (!this._style) this._style = document.createElement('browserdetect').style;
		if (!this._prefixes) this._prefixes = '-webkit- -moz- -o- -ms- -khtml- '.split(' ');
		if (!this._preFixes) this._preFixes = 'Webkit Moz O ms Khtml '.split(' ');
		if (!this._css) this._css = {};

		property = property.replace(/([A-Z]+)([A-Z][a-z])/g, '$1\-$2').replace(/([a-z\d])([A-Z])/g, '$1\-$2').replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/, '').toLowerCase();
		switch (property) {
			case 'gradient':
				if (this._css['gradient'] !== undefined) return this._css['gradient'];

				var property = 'background-image:',
				value1 = 'gradient(linear,left top,right bottom,from(#9f9),to(white));',
				value2 = 'linear-gradient(left top,#9f9, white);';

				this._style.cssText = (property + this._prefixes.join(value1 + property) + this._prefixes.join(value2 + property)).slice(0,-property.length);
				this._css['gradient'] = (this._style.backgroundImage.indexOf('gradient') !== -1);
				return this._css['gradient'];

			case 'inset-box-shadow':
				if (this._css['inset-box-shadow'] !== undefined) return this._css['inset-box-shadow'];

				var property = 'box-shadow:',
				value = '#fff 0 1px 1px inset;';

				this._style.cssText = this._prefixes.join(property + value);
				this._css['inset-box-shadow'] = (this._style.cssText.indexOf('inset') !== -1);
				return this._css['inset-box-shadow'];

			default:
				var properties = property.split('-'),
				length = properties.length,
				Property, i, j;

				if (properties.length > 0) {
					property = properties[0];
					for (i=1; i<length; i++) {
						property += properties[i].substr(0, 1).toUpperCase() + properties[i].substr(1);
					}
				}
				Property = property.substr(0, 1).toUpperCase() + property.substr(1);

				if (this._css[property] !== undefined) return this._css[property];

				for (j=this._preFixes.length-1; j>=0; j--) {
					if (this._style[this._preFixes[j]+property] !== undefined || this._style[this._preFixes[j]+Property] !== undefined) {
						this._css[property] = true;
						return true;
					}
				}
				return false;

		}
		return false;
	},

	// ** {{{ AC.Detector.supportsThreeD() }}} **
	// 
	// Returns whether the browser supports the 3d media query.
	// 
	_supportsThreeD: false,
	supportsThreeD: function() {
		try {
			this._supportsThreeD = false;

			if ('styleMedia' in window) {
				this._supportsThreeD = window.styleMedia.matchMedium('(-webkit-transform-3d)');
			} else if ('media' in window) {
				this._supportsThreeD = window.media.matchMedium('(-webkit-transform-3d)');
			}

			// chrome returns all the values as true, but doesn't actually have 3d support
			if (!this._supportsThreeD) {
				if (!document.getElementById('supportsThreeDStyle')) {
					var style = document.createElement('style');
					style.id = 'supportsThreeDStyle';
					style.textContent = '@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }';
					document.querySelector('head').appendChild(style);
				}

				if (!(div = document.querySelector('#supportsThreeD'))) {
					div = document.createElement('div');
					div.id = 'supportsThreeD';
					document.body.appendChild(div);
				}
				this._supportsThreeD = (div.offsetHeight === 3);
			}

			return this._supportsThreeD;
		} catch(e) {
			return false;
		}
	},

	// ** {{{ AC.Detector.hasLocalStorage() }}} **
	// 
	// Returns whether the browser supports HTML5 localStorage, and
	// does not have privacy mode enabled or cookies turned off.
	// 
	_hasLocalStorage: null,
	hasLocalStorage: function() {
		if (this._hasLocalStorage !== null) {
			return this._hasLocalStorage;
		}

		try {
			if (typeof localStorage !== 'undefined' && 'setItem' in localStorage) {
				localStorage.setItem('ac_browser_detect','test');
				this._hasLocalStorage = true;
				localStorage.removeItem('ac_browser_detect','test');
			} else {
				this._hasLocalStorage = false;
			}
		} catch(e) {
			this._hasLocalStorage = false;
		}
		return this._hasLocalStorage;
	},

	// ** {{{ AC.Detector.hasSessionStorage() }}} **
	// 
	// Returns whether the browser supports HTML5 sessionStorage, and
	// does not have privacy mode enabled or cookies turned off.
	// 
	_hasSessionStorage: null,
	hasSessionStorage: function() {
		if (this._hasSessionStorage !== null) {
			return this._hasSessionStorage;
		}

		try {
			if (typeof sessionStorage !== 'undefined' && 'setItem' in sessionStorage) {
				sessionStorage.setItem('ac_browser_detect','test');
				this._hasSessionStorage = true;
				sessionStorage.removeItem('ac_browser_detect','test');
			} else {
				this._hasSessionStorage = false;
			}
		} catch(e) {
			this._hasSessionStorage = false;
		}
		return this._hasSessionStorage;
	},


	// ** {{{ AC.Detector.hasCookies() }}} **
	// 
	// Returns whether the browser has cookies turned on.
	// 
	_hasCookies: null,
	hasCookies: function() {
		if (this._hasCookies !== null) {
			return this._hasCookies;
		}
		this._hasCookies = ('cookie' in document && !!navigator.cookieEnabled) ? true : false;
		return this._hasCookies;
	}

};


_application/x-javascript‘5678_Ihttps://devimages.apple.com.edgekey.net/assets/core/scripts/apple_core.jsO;bplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Ihttps://devimages.apple.com.edgekey.net/assets/core/scripts/apple_core.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xê<K »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"a0eeecf824a2ea2b0e5247607c470014:1395341060"_Thu, 20 Mar 2014 18:44:20 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesU62033Zkeep-alive“+,Z[\NSDictionary¢Z/ÚQ_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ+0;DJMV_acjr}Üàäåéêíîñü°£•ß©´≠Ø±∏≈ ÿ›Î˙'Wwóù£Æ≥¿√∆·Ê˙˛ 25K             g              MOÚQ// = Apple.com **Apple Core** =
// TODO load dependencies: browserdetect

if (typeof(AC) == "undefined"){ AC = {}; }

// == **onDOMReady** ==
// Event Extension
//
// http://clientside.cnet.com/code-snippets/event-scripting/a-dom-ready-extension-for-prototype/
Object.extend(Event, {
	_domReady: function () {
		if (arguments.callee.done) return;
		arguments.callee.done = true;

		if (this._timer) clearInterval(this._timer);
		AC.isDomReady = true;
		if (this._readyCallbacks) this._readyCallbacks.each(function (f) {
			f()
		});
		this._readyCallbacks = null;
	},

	onDOMReady: function (f) {
		if (AC.isDomReady) {
			f();
		}
		else {
			if (!this._readyCallbacks) {
				var domReady = this._domReady.bind(this);

				if (document.addEventListener) document.addEventListener("DOMContentLoaded", domReady, false);

				if (document.all) {
					document.onreadystatechange = function () {
						if (this.readyState == "complete") domReady();
					};
				}

				if (/WebKit/i.test(navigator.userAgent)) {
					this._timer = setInterval(function () {
						if (/loaded|complete/.test(document.readyState)) domReady();
					}, 10);
				}

				Event.observe(window, 'load', domReady);
				Event._readyCallbacks = [];
			}
			Event._readyCallbacks.push(f);
		}
	}
});

// == **AC.decorateSearchInput** ==
AC.decorateSearchInput = function (field, options) {

	var searchField = $(field);
	var standIn = null;

	var results = 0;
	var placeholder = '';
	var autosave = '';

	if (options) {

		if (options.results) {
			results = options.results;
		}
		if (options.placeholder) {
			placeholder = options.placeholder;
		}
		if (options.autosave) {
			autosave = options.autosave;
		}

	}

	if (AC.Detector.isWebKit() && !AC.Detector.isChrome()) {

		if (AC.Detector.isWin()) {
			searchField.addClassName('not-round');
		}

		searchField.setAttribute('type', 'search');
		if (!searchField.getAttribute('results')) {
			searchField.setAttribute('results', results);
		}

		if (null != placeholder) {
			searchField.setAttribute('placeholder', placeholder);
			searchField.setAttribute('autosave', autosave);
		}

	} else {

		//prevent browser from doing its own autocomplete, threw odd xul 
		//error on reset sometimes, although this feels a little
		//heavy handed
		searchField.setAttribute('autocomplete', 'off');

		//replace the field with a standin while we create the wrapper
		//we can't lose the reference to this field as other objects may
		//have already registered listeners on this field
		standIn = document.createElement('input');
		searchField.parentNode.replaceChild(standIn, searchField)

		var left = document.createElement('span');
		Element.addClassName(left, 'left');

		var right = document.createElement('span');
		Element.addClassName(right, 'right');

		var reset = document.createElement('div');
		Element.addClassName(reset, 'reset');

		var wrapper = document.createElement('div');
		Element.addClassName(wrapper, 'search-wrapper');
		wrapper.setAttribute('data-hires', 'true');

		var alreadyHasPlaceholder = field.value == placeholder;
		var isEmpty = field.value.length == 0;

		if (alreadyHasPlaceholder || isEmpty) {
			searchField.value = placeholder;
			Element.addClassName(wrapper, 'blurred');
			Element.addClassName(wrapper, 'empty');
		}

		wrapper.appendChild(left);
		wrapper.appendChild(searchField);
		wrapper.appendChild(right);
		wrapper.appendChild(reset);

		var focus = function () {

			var blurred = Element.hasClassName(wrapper, 'blurred');

			//need to check for flag AND placeholder lest somebody need to 
			//search for the placeholder text itself
			if (searchField.value == placeholder && blurred) {
				searchField.value = '';
			}

			Element.removeClassName(wrapper, 'blurred');
		}
		Event.observe(searchField, 'focus', focus);

		var blur = function () {

			if (searchField.value == '') {
				Element.addClassName(wrapper, 'empty');
				searchField.value = placeholder;
			}

			Element.addClassName(wrapper, 'blurred');
		}
		Event.observe(searchField, 'blur', blur);


		var toggleReset = function () {

			if (searchField.value.length >= 0) {
				Element.removeClassName(wrapper, 'empty');
			}
		}
		Event.observe(searchField, 'keydown', toggleReset);


		var resetField = function () {
			return (function (evt) {

				var escaped = false;

				if (evt.type == 'keydown') {
					if (evt.keyCode != 27) {
						return; //if it's not escape ignore it
					} else {
						escaped = true;
					}
				}

				searchField.blur(); //can't change value while in field
				searchField.value = '';
				Element.addClassName(wrapper, 'empty');
				searchField.focus();

			})
		}
		Event.observe(reset, 'mousedown', resetField());
		Event.observe(searchField, 'keydown', resetField());

		if (standIn) {
			standIn.parentNode.replaceChild(wrapper, standIn);
		}

	}
}


// == **New Element Methods** ==
//
// Extending prototype's element methods with some custom ones
//
Element.addMethods({

	// ** {{{ Element.getInnerDimensions(element) }}} **
	//
	getInnerDimensions: function (element) {

		element = $(element);
		var d = Element.getDimensions(element);

		var innerHeight = d.height;
		var styleOf = Element.getStyle;
		innerHeight -= styleOf(element, 'border-top-width') && styleOf(element, 'border-top-width') != 'medium' ? parseInt(styleOf(element, 'border-top-width'), 10) : 0;
		innerHeight -= styleOf(element, 'border-bottom-width') && styleOf(element, 'border-bottom-width') != 'medium' ? parseInt(styleOf(element, 'border-bottom-width'), 10) : 0;
		innerHeight -= styleOf(element, 'padding-top') ? parseInt(styleOf(element, 'padding-top'), 10) : 0;
		innerHeight -= styleOf(element, 'padding-bottom') ? parseInt(styleOf(element, 'padding-bottom'), 10) : 0;

		var innerWidth = d.width;
		innerWidth -= styleOf(element, 'border-left-width') && styleOf(element, 'border-left-width') != 'medium' ? parseInt(styleOf(element, 'border-left-width'), 10) : 0;
		innerWidth -= styleOf(element, 'border-right-width') && styleOf(element, 'border-right-width') != 'medium' ? parseInt(styleOf(element, 'border-right-width'), 10) : 0;
		innerWidth -= styleOf(element, 'padding-left') ? parseInt(styleOf(element, 'padding-left'), 10) : 0;
		innerWidth -= styleOf(element, 'padding-right') ? parseInt(styleOf(element, 'padding-right'), 10) : 0;

		return {
			width: innerWidth,
			height: innerHeight
		};
	},


	// ** {{{ Element.getOuterDimensions(element) }}} **
	//
	// Yes, we understand this is a hack. Safari is calculating margins for unpositioned elements
	// as the total remaining viewport width.
	//
	getOuterDimensions: function (element) {
		element = $(element);
		var clone = element.cloneNode(true);

		var parent = (element.parentNode) ? element.parentNode : document.body;
		parent.appendChild(clone);

		Element.setStyle(clone, {
			position: "absolute",
			visibility: "hidden"
		});
		var d = Element.getDimensions(clone);

		var outerHeight = d.height;
		var styleOf = Element.getStyle;
		outerHeight += styleOf(clone, 'margin-top') ? parseInt(styleOf(clone, 'margin-top'), 10) : 0;
		outerHeight += styleOf(clone, 'margin-bottom') ? parseInt(styleOf(clone, 'margin-bottom'), 10) : 0;

		var outerWidth = d.width;
		outerWidth += styleOf(clone, 'margin-left') ? parseInt(styleOf(clone, 'margin-left'), 10) : 0;
		outerWidth += styleOf(clone, 'margin-right') ? parseInt(styleOf(clone, 'margin-right'), 10) : 0;

		Element.remove(clone);

		return {
			width: outerWidth,
			height: outerHeight
		};
	},


	// ** {{{ Element.translateOffset(element) }}} **
	//
	// Return x, y, and z translate offsets if applicable.
	// Assumes units are in pixels.
	// Non-vendor specific.
	//
	translateOffset: function(element) {
		var transform, translate, offset = null;

		// Get the vendor-specific transform if the agnostic one does not exist
		transform = element.getStyle('transform');
		if (!transform) {
			transform = element.getStyle('webkitTransform');
		}
		if (!transform) {
			transform = element.getStyle('MozTransform');
		}
		if (!transform) {
			transform = element.getStyle('msTransform');
		}
		if (!transform) {
			transform = element.getStyle('oTransform');
		}

		// If there is any sort of a transform
		if (transform) {
			// Get the translate function from the string
			translate = transform.match(/.*(translate|translate3d|translateZ|translateX|translateY)\(([^)]+).*/);

			if (translate) {
				offset = [];

				// Parse the regex results from the translate string
				switch (translate[1]) {
					case "translateX":
						offset[0] = parseInt(translate[2]);
						offset[1] = 0;

						break;
					case "translateY":
						offset[1] = parseInt(translate[2]);
						offset[0] = 0;

						break;
					case "translateZ":
						offset[2] = parseInt(translate[2]);
						offset[0] = 0;
						offset[1] = 0;
						
						break;
					default:
						offset = translate[2].split(/,\s*/);

						if (typeof offset[0] !== "undefined") {
							offset[0] = parseInt(offset[0]);
						}
						if (typeof offset[1] !== "undefined") {
							offset[1] = parseInt(offset[1]);
						}
						if (typeof offset[2] !== "undefined") {
							offset[2] = parseInt(offset[2]);
						}

						break;
				}

				// Save values in a hash to make things simpler, consistent with Prototype
				offset.type = translate[1];
				offset.x = offset[0];
				offset.y = offset[1];
				offset.z = offset[2];
			} else {
				// If we don't have a translate, maybe we have a matrix?
				translate = transform.match(/.*(matrix)\(([^)]+).*/);

				if (translate !== null) {
					translate = transform.match(/.*(matrix)\(([^)]+).*/)[2].split(', ');
					offset = [parseFloat(translate[4]), parseFloat(translate[5])];

					// We can't know if the translate is 3d or not based on a matrix
					offset.type = 'matrix';
					offset.x = offset[0];
					offset.y = offset[1];
					offset.z = null;
				}
			}
		}

		return offset;
	},


	// ** {{{ Element.removeAllChildNodes(element) }}} **
	//
	removeAllChildNodes: function (element) {
		element = $(element);
		if (!element) {
			return;
		}

		while (element.hasChildNodes()) {
			element.removeChild(element.lastChild);
		}
	},

	// ** {{{ Element.setVendorPrefixStyle(element, property, value) }}} **
	//
	// Sets all the vendor specific style {{{property}}} to {{{value}}} on {{{element}}}.
	//
	// {{{element}}}: the element for which to set the style upon
	// {{{property}}}: the css property, e.g. borderRadius, webkitBorderRadius, border-radius, etc...
	// {{{value}}}: the value for which to set the element's css property
	//
	setVendorPrefixStyle: function (element, property, value) {
		if (property.match(/^webkit/i)) {
			property = property.replace(/^webkit/i, '');
		} else if (property.match(/^moz/i)) {
			property = property.replace(/^moz/i, '');
		} else if (property.match(/^ms/i)) {
			property = property.replace(/^ms/i, '');
		} else if (property.match(/^o/i)) {
			property = property.replace(/^o/i, '');
		} else if (property.match('-')) {
			var properties = property.split('-'),
			    length = properties.length;
			property = '';
			for (var i = 0; i < properties.length; i++) {
				property += properties[i].charAt(0).toUpperCase() + properties[i].slice(1);
			}
		} else {
			property = property.charAt(0).toUpperCase() + property.slice(1);
		}

		if (value.match('-webkit-')) {
			value = value.replace('-webkit-', '-vendor-');
		} else if (value.match('-moz-')) {
			value = value.replace('-moz-', '-vendor-');
		} else if (value.match('-ms-')) {
			value = value.replace('-ms-', '-vendor-');
		} else if (value.match('-o-')) {
			value = value.replace('-o-', '-vendor-');
		}

		element.style['webkit' + property] = value.replace('-vendor-', '-webkit-');
		element.style['Moz' + property] = value.replace('-vendor-', '-moz-'); // FireFox expects capitalized M
		element.style['ms' + property] = value.replace('-vendor-', '-ms-');
		element.style['O' + property] = value.replace('-vendor-', '-o-');

		// apply generic property as camelCase and CamelCase
		element.style[property] = value;
		property = property.charAt(0).toLowerCase() + property.slice(1);
		element.style[property] = value;
	},


	// ** {{{ Element.setVendorPrefixTransform(element, x, y) }}} **
	//
	// Determines which vendor specific prefix is appropriate and adds 2d transform {{{x}}}-value and {{{y}}}-value on {{{element}}}.
	// In addition, the string {{{'none'}}} can be passed as the {{{x}}}-value argument to set the transform property to none.
	setVendorPrefixTransform: function(element, x, y) {
		if (x == 'none') {
			element.setVendorPrefixStyle('transform', 'none');
			return;
		}

		if (x == null) {
			x = 0;
		}
		if (y == null) {
			y = 0;
		}

		if (AC.Detector.supportsThreeD()) {
			element.setVendorPrefixStyle('transform', 'translate3d('+x+', '+y+', 0)');
		} else {
			element.setVendorPrefixStyle('transform', 'translate('+x+', '+y+')');
		}
	},


	// ** {{{ Element.addVendorEventListener(element, type, listener, useCapture) }}} **
	//
	// Sets all the vendor event {{{listener}}}s of {{{type}}} on {{{element}}}.
	//
	// {{{element}}}: the element for which to set the listener upon
	// {{{type}}}: a string representing the event type to listen for, e.g. animationEnd, webkitAnimationEnd, etc...
	//			   IMPORTANT: This value is expected to be a string in camelCase.
	// {{{listener}}}: the object that receives a notification when an event of the specified type occurs.
	// {{{useCapture}}}: If true, useCapture indicates that the user wishes to initiate capture.
	//
	addVendorEventListener: function (element, type, listener, useCapture) {
		if (typeof(addEventListener) == 'function') {
			if (type.match(/^webkit/i)) {
				type = type.replace(/^webkit/i, '');
			} else if (type.match(/^moz/i)) {
				type = type.replace(/^moz/i, '');
			} else if (type.match(/^ms/i)) {
				type = type.replace(/^ms/i, '');
			} else if (type.match(/^o/i)) {
				type = type.replace(/^o/i, '');
			} else {
				type = type.charAt(0).toUpperCase() + type.slice(1);
			}

			// To avoid adding the same event twice, we need to sniff the user agent.
			// Once we've confirmed a browser supports the generic event name, we'll
			// change this if to be < that build.
			if (/WebKit/i.test(navigator.userAgent)) {
				element.addEventListener('webkit'+type, listener, useCapture);
			} else if (/Opera/i.test(navigator.userAgent)) {
				element.addEventListener('O'+type, listener, useCapture);
			} else if (/Gecko/i.test(navigator.userAgent)) {
				element.addEventListener(type.toLowerCase(), listener, useCapture);
			} else {
				type = type.charAt(0).toLowerCase() + type.slice(1);
				return element.addEventListener(type, listener, useCapture);
			}
		}
	},

	// ** {{{ Element.removeVendorEventListener(element, type, listener, useCapture) }}} **
	//
	// Removes all the vendor event {{{listener}}}s of {{{type}}} on {{{element}}}.
	//
	// {{{element}}}: the element for which to remove the listener from
	// {{{type}}}: a string representing the event type to listen for, e.g. animationEnd, webkitAnimationEnd, etc...
	//			   IMPORTANT: This value is expected to be a string in camelCase.
	// {{{listener}}}: the object that receives a notification when an event of the specified type occurs.
	// {{{useCapture}}}: If true, useCapture indicates that the user wishes to initiate capture.
	//
	removeVendorEventListener: function (element, type, listener, useCapture) {
		if (typeof(removeEventListener) == 'function') {
			if (type.match(/^webkit/i)) {
				type = type.replace(/^webkit/i, '');
			} else if (type.match(/^moz/i)) {
				type = type.replace(/^moz/i, '');
			} else if (type.match(/^ms/i)) {
				type = type.replace(/^ms/i, '');
			} else if (type.match(/^o/i)) {
				type = type.replace(/^o/i, '');
			} else {
				type = type.charAt(0).toUpperCase() + type.slice(1);
			}

			element.removeEventListener('webkit' + type, listener, useCapture);
			element.removeEventListener('O' + type, listener, useCapture);
			element.removeEventListener(type.toLowerCase(), listener, useCapture);

			type = type.charAt(0).toLowerCase() + type.slice(1);
			return element.removeEventListener(type, listener, useCapture);
		}
	}
});

// ** {{{ Rigging up window vendor event listeners as well }}} **
//
window.addVendorEventListener = function (type, listener, useCapture) {
	Element.Methods.addVendorEventListener(window, type, listener, useCapture);
};
window.removeVendorEventListener = function (type, listener, useCapture) {
	Element.Methods.removeVendorEventListener(window, type, listener, useCapture);
};

// ** {{{ Element.childNodeWithNodeTypeAtIndex(element, nodeType, index) }}} **
//
Element.Methods.childNodeWithNodeTypeAtIndex = function (element, nodeType, index) {
	var node = element.firstChild;
	if (!node) return null;
	var i = 0;
	while (node) {
		if (node.nodeType === nodeType) {
			if (index === i) {
				return node;
			}
			i++;
		}
		node = node.nextSibling;
	}
	return null;
};


// == Element2 ==
//
// Legacy Element2 for old extended element methods. Used in AC.Media
//
var Element2 = {};
Element2.Methods = Object.clone(Element.Methods);


// == ** Omniture Tracking library ** ==
//
if (typeof(AC.Tracking) == "undefined") {
	AC.Tracking = {};
}

// ** {{{ AC.Tracking.getLinkClicked(target) }}} **
//
AC.Tracking.getLinkClicked = function (target) {
	if (!target) {
		return null;
	}

	while (target.nodeName.toLowerCase() != 'a' && target.nodeName.toLowerCase() != 'body') {
		target = target.parentNode;
	}

	if (!target.href) {
		target = null;
	}

	return target;
}

// ** {{{ AC.Tracking.trackLinksWithin(container, test, title, properties, options) }}} **
//
AC.Tracking.trackLinksWithin = function (container, test, title, properties, options) {
	$(container).observe('mousedown', function (evt) {

		var target = AC.Tracking.getLinkClicked(Event.element(evt));

		if (target && test(target)) {

			if (options && options.beforeTrack) {
				// provides a way to alter the properties or the title in some way for the mousedown
				// most felixble way to capture what link was actually clicked or whatever else
				// you want at the time of the event
				var altered = options.beforeTrack(target, title, properties);
				if (altered) {
					title = altered.title;
					properties = altered.properties;
				}
			}

			AC.Tracking.trackClick(properties, this, 'o', title);
		}

	});
}

// ** {{{ AC.Tracking.tagLinksWithin(container, key, value, test) }}} **
//
// Effectively tags all links within a container conforming to the supplied 
// test function reference with the specified key and value.
//
// The test argument should be a function reference expecting the link as 
// its first and only parameter. It should simply return true or false 
// indicating whether the link should be tagged or not.
//
AC.Tracking.tagLinksWithin = function (container, key, value, test) {
	$(container).observe('mousedown', function (evt) {

		var link = Event.element(evt);

		if (!link) {
			return;
		}

		while (link.nodeName.toLowerCase() != 'a' && link.nodeName.toLowerCase() != 'body') {
			link = link.parentNode;
		}

		if (link.href && test(link)) {
			AC.Tracking.tagLink(link, key, value);
		}

		link = null;
	})
}

// ** {{{ AC.Tracking.tagLink(link, key, value) }}} **
//
// Appends the specified key and value to the querystring of the supplied 
// anchor's href attribute.
//
AC.Tracking.tagLink = function (link, key, value) {
	var href = link.getAttribute('href');

	if (href.match(/\?/)) {
		var params = href.toQueryParams();
		params[key] = value;
		href = href.split(/\?/)[0] + '?' + $H(params).toQueryString();
	} else {
		href += '?' + key + '=' + value;
	}

	link.setAttribute('href', href);
}

// ** {{{ AC.Tracking.s_vi() }}} **
//
AC.Tracking.s_vi = function () {
	var cookies = document.cookie.split(';'),
		s_vi = null,
		match;

	for (var i = 0, cookie;
	(cookie = cookies[i]); i++) {
		match = cookie.match(/^\s*s_vi=\[CS\]v1\|(.+)\[CE\]\s*$/);
		if (match) {
			s_vi = match[1];
			break;
		}
	}

	return s_vi;
}

// ** {{{ AC.Tracking.track(trackingMethod, properties, options) }}} **
//
// Makes a tracking request.
//
// //Note:// Typically you won't need to call this directly, instead you should
// track events using either TrackClick or TrackPage, which provide more
// friendly interfaces to this method.
//
// * {{{trackingMethod}}} the method of Omniture tracking to use
//
// * {{{properties}}} associative array of property names and their associated values to track
//
// * {{{options}}} associate array of options to use in this tracking context, 
// 	some of these are required depending upon the trackingMethod you have chose
//
AC.Tracking.track = function (trackingMethod, properties, options) {
	if (typeof(s_gi) == 'undefined' || !s_gi) {
		return;
	}

	options = options || {};

	//use existing tracking account if available, or use one from the options
	if (typeof(s_account) != 'undefined') {
		s = s_gi(s_account)
	} else if (options.s_account) {
		s = s_gi(options.s_account);
	} else {
		return;
	}

	if (trackingMethod == s.tl) {

		var linkTrackVars = ''

		for (var key in properties) {
			linkTrackVars += key + ',';
		}
		linkTrackVars = linkTrackVars.replace(/,$/, '');

		s.linkTrackVars = linkTrackVars;
	} else {
		s.linkTrackVars = '';
	}

	//clear properties set by default within a page
	s.prop4 = "";
	s.g_prop4 = "";
	s.prop6 = "";
	s.g_prop6 = "";
	s.pageURL = "";
	s.g_pageURL = "";
	s.g_channel = "";

	var sanitize = function (value) {
		if (typeof(value) == "string") {
			return value.replace(/[\'\"\√¨\√Æ\√´\√≠]/g, '');
		} else {
			return value;
		}
	}

	for (var key in properties) {

		s[key] = sanitize(properties[key]);

		if (key == 'events') {
			s.linkTrackEvents = sanitize(properties[key]);
		}
	}

	if (trackingMethod == s.t) {
		void(s.t());
	} else {
		s.tl(options.obj, options.linkType, sanitize(options.title));
	}

	for (var key in properties) {
		if (key != 'pageName') {
			s[key] = '';
		}
		if (key == 'events') {
			s.linkTrackEvents = 'None';
		}
	}

},

// ** {{{ AC.Tracking.track(trackingMethod, properties, options) }}} **
//
// Uses the Omniture s.tl Tracking method to track a "click"
// 
// * {{{properties}}} associative array of params and associated values
// 
// * {{{obj}}} object for context, usually "this"
// 
// * {{{linkType}}} type of link for Omniture usually 'o'
// 
// * {{{title}}} human readable title for this link that shows up in reports
// 
// * {{{options}}} associative array of options to apply to this tracking context (currently no valid options are available)
//
AC.Tracking.trackClick = function (properties, obj, linkType, title, options) {
	var options = {
		obj: obj,
		linkType: linkType,
		title: title
	};

	AC.Tracking.track(s.tl, properties, options);
},

// ** {{{ AC.Tracking.track(trackingMethod, properties, options) }}} **
//
// Uses the Omniture s.t Tracking method to track a "page load"
//
// * {{{properties}}} associative array of params and associated values
//
// * {{{options}}} associative array of options to apply to this tracking context
//
AC.Tracking.trackPage = function (properties, options) {
	AC.Tracking.track(s.t, properties, options);
}


// == **New String Methods** ==
//
// Extending prototype's string methods with some custom ones
//

// ** {{{ String.lastPathComponent() }}} **
//
String.prototype.lastPathComponent = function () {
	var index = this.lastIndexOf("/");
	if (index != -1) {
		return this.substring(index + 1, this.length - 1);
	}
	else return null;
}

// ** {{{ String.stringByDeletingLastPathComponent() }}} **
//
String.prototype.stringByDeletingLastPathComponent = function () {
	var index = this.lastIndexOf("/");
	if (index != -1) {
		return this.slice(0, index);
	}
	else return null;
}

// ** {{{ String.stringByAppendingPathComponent(value) }}} **
//
String.prototype.stringByAppendingPathComponent = function (value) {
	return (this.lastIndexOf("/") !== (this.length - 1)) ? (this + "/" + value) : (this + value);
}

// ** {{{ String.stringByRemovingPrefix(value) }}} **
//
String.prototype.stringByRemovingPrefix = function (value) {
	var index = this.indexOf(value);
	if (index > -1) {
		var result = this.substring(index + value.length, this.length);
		return result;
	}
	else {
		return this;
	}
}

// ** {{{ String.pathExtension() }}} **
//
String.prototype.pathExtension = function () {
	var lastPathComponent = this.lastPathComponent();
	var index = lastPathComponent.lastIndexOf(".");
	if (index != -1) {
		return lastPathComponent.slice(index, lastPathComponent.length);
	}
	else return "";
}


// == **New Array Methods** ==
//
// Extending prototype's array methods with some custom ones
//

// ** {{{ Array.addObjectsFromArray(array) }}} **
//
Array.prototype.addObjectsFromArray = function (array) {
	if (array.constructor === Array) {
		this.push.apply(this, array);
	}
	else {
		for (var i = 0, item;
		(item = array[i]); i++) {
			this[this.length] = item;
		}
	}
}

// ** {{{ Array.item(index) }}} **
//
Array.prototype.item = function (index) {
	return this[index];
}


// == document._importNode ==
//
document._importNode = function (node, allChildren) {
	/* find the node type to import */
	if (node.nodeType === Node.ELEMENT_NODE) {
		/* create a new element */
		var newNode = document.createElement(node.nodeName);
		var i, il;
		/* does the node have any attributes to add? */
		if (node.attributes && node.attributes.length > 0)
		/* add all of the attributes */
		var nodeAttributes = node.attributes;
		var iNodeName, iNodeValue;
		for (i = 0, il = node.attributes.length; i < il;) {
			iNodeName = nodeAttributes[i].nodeName;
			iNodeValue = node.getAttribute(nodeAttributes[i++].nodeName);
			if (iNodeName === "class") {
				//iNodeName = "className";
				newNode.setAttribute("className", iNodeValue);
			}
			newNode.setAttribute(iNodeName, iNodeValue);
		}
		/* are we going after children too, and does the node have any? */
		if (allChildren && node.childNodes && node.childNodes.length > 0) {
			/* recursively get all of the child nodes */
			for (i = 0, il = node.childNodes.length; i < il; i++) {
				//NOSCRIPT doesn't support the appendChild of even a text node, so we'll skip it
				if (newNode.tagName === "NOSCRIPT") {
					continue;
				}
				newNode.appendChild(document._importNode(node.childNodes[i], allChildren));
			}
		}
		return newNode;
	}
	else if (node.nodeType === Node.TEXT_NODE) {
		return document.createTextNode(node.nodeValue);
	}
	else if (node.nodeType === Node.COMMENT_NODE) {
		return document.createComment(node.nodeValue);
	}
	else if (node.nodeType === Node.CDATA_SECTION_NODE) {
		return document.createCDATASection(node.nodeValue);
	}
	else return null;
};
if (!document.importNode) { document.importNode = document._importNode; }

// == Random, IE Fixes ==
//
if(typeof document.head == 'undefined'){ document.head = document.getElementsByTagName('head')[0]; }
if (AC.Detector.isIEStrict()) {

	Element.Methods.hasAttribute = function (element, attributeName) {
		if (attributeName == "class") attributeName = "className";
		else if (attributeName == "for") attributeName = "htmlFor";
		var result = element.getAttribute(attributeName);
		return ((result != null) && (result !== ""));

	};

	document._getElementsByName = document.getElementsByName;
	document._HTMLElementsWithName = ["a", "apple", "button", "form", "frame", "iframe", "img", "input", "object", "map", "meta", "param", "textarea", "select"];

	document.getElementsByName = function (name) {
		var _HTMLElementsWithName = this._HTMLElementsWithName;
		var result = [],
			ieResult, i, iNode;
		for (var e = 0, element;
		(element = _HTMLElementsWithName[e]); e++) {
			ieResult = document.getElementsByTagName(element);
			for (i = 0;
			(iNode = ieResult[i]); i++) {
				if (iNode.name === name) {
					result[result.length] = iNode;
				}
			}
		}

		return result;
	}
}


// == JSON ==
// Fallback (for IE) to have JSON.stringify and JSON.parse methods
//
// From: https://github.com/douglascrockford/JSON-js/blob/master/json2.js
//
/*********************** JSON ***********************/
if(typeof JSON == "undefined" || !('stringify' in JSON && 'parse' in JSON)){if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());}
/*********************** JSON ***********************/



// == HTML5 Activation for Older Browsers ==
["abbr","article","aside","command","details","figcaption","figure","footer","header","hgroup","mark","meter","nav","output","progress","section","summary","time"].each(function(n){
	document.createElement(n);
});



// = **AC.Storage** =
//
// //@ author:// Kyle Olson
//
// Allows for safe use of HTML5 localStorage, without worrying about errors that come
// from user privacy settings or older browsers. There is also a new expiration functionality
// to avoid from users retaining localStorage values indefinitely and filling up our quotas.
//
// Also has integration for sessionStorage, by setting the //days// attribute to //0//
// using the setItem method.
//
// Read more about HTML5 localStorage:
// http://developer.apple.com/library/safari/#documentation/iPhone/Conceptual/SafariJSDatabaseGuide/Name-ValueStorage/Name-ValueStorage.html
//
// Has optional degredatation strategies for older browsers, including #userData support
// (mimicking localStorage) for IE6/IE7, and cookies.
//
// Internet Explorer 6 & 7 use the #userData behavior. #userData allows us
// to store localStorage data as attributes on elements, then record those attributes persistently.
// It also has native expiration functionality. The expirience for the user should be the same
// as if they had a browser that supported localStorage.
// Read more about #userData here: http://msdn.microsoft.com/en-us/library/ms531424(v=vs.85).aspx
//
// *NOTE* #userData items can only be accessed from the page they were saved on. localStorage, sessionStorage, and cookie items
// can be accessed from any other page on the same domain name, or sub-domain if applicable. E.g. you cannot access values from
// www.apple.com on support.apple.com.
//
// Automatically degrading to cookies is disabled by default, but even with that disabled,
// you can access the cookies getter/setter methods through the {{{AC.Storage.cookie}}} object.

//
// == MetaData ==
//
// AC.Storage, unlike localStorage, saves metadata along with the key/value pair. The default
// data to store is an expiration date, but any other properties can be stored as well through
// the metadata attribute in the {{{AC.Storage.setItem}}} method.
//
// This is accomplished by creating a JavaScript object that contains the value and meta data,
// then converting that object to a JSON string for saving it out. This data gets parsed back
// into an object with the getter methods, then the value is returns directly.
//
// In staying consistent with the localStorage and sessionStorage functionality, the {{{AC.Storage.getItem}}}
// method only returns the value itself. If you want to access any of the metadata associated
// with an item, you will want to use the {{{AC.Storage.getItemObject}}} method, which returns by
// default the value as //obj.value// and the expiration date as //obj.expires//.
//
// **NOTE:** MetaData cannot be stored using cookies, but it is stored with #userData and sessionStorage.

//
// == Saving JavaScript Objects ==
//
// By adding metadata to keep track of expiration date, we get the ability to save simple javascript object literals
// for free. You can pass an object literal to the {{{AC.Storage.setItem}}} method and it will store it as a JSON string.
// Objects can be infinitely nested, but not all types are supported. Any supported types can be nested as well, for instance
// you can put dates in arrays.
//
// === Supported JavaScript Object Types ===
//
// *{{{Object Literal}}}: e.g. //{ key: 'value' }//
//
// *{{{String}}}: e.g. //"I'm a string"//
//
// *{{{Numbers}}}: e.g. //100// or //3.14//
//
// *{{{Dates}}}: e.g. //new Date()//
//
// *{{{Arrays}}}: e.g. //['first object','second object']//

//
// == Private Browsing Modes ==
//
// *{{{Private Browsing in Safari}}}: Private Browsing completely disables localStorage for Safari. You will not
// be able to store any items unless you allow cookies. Using localStorage.getItem, you can still retrieve localStorage
// items in private browsing mode (as JSON strings), but AC.Storage will return null for any items.
//
// *{{{Private Browsing in FireFox}}}: Firefox treats all localStorage items as sessionStorage when in private browsing mode.
// Also, you do not have access to any localStorage values stored in normal browsing mode until the user exits private browsing.
//
// *{{{Cookies Disabled}}}: Browsers treat disabling cookies as disabling localStorage as well. AC.Storage will //most likely// not
// work when cookies are disabled. But you will not receive errors when trying to access AC.Storage when cookies are disabled.
//

//
// == Cleanup ==
//
// === Expiration ===
//
// *{{{localStorage}}}: There is no native expiration functionality for localStorage, so AC.Storage
// accomplishes this by storing metadata associated with the key/value pairs
//
// *{{{sessionStorage}}}: We use the native sessionStorage expiration functionality, which is until the user ends
// the session by closing the browser window.
//
// *{{{#userData}}}: We use the same expiration functionality that we implemented for localStorage, which is not native.
//
// *{{{cookies}}}: Native cookie expiration.
//
// === Removing Expired localStorage items ===
//
// Since localStorage does not have any native expiration functionality, we need to be in charge
// of removing expired items. This can happen two ways using AC.Storage.
//
// *{{{getItem}}}: Any time you call the {{{AC.Storage.getItem}}} method, it will check to see
// if the item has expired before returning it. If it has expired, it returns null and removes
// the item.
//
// *{{{removeExpired}}}: The {{{AC.Storage.removeExpired}}} method is never run internally in AC.Storage,
// but should be run every once in a while to clear out all expired items on the user's machine. I've placed
// a call to this method in the promomanager.js script, which is often located on high level pages. This should
// ensure that people don't build up large stockpiles of expired items.
// 
// *NOTE* #userData is on a per-page basis, not a per-domain basis, which means the expiration functionality will not
// work for browsers using #userData unless the check runs on the page that set the item.

AC.Storage = {
	// == Options ==
	//
	// *{{{allowCookies}}} [**false**]: (boolean) Use cookies as a fallback for browsers without localStorage support.
	// NOTE: Cookies are unable to store anything but numbers and strings through AC.Storage, meaning metadata and values
	// that are objects will not be stored, or will not be stored correctly.
	//
	// *{{{useIEFallback}}} [**true**]: (boolean) Use the #userData behavior of Internet Explorer versions 6 & 7, which
	// behaves similarly to localStorage.
	//
	// *{{{daysBeforeExpiring}}} [**365**]: (float) The default amount of days for an item to last before it expires;
	// if days argument is not passed to setItem method.
	//
	// *{{{saveTypeMetadata}}} [**false**]: (boolean) Whether or not the type of the item (i.e. 'localStorage') should
	// be saved. The default for this is false to save space. (Does not work for cookies)
	//
	options: {
		allowCookies: false,
		useIEFallback: true,
		daysBeforeExpiring: 365,
		saveTypeMetadata: false
	},

	// ** {{{ AC.Storage.setOption(key, value) }}} **
	//
	// A setter method, if you want to change an option.
	//
	// //note:// This affects all future AC.Storage items for this page until
	// it is refreshed or the user navigates away/closes the browser.
	//
	setOption: function(key, value){
		return this.options[key] = value;
	},

	// ** {{{ AC.Storage.storageType(days) }}} **
	//
	// Determines which storage technology we should use.
	//
	// Accepts a 'days' argument to determine if we want
	// localStorage or sessionStorage. 0 Days means Session.
	//
	storageType: function (days) {
		days = parseFloat(days);
		if(days === 0 && AC.Detector.hasSessionStorage()){
			return this.item.types['s'];

		} else if(AC.Detector.hasLocalStorage()){
			return this.item.types['l'];
		
		} else if(!!this.options.useIEFallback && this.IE.canAddBehavior()){
			return this.item.types['u'];

		} else if(!!this.options.allowCookies && AC.Detector.hasCookies()){
			return this.item.types['c'];
		}

		return null;
	},

	// === Setter/Getter/Remove Methods ===

	// ** {{{ AC.Storage.setItem(key, value, days) }}} **
	//
	// Sets the key/value pair using the appropriate storage method.
	// Sets an expiration date if needed as well.
	//
	// Value can be a string, array, number, boolean, object, or date.
	//
	// Metadata is an object that can contain any information you want
	// to store about your item. It can be accessed using the {{{AC.Storage.getItemObject}}}
	// method. The reserved keywords are '**type**','**days**','**v**','**e**',
	// '**t**','**r**','**value**','**expires**'
	//
	// Consider using as few characters as possible by having a lookup table
	// in your code to map single characters to string describing what the
	// metadata property means.
	//
	// By using the metadata property: {{{roundsDateTo}}}, you can override the
	// accuracy of the date expiration feature (currently as accurate as 1 day).
	// Set it in milliseconds.
	//
	setItem: function (key, value, days, metadata) {
		if(key == ''){ return false; }
		days = parseFloat(days);
		if(isNaN(days)) days = null;
		if(typeof days == 'undefined' || days === null){ days = this.options.daysBeforeExpiring; }
		if(typeof metadata !== 'object'){ metadata = {}; }

		// Figure out which technology we can use based on availability
		// and the amount of days before expiring (0 days = Session)
		switch(this.storageType(days)){
			// If we can use localStorage
			case this.item.types['l']:
				// If we wanted session storage, but it's not available, keep for 1 day
				if(days === 0){ days = 1; }
				// using days = -1 to remove item? Like a cookie
				//else if (days < 0){ return this.removeItem(key); }
				
				// Set the item using the AC.Storage.item.create method
				// Use a try loop in case we go over the quota
				try{
					metadata.days = days;
					if(this.options.saveTypeMetadata){ metadata.type = 'l'; }
					localStorage.setItem(key, this.item.create(value, metadata));
					return value;
				} catch(err){
					try{ console.warn(err); /* console.log(key); */ } catch(e){}
					return false;
				}
				
				break;

			// If we can use sessionStorage and the data only lasts for the session (0 days)
			case this.item.types['s']:
				// Set the item using the AC.Storage.item.create method
				// Use a try loop in case we go over the quota
				try{
					metadata.days = 0;
					if(this.options.saveTypeMetadata){ metadata.type = 's'; }
					sessionStorage.setItem(key, this.item.create(value, metadata));
					return value;
				} catch(err){
					try{ console.warn(err); /* console.log(key); */ } catch(e){}
					return false;
				}
				break;

			// Fallback for older IE browsers
			case this.item.types['u']:
				return this.IE.setItem(key, value, days, metadata);
				break;


			// Fallback for fallback...
			case this.item.types['c']:
				return this.cookie.setItem(key, value, days);
				break;
		}
	},

	// ** {{{ AC.Storage.getItem(key) }}} **
	//
	// Returns the value for a key, or null if none exists.
	// This will check every available method for storing
	// keys through AC.Storage, and return the first positive
	// result it finds.
	//
	// //note:// The localStorage.getItem method still works when private browsing
	// is turned on, but AC.Detector.hasLocalStorage() will return false, so AC.Storage.getItem
	// does not work in private browsing mode.
	//
	getItem: function (key) {
		if(this.hasExpired(key)){ this.removeItem(key); return null; }
		var value = this.getItemObject(key);
		if(value === null || typeof value === 'undefined'){ return null; }
		else if(typeof value === 'object' && 'value' in value){ return value.value; }
		else { return value; }
	},

	// ** {{{ AC.Storage.getItemObject(key) }}} **
	//
	// Returns the value for a key, or null if none exists.
	// This will check every available method for storing
	// keys through AC.Storage, and return the first positive
	// result it finds.
	//
	getItemObject: function (key) {
		var obj,
			objAsString;
		if(AC.Detector.hasLocalStorage()){
			objAsString = localStorage.getItem(key);
			obj = this.item.read(objAsString);
			if(obj !== null && typeof obj != "undefined") return obj;
		}
		if(AC.Detector.hasSessionStorage()){
			objAsString = sessionStorage.getItem(key);
			obj = this.item.read(objAsString);
			if(obj !== null && typeof obj != "undefined") return obj;
		}
		if(!!this.options.useIEFallback && this.IE.canAddBehavior()) {
			obj = this.IE.getItem(key);
			if(obj !== null && typeof obj != "undefined") return obj;
		}
		if(!!this.options.allowCookies && AC.Detector.hasCookies()){
			obj = this.cookie.getItem(key);
			if(obj !== null && typeof obj != "undefined") return obj;
		}
		
		return null
	},

	// ** {{{ AC.Storage.removeItem(key) }}} **
	//
	// Removes all instances of a key from all methods that AC.Storage supports.
	//
	removeItem: function (key) {
		if(AC.Detector.hasLocalStorage()){
			localStorage.removeItem(key);
		}
		if(AC.Detector.hasSessionStorage()){
			sessionStorage.removeItem(key);
		}
		if(!!this.options.useIEFallback && this.IE.canAddBehavior()) {
			this.IE.removeItem(key);
		}
		if(!!this.options.allowCookies && AC.Detector.hasCookies()){
			this.cookie.removeItem(key);
		}
		
		return key;
	},

	// === Expiration Methods ===

	// ** {{{ AC.Storage.createExpirationDate(days, fromDate) }}} **
	//
	// Figure out the expiration date based on the current date or the supplied date object (fromDate),
	// and the amount of days until it is set to expire (days).
	//
	createExpirationDate: function(days, fromDate){
		if(typeof fromDate == "undefined" || !('getHours' in fromDate)){ fromDate = new Date(); }
		fromDate.setTime(fromDate.getTime() + (days * 24 * 60 * 60 * 1000));
		return fromDate.getTime(); // Return as time stamp (e.g. 1322849543460)
	},

	// ** {{{ AC.Storage.getExpirationDate(key) }}} **
	//
	// Returns the expiration date (as a Date object) for a key if it is localStorage or sessionStorage.
	// Returns null for cookies and #userData, even if they have an expiration date.
	//
	getExpirationDate: function(key){
		var obj = this.getItemObject(key);
		if(typeof obj === 'string' || typeof obj === 'number'){ return null; }
		if(obj != null && typeof obj !== 'undefined' && 'expires' in obj) return new Date(obj.expires);
		else return null;
	},

	// ** {{{ AC.Storage.hasExpired(key) }}} **
	//
	// Checks to see if a localStorage or #userData item has an expiration date and the current date
	// is greater than that expiration date.
	//
	// Returns true if the item has expired, returns false if it has not, does not have an expiration date,
	// does not exist, or we don't know when it expires (i.e. not created with AC.Storage).
	hasExpired: function(key){
		if(typeof key == "undefined" || key.length === 0){ return false; }
		var date = new Date().getTime();
		if(AC.Detector.hasLocalStorage()){
			var expires = this.getExpirationDate(key);
			if(expires !== null && expires.getTime() < date){ return true; }
		}
		
		return false;
	},

	// ** {{{ AC.Storage.removeExpired() }}} **
	//
	// Removes all localStorage values that have expired.
	//
	// //Note:// The remove function also removes any cookies, sessionStorage, or #userData
	// values with the same key.
	//
	removeExpired: function(){
		if(AC.Detector.hasLocalStorage()){
			for(i=0;i<localStorage.length;i++){
				var key = localStorage.key(i);
				if(this.hasExpired(key)){
					this.removeItem(key);
				}
			}
			return true;
		}
		
		return false;
	},

	// === Item-related Methods ===
	//
	// For use with localStorage, sessionStorage, and #userData
	//
	// Since we want to use as little of the quota per item as
	// necessary, use a one char code when saving out data.
	//
	item: {
	
		// ** {{{ AC.Storage.item.roundDatesTo }}} **
		//
		// To save space in our quota, we can divide the timestamp of every item
		// when saving it out, then multply it back when we read the data.
		//
		// This means expiration can only be as precise as 1 day
		//
		roundDatesTo: 1000 * 60 * 60 *24, // days (1000ms * 60s * 60m * 24hr = 1 day)
	
		// ** {{{ AC.Storage.item.dateKey }}} **
		//
		// To save space in our quota, we can subtract this number from the timestamp of every item when
		// saving it out, before rounding to hours, then add it back when we read the data.
		//
		dateKey: 1293868800000, // new Date('Jan 01 2011').getTime()
	
		// ** {{{ AC.Storage.item.codes }}} **
		//
		// This object is a lookup table to parse the data back.
		//
		codes: {
			'v': 'value',
			'e': 'expires',
			't': 'type',
			'r': 'roundsDateTo'
		},
	
		// ** {{{ AC.Storage.item.types }}} **
		//
		// Since we want to use as little of the quota per item as
		// necessary, use a one char code when saving out data.
		//
		// This object is a lookup table to parse type of data that
		// we're saving out.
		//
		types: {
			'l': 'localStorage',
			's': 'sessionStorage',
			'u': '#userData',
			'c': 'cookies'
		},
	
		// ** {{{ AC.Storage.item.create(key, value, days) }}} **
		//
		// Creates a string that contains all the data for this item, to be
		// saved in storage.
		//
		create: function(value, metadata){
			if(!metadata) metadata = {};
			var obj = {},
				roundDate = this.roundDatesTo;
			
			obj.v = value;
			if('roundsDateTo' in metadata && !isNaN(metadata.roundsDateTo)){
				obj.r = metadata.roundsDateTo;
				roundDate = metadata.roundsDateTo;
			}
			if('days' in metadata && metadata.days !== 0) obj.e = Math.round(AC.Storage.createExpirationDate(metadata.days) / roundDate) - Math.round(this.dateKey / roundDate);
			if('type' in metadata && metadata.type in this.types) obj.t = metadata.type;
			for(md in metadata){
				if(
					md !== 'days' &&
					md !== 'value' &&
					md !== 'expires' &&
					md !== 'type' &&
					!(md in this.codes)
				){ obj[md] = metadata[md]; }
			}
			
			return JSON.stringify(obj);
		},
	
		// ** {{{ AC.Storage.item.read(objAsString) }}} **
		//
		// Takes in the raw string value from storage and converts
		// it to a data object.
		//
		read: function(objAsString){
			var objFromString = this.parse(objAsString);
			if(objFromString == null){ return null; }
			var obj = {};
			var roundDate = this.roundDatesTo;
			for(k in objFromString){
				if(k in this.codes){
					if(this.codes[k] == 'expires') {
						if('r' in objFromString){ roundDate = objFromString.r; }
						obj[this.codes[k]] = (objFromString[k] * roundDate) + Math.round(this.dateKey / roundDate) * roundDate;
					}
					else if(this.codes[k] == 'type') obj[this.codes[k]] = this.types[objFromString[k]];
					else obj[this.codes[k]] = objFromString[k];
				} else { obj[k] = objFromString[k]; }
			}
			return obj;
		},

		parse: function(string){
			try {
				return JSON.parse(string, function (key, value) {
					var d,a;
					if (typeof value === 'string') {
						// Parse ISO Date (with and without extra quotes)
						if(!d) d = /^\"*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z\"*$/.exec(value);
						if (d) { return new Date(Date.UTC(+d[1], +d[2] - 1, +d[3], +d[4], +d[5], +d[6])); }
	
						// Arrays 
						a = /^\[(.*)\]$/.exec(value);
						// Use this method instead of JSON.parse directly so
						// we can parse nested arrays and dates.
						if (a) { return this.parse(value); }
					}
					return value;
				}.bind(this));
			} catch(e){
					try{ console.warn(err); /* console.log(key); */ } catch(e){}
				return string;
			}
		}
	},

	// === IE-Specific Methods ===
	IE: {

		// ** {{{ AC.Storage.IE.setItem(key, value, days) }}} **
		//
		// This function will set a #userData attribute, a fallback for
		// HTML5 localStorage on IE6/7
		//
		setItem: function(key, value, days, metadata){
			// Make sure the #userData behavior has been added
			if(this.canAddBehavior()){
				var el = this.element();

				// Set the value
				if(typeof metadata !== 'object'){ metadata = {}; }
				var item = AC.Storage.item.create(value, metadata);
				el.setAttribute(this.attribute,item);

				// Figure out expiration date
				days = parseFloat(days);
				// If we wanted session storage, but it's not available, keep for 1 day
				if(days === 0){ days = 1; }
				else if(isNaN(days)){ days = AC.Storage.options.daysBeforeExpiring; }
				var date = new Date(AC.Storage.createExpirationDate(days));

				// Set expiration date
				if('toUTCString' in date){ el.expires = date.toUTCString(); }

				// Save the #userData attributes to the key
				el.save(key);

				return value;
			}
			return false;
		},
	
		// ** {{{ AC.Storage.IE.getItem(key) }}} **
		//
		// Returns the value of a #userData attribute, or null if there is no value.
		//
		getItem: function (key) {
			// Make sure the #userData behavior has been added
			if(this.canAddBehavior()){
				var el = this.element();
				el.load(key);
				var valRaw = el.getAttribute(this.attribute);
				var value = AC.Storage.item.read(valRaw);
				delete valRaw;
				if(value === null || value.toString() === "" || value.value === null || value.value.toString() === "" || typeof value === 'undefined' || typeof value.value === 'undefined'){ return null; }
				else if(typeof value === 'object' && 'value' in value){ return value.value; }
				else { return value; }
			}
			return null;
		},
	
		// ** {{{ AC.Storage.IE.removeItem(key) }}} **
		//
		// Removes an instance of #userData for the key provided, if one exists.
		//
		removeItem: function (key) {
			if(this.canAddBehavior()){
				var el = this.element();
				el.load(key);
				el.removeAttribute(this.attribute);
				el.save(key);

				return true;
			}
			return false;
		},

		// ** {{{ AC.Storage.IE.attribute }}} **
		//
		// A string used as the attribute that is added to the this.element() tag.
		// Used for storing the value as a #userData item.
		//
		attribute: 'content',

		// ** {{{ AC.Storage.IE.canAddBehavior }}} **
		//
		// Keep track of whether or not we've added the #userData behavior to the page.
		//
		canAddBehavior: function(){
			if('addBehavior' in document.body){
				var el = this.element();
				if('addBehavior' in el && typeof el !== 'undefined' && 'load' in el && 'save' in el){ return true; }
			}
			return false;
		},

		// ** {{{ AC.Storage.IE.element }}} **
		//
		// Keep track of whether or not we've added the #userData behavior to the page.
		//
		_element: null,
		element: function(){
			if(this._element === null){
				this._element = document.createElement('meta');
				this._element.setAttribute('name','ac-storage');
				this._element.style.behavior = "url('#default#userData')";
				document.head.appendChild(this._element);
			}
			return this._element;
		}
	},

	// === Cookie-Specific Methods ===
	cookie: {
		// ** {{{ AC.Storage.cookie.setItem(key, value, days) }}} **
		//
		// This function will create a cookie. For a session cookie, use 0 for the days
		//
		setItem: function (key, value, days) {
			if(AC.Detector.hasCookies()){
				if(typeof days == 'undefined' || days === null){ days = this.options.daysBeforeExpiring; }
				var expires = (days === 0) ? '' : '; expires=' + new Date(AC.Storage.createExpirationDate(days)).toUTCString();
				document.cookie = cookie = key + '=' + value + expires + '; path=/';
				return value;
			}
			return false;
		},
	
		// ** {{{ AC.Storage.cookie.getItem(key) }}} **
		//
		// This function will read a cookie.
		//
		getItem: function (key) {
			var keyEQ = key + '=';
			var ca = document.cookie.split(';');
			for (var i = 0; i < ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0) == ' '){ c = c.substring(1, c.length); }
				if (c.indexOf(keyEQ) == 0){ return c.substring(keyEQ.length, c.length); }
			}
			return null;
		},
	
		// ** {{{ AC.Storage.cookie.removeItem(key) }}} **
		//
		// This function will remove a cookie.
		//
		removeItem: function (key) {
			this.setItem(key, '', -1);
		}
	}
};



// = **AC.Synthesize** =
//
// //@ author:// Kyle Olson
//
// AC.Synthesize is an object with methods that automatically make getter and setter
// methods for you based on the existence of private variables.
//
// == Dependencies ==
//
// * Prototype
//

// == Why? ==
//
// Getter and Setter methods are used to control how external scripts can access your
// object's member data. There are any number of reasons why you might want to do this,
// but just a couple examples are:
//
// * To validate the value you're trying to set will work for the intended use of your
//	variable.
//
// * To create hooks any time a variable changes, in case you need to update something
//	else in your script at that time.
//
// * To calculate the value of the variable at the time of getting it.
//

// == Naming Convention ==
//
// We follow the convention from Objective-C for naming getter/setter methods. If your
// variable is called '_variable', then the getter method would be 'variable' (without
// the _) and the setter would be 'setVariable' (notice the camelCase).
//

// == Usage ==
//
// There are three ways to synthesize your objects:
//
// * Run {{{Object.synthesize}}} on your object.
//
// **Example:**
// {{{
// var myObj = Object.synthesize({
// 	...
// });
//
// }}}
//
// * Pass your object to {{{AC.Synthesize.synthesize}}} directly.
//
// **Example:**
// {{{
// var myObj = { ... };
// AC.Synthesize.synthesize(myObj);
// }}}
//
// * Extend your object with {{{AC.Synthesize}}} and call synthesize on itself
//	(at the end of initialize in a Prototype Class, for example).
//
// **Example:**
// {{{
// var myObj = function () {
// 	this.synthesize();
// };
// myObj.prototype = Object.extend(Object.clone(AC.Synthesize), {
// 	...
// });
//
// }}}
//
// **Example:**
// {{{
// var myObj = Object.extend(Object.clone(AC.Synthesize), {
// 	initialize: function () {
// 		this.synthesize();
// 	},
// 	...
// });
//
// }}}
//

// == Applicable Variables ==
//
// Variables that are applicable to receive setters/getters are determined
// by two conditions:
//
// * Its key is preceded by '_' (e.x. _key)
//
// * It is not of the type "function"
//
// A variable preceded by __ (two underscores) is ignored by AC.Synthesize. This is
// a convention you can use to make variables that are private, which is to say
// that they are not intended to be touched or used at all outside of the context
// of the object that holds it.
//
// **Note:** Variables preceded by a single _ are also considered private, which is
// why you're creatng getter/setter methods in the first place. External scripts are
// not intended to directly touch those variables. Instead they should access them
// through the getter/setter methods.
//

// == Custom Getters/Setters ==
//
// To have custom getter/setter methods for your variables, you simply define them
// in your object before synthesizing. Before setting either method, AC.Synthesize
// will check to see if there is already a value for the variable that follows the
// naming convention for getters/setters. If there already is something defined, it
// ignores it.
//
// **Note:** Custom getter methods are still expected to return the final value
// of the variable after it has been gotten.
//
// **Note:** If you want neither a getter nor a setter for your variable, consider
// using the __ syntax described above. Do not provide null/useless values for the
// getter/setter variable names following the naming convention for your variable.
//

// == Methods ==
//
AC.Synthesize = {
	// ** {{{ AC.Synthesize.synthesize(self) }}} **
	//
	// This is the method you call to synthesize your object. If you have extended
	// your object with AC.Synthesize, then you do not need to pass any arguments
	// to this method (i.e. if 'this' inside of your method would be the object
	// you're trying to synthesize).
	//
	// Otherwise you can provide an object to it directly.
	//
	synthesize: function (self) {
		if (typeof self !== 'object') {
			self = this;
		}

		var name, privateVariable;

		// Check all properties under self, ignore inherited properties
		for (privateVariable in self) {
			if (self.hasOwnProperty(privateVariable)) {
				// Check that first character is private variable indicator '_' and not '__'
				if (privateVariable.charAt(0) === '_' && !(privateVariable.charAt(1) === '_')) {
					// Don't create getter/setters for functions
					if (typeof self[privateVariable] !== 'function') {
						this.__synthesizeGetter(privateVariable, self);
						this.__synthesizeSetter(privateVariable, self);
					}
				}
			}
		}
	},

	// ** {{{ AC.Synthesize.__synthesizeGetter(privateVariable, self) }}} **
	//
	// Private method for creating a setter when synthesizing a private variable
	// if one doesn't already exist.
	//
	__synthesizeGetter: function (privateVariable, self) {
		// Get name of getter function
		var functionName = privateVariable.slice(1, privateVariable.length);

		// Define getter if not already defined
		if (typeof self[functionName] === 'undefined') {
			self[functionName] = function () {
				return self[privateVariable];
			}
		}
	},

	// ** {{{ AC.Synthesize.__synthesizeSetter(privateVariable, self) }}} **
	//
	// Private method for creating a setter when synthesizing a private variable
	// if one doesn't already exist.
	//
	__synthesizeSetter: function (privateVariable, self) {
		var functionName = privateVariable.slice(1, privateVariable.length);
		functionName = 'set' + functionName.slice(0, 1).toUpperCase() + functionName.slice(1, functionName.length);

		// Define setter if not already defined
		if (typeof self[functionName] === 'undefined') {
			self[functionName] = function (value) {
				self[privateVariable] = value;
			}
		}
	}
};

// ** {{{ Object.synthesize(obj) }}} **
//
// As a shortcut to extending your object with a clone of {{{AC.Synthesize}}}
// and running synthesize() on the object after the fact, you can pass your
// object to {{{Object.synthesize}}}.
//
Object.synthesize = function (obj) {
	if (typeof obj === 'object') {
		// Create new instance of AC.Synthesize and extend it with your object
		Object.extend(obj, Object.clone(AC.Synthesize));

		// Synthesize member data in extended object
		obj.synthesize();
		return obj;
	} else {
		try { console.warn('Argument supplied was not a valid object.'); } catch (e) {}
		return obj;
	}
};
_application/x-javascript‘:;<=_Ohttps://devimages.apple.com.edgekey.net/assets/core/scripts/search_decorator.jsO@bplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Ohttps://devimages.apple.com.edgekey.net/assets/core/scripts/search_decorator.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xê˙ »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"96fef33428c4600ac87433d2ae7a1b57:1365277162"_Sat, 06 Apr 2013 19:39:22 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesT1227Zkeep-alive“+,Z[\NSDictionary¢Z/À_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ16AJPS\egipxÉåéêíîñòöú•ß©´≠Ø±≥µ∑æÀ–ﬁ„Ò -]}ù£®≥∏≈»ÀÊÎˇ%7:P             g              ROÀEvent.onDOMReady(function() {
	
	var inputs = document.getElementsByTagName('input');
	
	for (var i = 0; i < inputs.length; i++) {
		var input = $(inputs[i])
		if(input.hasClassName('prettysearch')) {
			
			var options = {};
			
			//these are unique autosave names for globally used
			//autosave collections
			
			//after decoration you can simply:
			//	field.setAttribute('autosave', 'autosaveName');
			
			if(input.hasClassName('applesearch')) {
				options.autosave = 'Apple.com';
			} else if (input.hasClassName('reseller')) {
				options.autosave = 'Apple.com Reseller';
			}
			
			if(input.parentNode.tagName == 'LABEL') {
				
				var placeholderText = "";
				
				var labelElement = input.up().getElementsByClassName('prettyplaceholder')[0];
				
				//either grab text in a classed element
				if(labelElement) {
					placeholderText = labelElement.innerHTML;
				
				//or grab text from right inside the label
				} else {
					placeholderText = input.parentNode.firstChild.nodeValue;
					input.parentNode.firstChild.nodeValue = '';
				}
				
				placeholderText = placeholderText.split('\n')[0];
				options.placeholder = placeholderText;

			}
			
			AC.decorateSearchInput(input, options);
		}
	}	
});
_application/x-javascript‘?@AB_Ghttps://devimages.apple.com.edgekey.net/assets/core/scripts/adc_core.jsO8bplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Ghttps://devimages.apple.com.edgekey.net/assets/core/scripts/adc_core.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xê)M˘ »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"a1de1f428daf34ff146cac403868a299:1365277157"_Sat, 06 Apr 2013 19:39:17 GMT_Mon, 13 Apr 2015 01:53:34 GMTUbytesT2978Zkeep-alive“+,Z[\NSDictionary¢Z/¢_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ).9BHKT]_ahp{ÑÜàäåéêíîùü°£•ß©´≠Ø∂√»÷€È¯
%Uuïõ†´∞Ω¿√ﬁ„˜˚/2H             g              JO¢Event.onDOMReady(function() {
	var container = $(document.body);
	container.addClassName('hasjs');
});

Event.onDOMReady(function() {
	var tables = $$('table.stroke');
	tables.each(function(table) {
		var select = function(selector1, selector2) {
			var cells = table.select(selector1);
			cells = cells.concat(table.select(selector2));
			return cells;
		}.bind(table);

		var cells = select('tr:first-child th', 'tr:first-child td');
		cells.each(function(cell) { cell.style.borderTop = 'none' });

		var cells = select('tr:last-child th', 'tr:last-child td');
		cells.each(function(cell) { cell.style.borderBottom = 'none' });

		var cells = select('tr th:first-child', 'tr td:first-child');
		cells.each(function(cell) { cell.style.borderLeft = 'none' });

		var cells = select('tr th:last-child', 'tr td:last-child');
		cells.each(function(cell) { cell.style.borderRight = 'none' });
	});
});



// 
// ADC Core
// 

if (typeof(ADC) == "undefined") ADC = {};

ADC.cancelEvent = function(evt) {
	if (evt) {
		var link = evt.findElement('a');
		if (link) {
			if (!link.href.match('#')) {
				evt.stop();
			} else if (!AC.Detector.isWebKit() || (AC.Detector.isWebKit() && parseInt(AC.Detector.getAgent().match(/version\/(\d)/)[1])>2)) {
				evt.stop();
				document.location.hash = link.href.replace(/.*#/, '');
			}
		}
	}
}

ADC.Menus = Class.create({
	menus: [],

	initialize: function(menus, event) {
		this.setMenus(menus, event);
	},

	setMenus: function(menus, event) {
		if (!event) var event = 'click';

		menus.each(function(menu) {
			var menu = new ADC.Menu(menu, event);
			this.setEvent(menu, event);
			this.menus.push(menu);
		}.bind(this));
	},

	setEvent: function(menu, event) {
		Event.observe(menu.menu, event, function(evt) {
			ADC.cancelEvent(evt);
			var menus = this.menus.without(menu);
			menus.each(function(menu) {
				menu.close();
			});
		}.bind(this), false);
	}
});

ADC.Menu = Class.create({
	initialize: function(menu, event) {
		this.menu = menu;
		this.setEvents(event);
	},

	setEvents: function(event) {
		if (!event) var event = 'click';
		
		if (event == 'click') this.setHovers();

		Event.observe(this.menu, event, this.toggleMenu.bind(this), false);
	},

	setHovers: function(event) {
		Event.observe(this.menu, 'mouseover', function() {
			Element.addClassName(this.menu, 'hover');
		}.bind(this), false);

		Event.observe(this.menu, 'mouseout', function() {
			Element.removeClassName(this.menu, 'hover');
		}.bind(this), false);
	},
	
	linkWithin: function(evt) {
		var link = evt.findElement('a');
		if (link.up().up().up() == this.menu) {
			document.location = link.href;
			return true;
		}
		
		return false;
	},

	toggleMenu: function(evt) {
		if (!this.linkWithin(evt)) ADC.cancelEvent(evt);

		if (!this.menu.hasClassName('active')) {
			this.open();
		} else {
			this.close();
		}
	},

	open: function() {
		this.menu.addClassName('active');
	},

	close: function() {
		this.menu.removeClassName('active');
	}

});
_application/x-javascript‘DEFG_Chttps://devimages.apple.com.edgekey.net/assets/scripts/ac_retina.jsO5bplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Chttps://devimages.apple.com.edgekey.net/assets/scripts/ac_retina.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xê*r… »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"c68e93ccd73db42af986cb44aaf1e07c:1401822705"_Tue, 03 Jun 2014 19:11:45 GMT_Mon, 13 Apr 2015 01:53:34 GMTUbytesU36926Zkeep-alive“+,Z[\NSDictionary¢Z/ê>_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ%*5>DGPY[]dlwÄÇÑÜàäåéêôõùü°£•ß©´≤øƒ“◊ÂÙˇ!Qqëóù®≠∫Ω¿€‡Ù¯,/E             g              GOê>/* ---- BUILT FILE. DO NOT MODIFY THIS DIRECTLY. ---- */

if (!Function.prototype.bind) {
	Function.prototype.bind = function bind() {
		if (arguments.length < 2 && typeof(arguments[0]) == undefined) {
			return this;
		}
		var __method = this,
			args = AC.Array.toArray(arguments),
			object = args.shift();
		return function () {
			return __method.apply(object, args.concat(AC.Array.toArray(arguments)));
		}
	};
}
if (!Array.isArray) {
	Array.isArray = function isArray(object) {
		return (object && typeof object === 'object' && 'splice' in object && 'join' in object);
	};
}
if (!Array.prototype.forEach) {
	Array.prototype.forEach = function forEach(callback, thisObj) {
		var arrayObject = Object(this),
			len = this.length,
			i = 0,
			currentValue;
		if (typeof callback !== 'function') {
			throw 'No function object passed to forEach.';
		}
		for (i = 0; i < len; i++) {
			currentValue = arrayObject[i];
			callback.call(thisObj, currentValue, i, arrayObject);
		}
	};
}
if (!String.prototype.trim) {
	String.prototype.trim = function trim() {
		return this.replace(/^\s+|\s+$/g, '');
	};
}
if (!Object.keys) {
	Object.keys = function keys(obj) {
		var keys = [],
			currentKey;
		if ((!obj) || (typeof obj.hasOwnProperty !== 'function')) {
			throw 'Object.keys called on non-object.';
		}
		for (currentKey in obj) {
			if (obj.hasOwnProperty(currentKey)) {
				keys.push(currentKey);
			}
		}
		return keys;
	};
}
if (!Object.create) {
	Object.create = function (o) {
		if (arguments.length > 1) {
			throw new Error('Object.create implementation only accepts the first parameter.');
		}
		function F() {}
		F.prototype = o;
		return new F();
	};
}
;
var AC = window.AC || {};
AC.Array = AC.Array || {};
AC.Array.toArray = function (arrayLike) {
	return Array.prototype.slice.call(arrayLike);
};
AC.Array.flatten = function (array) {
	var flattenedArray = [];
	var callback = function(item) {
		if (Array.isArray(item)) {
			item.forEach(callback);
		} else {
			flattenedArray.push(item);
		}		
	}
	array.forEach(callback);
	return flattenedArray;
};
var AC = window.AC || {};
AC.Element = AC.Element || {};
AC.Element.addEventListener = function(target, type, listener) {
	if (target.addEventListener) {
		target.addEventListener(type, listener, false);
	}
	else if (target.attachEvent) {
		var r =target.attachEvent("on" + type, listener);
	}
	else {
		target["on" + type] = listener;
	}
	return target;
};
AC.Element.removeEventListener = function(target, type, listener) {
	if (target.removeEventListener) {
		target.removeEventListener(type, listener, false);
	}
	else {
		target.detachEvent("on" + type, listener);
	}
	return target;
};
AC.Element.getElementById = function (elem) {
	if (AC.String.isString(elem)) {
		return document.getElementById(elem);
	} else {
		return elem;
	}
};
AC.Element.getStyle = function (element, style) {
	element = AC.Element.getElementById(element);
	style = style == 'float' ? 'cssFloat' : style;
	var value = element.style[style];
	if (!value || value == 'auto') {
		var css = document.defaultView.getComputedStyle(element, null);
		//Keys in computed style hash are expected to be camel-case in Firefox
		//(Chrome and Safari seem to support both camel-case and hyphenated property names)
		//value = css ? css[style] : null;
		if(css) {
			if(typeof(css[style]) != 'undefined') {
				value = css[style]
			} else if(style.indexOf('-') > -1) {
				var camelCaseStyle = style.replace(/-(\w)/g, function(all, letter) {
					return letter.toUpperCase();
				});
				if(typeof(css[camelCaseStyle]) != 'undefined') {
					value = css[camelCaseStyle]
				}
			} else {
				value = null;
			}
		}
	}
	if (style == 'opacity') return value ? parseFloat(value) : 1.0;
	return value == 'auto' ? null : value;
};
AC.Element.hasClassName = function (element, cls) {
	var matchedElement = AC.Element.getElementById(element);
	if (matchedElement && matchedElement.className) {
		return matchedElement && matchedElement.className && matchedElement.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)')) || false;
	}
};
AC.Element.addClassName = function (element, cls) {
	var matchedElement = AC.Element.getElementById(element);
	if (!AC.Element.hasClassName(matchedElement, cls)) {
		matchedElement.className += " " + cls;
	}
};
AC.Element.removeClassName = function (element, cls) {
	var matchedElement = AC.Element.getElementById(element);
	if (AC.Element.hasClassName(matchedElement,cls)) {
		var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
		matchedElement.className = matchedElement.className.replace(reg, '');
	}
};
var AC = window.AC || {};
AC.Event = AC.Event || {};
AC.Event.stop = function (evt) {
	if (!evt) {
		evt = window.event;
	}
	if (evt.stopPropagation) {
		evt.stopPropagation();
	} else { 
		evt.cancelBubble = true;
	}
	if (evt.preventDefault) {
		evt.preventDefault();
	}
	evt.stopped = true;
};
AC.Event.target = function(evt) {
	return (typeof evt.target != 'undefined') ? evt.target : evt.srcElement;	
};
var AC = window.AC || {};
AC.Function = AC.Function || {};
AC.Function.emptyFunction = function () {};
AC.Function.bindAsEventListener = function (__method) {
	var args = AC.Array.toArray(arguments), object = args.shift();
	return function(event) {
		return __method.apply(object, [event || window.event].concat(args));
	};
}
;
var AC = window.AC || {};
AC.Object = AC.Object || {};
if (Object.extend) {
	AC.Object.extend = Object.extend;
} else {
	AC.Object.extend = function extend(destination, source) {
		for (var property in source) {
			destination[property] = source[property];
		}
		return destination;
	};
}
if (Object.clone) {
	AC.Object.clone = Object.clone;
} else {
	AC.Object.clone = function clone(object) {
		return AC.Object.extend({}, object);
	};
}
;
var AC = window.AC || {};
AC.String = AC.String || {};
AC.String.isString = function (object) {
	return typeof object == "string";
}
;
var AC = window.AC || {};
AC.Object.extend(AC, {
	uid: function ac_uid() {
		if (!AC._uid) {
			AC._uid = 0;
		}
		return AC._uid++;
	},
	log: function ac_log(message) {
		if (window.console && console.log) {
			console.log(message);
		}
	},
	namespace: function ac_namespace(innamespacePath) {
		if (!(innamespacePath && innamespacePath.match && innamespacePath.match(/\S/))) {
			throw 'Attempt to create AC.namespace with no name.';
		}
		var splitnamespaceArr = innamespacePath.split(/\./),
			cursor = window;
		for (i = 0; i < splitnamespaceArr.length; i++) {
			cursor[splitnamespaceArr[i]] = cursor[splitnamespaceArr[i]] || {};
			cursor = cursor[splitnamespaceArr[i]];
		}
	},
	bindEventListeners: function ac_bindEventListeners(inObject, inElement, inHandlerDictionary) {
		var elm = AC.Element.getElementById(inElement);
		if (!(elm && elm.nodeType)) {
			throw 'Invalid or non-existent element passed to bindEventListeners.';
		}
		for (aKey in inHandlerDictionary) {
			var aVal = inHandlerDictionary[aKey];
			if (typeof aVal == 'function') {
				AC.Element.addEventListener(elm, aKey, AC.Function.bindAsEventListener(aVal, inObject));
			}
			else if (typeof aVal == 'string') {
				AC.Element.addEventListener(elm, aKey, AC.Function.bindAsEventListener(inObject[aVal], inObject));
			}
		}
	}
});
AC.Object.extend(AC, {
	__domReady: function ac___domReady() {
		if (arguments.callee.done) return;
		arguments.callee.done = true;
		if (this._timer) clearInterval(this._timer);
		AC.isDomReady = true;
		if (AC.__domReadyCallbacks) AC.__domReadyCallbacks.forEach(function (f) {
			f()
		});
		AC.__domReadyCallbacks = null;
	},
	onDOMReady: function ac_onDOMReady(f) {
		if (AC.isDomReady) {
			f();
		} else {
			if (!AC.__domReadyCallbacks) {
				var domReady = this.__domReady.bind(this);
				if (document.addEventListener) document.addEventListener("DOMContentLoaded", domReady, false);
				if (document.all) {
					document.onreadystatechange = function () {
						if (this.readyState == "complete") domReady();
					};
				}
				if (/WebKit/i.test(navigator.userAgent)) {
					this._timer = setInterval(function () {
						if (/loaded|complete/.test(document.readyState)) domReady();
					}, 10);
				}
				AC.Element.addEventListener(window, 'load', domReady);
				AC.__domReadyCallbacks = [];
			}
			AC.__domReadyCallbacks.push(f);
		}
	}
});
AC.windowHasLoaded = false;
AC.Element.addEventListener(window, 'load', function () {
	AC.windowHasLoaded = true;
});
AC.namespace('AC.Synthesize');
AC.Synthesize.synthesize = function (object) {
	if (typeof object !== 'object') {
		object = this;
	}
	var name, privateVariable;
	// Check all properties under object, ignore inherited properties
	for (privateVariable in object) {
		if (object.hasOwnProperty(privateVariable)) {
			// Check that first character is private variable indicator '_' and not '__'
			if (privateVariable.charAt(0) === '_' && !(privateVariable.charAt(1) === '_')) {
				// Don't create getter/setters for functions
				if (typeof object[privateVariable] !== 'function') {
					this.__synthesizeGetter(privateVariable, object);
					this.__synthesizeSetter(privateVariable, object);
				}
			}
		}
	}
};
AC.Synthesize.__synthesizeGetter = function (privateVariable, object) {
	// Get name of getter function
	var functionName = privateVariable.slice(1, privateVariable.length);
	// Define getter if not already defined
	if (typeof object[functionName] === 'undefined') {
		object[functionName] = function () {
			return object[privateVariable];
		}
	}
};
AC.Synthesize.__synthesizeSetter = function (privateVariable, object) {
	var functionName = privateVariable.slice(1, privateVariable.length);
	functionName = 'set' + functionName.slice(0, 1).toUpperCase() + functionName.slice(1, functionName.length);
	// Define setter if not already defined
	if (typeof object[functionName] === 'undefined') {
		object[functionName] = function (value) {
			object[privateVariable] = value;
		}
	}
};
AC.namespace('AC.Object');
AC.Object.synthesize = function (object) {
	if (typeof object === 'object') {
		// Create new instance of AC.Synthesize and extend it with your object
		AC.Object.extend(object, AC.Object.clone(AC.Synthesize));
		// Synthesize member data in extended object
		object.synthesize();
		return object;
	} else {
		throw 'Argument supplied was not a valid object.';
		return object;
	}
};
AC.Class = function (inOptInstantiateOnAwakeFromPage) {
	var ACGeneratedClass = function () {
		// Create placeholder methods for methods which need to be implemented in subclasses.
		// These placeholders throw descriptive exceptions.
		if (Array.isArray(this._subclassPlaceholders)) {
			for (var i = 0; i < this._subclassPlaceholders.length; i++) {
				var placeholder = this._subclassPlaceholders[i];
				if (!this[placeholder]) {
					this[placeholder] = function () {
						throw 'Subclasses must implement ' + placeholder + '.';
					}
				}
			}
		}
		// fill in missing accessors
		AC.Object.synthesize(this);
		this.superclass = function () {
			if (!this.__superclass) {
				throw 'Attempted to call superclass() within an instance whose class was not built using AC.Subclass.';
			}
			// auto-create closure depth keys
			if (!this.__closureDepths) {
				this.__closureDepths = {};
			}
			var superclassObj = {};
			var thisAsPlainObj = this;
			for (var aKey in thisAsPlainObj) {
				if (aKey != 'superclass' && aKey != '__superclass' && typeof this[aKey] == 'function') {
					var currentClosureDepth = this.__closureDepths[aKey] || 0;
					var cursor = this;
					var depth = 0;
					while (cursor && (depth <= currentClosureDepth)) {
						cursor = cursor.__superclass;
						if (cursor && cursor.prototype && typeof cursor.prototype[aKey] == 'function') {
							depth++;
						}
					}
					// if we still have a cursor, we found a function
					if (cursor) {
						// create a wrapper that temporarily increments the closure depth and binds to this
						var keyForClosure = '' + aKey;
						var depthForClosure = depth - 1;
						var cursorProtoForClosure = cursor.prototype;
						superclassObj[keyForClosure] = function superclass_function_wrapper(keyForClosure, depthForClosure, cursorProtoForClosure) {
							return function superclass_function() {
								// increment the depth count on the function
								this.__closureDepths[keyForClosure] = depthForClosure + 1;
								// run the superclass function
								cursorProtoForClosure[keyForClosure].apply(this, arguments);
								// decrement the depth count
								this.__closureDepths[keyForClosure] = depthForClosure;
							}.bind(this);
						}.bind(this)(aKey, depth - 1, cursor.prototype);
					}
				}
			}
			return superclassObj;
		}
		var result = (this.initialize ? this.initialize.apply(this, arguments) : false);
		if (result == AC.Class.Invalidate) {
			var timeoutCallback = function () {
				try {
					if (this && this['_parentClass'] && this['_parentClass']['_sharedInstance'] == this) {
						this['_parentClass']['_sharedInstance'] = null;
					}
				}
				catch (e) {
					throw e;
				}
			}
			setTimeout(timeoutCallback.bind(this), 200);
		}
	}
	ACGeneratedClass.autocreate = inOptInstantiateOnAwakeFromPage;
	ACGeneratedClass.sharedInstance = function () {
		if (!ACGeneratedClass['_sharedInstance']) {
			ACGeneratedClass['_sharedInstance'] = new ACGeneratedClass();
			ACGeneratedClass['_sharedInstance']['_parentClass'] = ACGeneratedClass;
		}
		return ACGeneratedClass['_sharedInstance'];
	}
	ACGeneratedClass.sharedInstanceShortcut = function (inShortcutName) {
		if (!(inShortcutName && inShortcutName.match && inShortcutName.match(/\S/))) {
			throw 'No shortcut name provided.';
		}
		if (AC[inShortcutName]) {
			throw 'Cannot use shortcuts to override existing objects in the AC namespace.';
		}
		AC[inShortcutName] = ACGeneratedClass.sharedInstance;
		return ACGeneratedClass;
	}
	// Create a shared instance of this class on DOM ready.
	if (inOptInstantiateOnAwakeFromPage) {
		AC.onDOMReady(function () {
			if (ACGeneratedClass.autocreate) ACGeneratedClass.sharedInstance();
		});
	}
	return ACGeneratedClass;
};
AC.Class.Subclass = function (superclass, prototypeObjects, inOptInstantiateOnAwakeFromPage) {
	var subclass = this.Class(inOptInstantiateOnAwakeFromPage);
	AC.Object.extend(AC.Object.extend(subclass.prototype, AC.Object.extend(superclass.prototype)), prototypeObjects || {});
	subclass.__superclass = superclass;
	subclass.prototype.__superclass = superclass;
	return subclass;
};
AC.Class.Invalidate = function() {
	return false;
};
AC.namespace('AC.Ajax');
AC.Ajax.getTransport = function() {
	var request = false;
	try {
		request = new XMLHttpRequest();
	}
	catch (e) { // Couln't get standards-based object
		try {
			request = new ActiveXObject("Msxml2.XMLHTTP");
		}
		catch (e) { // Couldn't get newer MS-proprietary ActiveX object
			try {
				request = new ActiveXObject("Microsoft.XMLHTTP");
			}
			catch (e) { // Total XMLHTTP fail
				request = false;
			}
		}
	}
	return request;
};
AC.Ajax.AjaxTracker = AC.Class();
AC.Ajax.AjaxTracker.prototype = {
	_responders: [],
	initialize: function ac_initialize() {
	},
	addResponder: function ac_addResponder(responder) {
		this._responders.push(responder);
	},
	removeResponder: function ac_removeResponder(responder) {
		var n = 0, length = this._responders.length;
		for (n = 0; n < length; n++) {
			if (this._responders[n] == responder) {
				responder = null;
				this._responders.splice(n,1);
				return true;
			}
		}
		return false;
	}
};
AC.Ajax.AjaxRequest = AC.Class();
AC.Ajax.AjaxRequest.prototype = {
	_transport: null,
	_defaultOptions: {method: 'get'},
	_options: null,
	_mimeTypeOverride: null,
	initialize: function ac_initialize(url, options) {
		this._transport = AC.Ajax.getTransport();
		this.setOptions(AC.Object.extend(this.defaultOptions(), options));
		AC.Ajax.AjaxTracker.sharedInstance().addResponder(this);
		this.transport().onreadystatechange = this._handleTransportStateChange.bind(this);
		this.transport().open(this.options().method, url, true);
		this.transport().setRequestHeader('Content-Type', this.options().contentType);
		this.transport().send(null);
	},
	_handleTransportStateChange: function ac__handleTransportStateChange() {
		if (this.transport().readyState == 4) {
			new AC.Ajax.AjaxResponse(this);
		}
	},
	overrideMimeType: function ac_overrideMimeType(overrideMimeTypeValue) {
		this._mimeTypeOverride = overrideMimeTypeValue; 
		if (this.transport().overrideMimeType) { 
			this.transport().overrideMimeType(overrideMimeTypeValue); 
		} 
	}
};
AC.Ajax.AjaxResponse = AC.Class();
AC.Ajax.AjaxResponse.prototype = {
	_request: null,
	_transport: null,
	initialize: function ac_initialize(request) {
		var complete = false,
			transport = request.transport();
		this._transport = transport;
		this._request = request;
		if (transport.readyState == 4) {
			if (transport.status >= 200 && transport.status < 300) {
				request.options().onSuccess ? request.options().onSuccess(this) : AC.Function.emptyFunction();
				complete = true;
			}
		}
		else if (transport.status >= 400 && transport.status < 500) {
			request.options().onFailure ? request.options().onFailure(this) : AC.Function.emptyFunction();
			complete= true;
		}
		else if (transport.status >= 300 && transport.status < 400) {
			//redirect
			complete = true;
		}
		else if (transport.status >= 500 && transport.status < 600) {
			request.options().onError ? request.options().onError(this) : AC.Function.emptyFunction();
			complete= true;
		}
		if (complete === true) {
			request.options().onComplete ? request.options().onComplete(this) : AC.Function.emptyFunction();
			AC.Ajax.AjaxTracker.sharedInstance().removeResponder(request);
		}
	},
	responseText: function ac_responseText() {
		return this._transport.responseText;
	},
	responseXML: function ac_responseXML() {
		return this._transport.responseXML;
	},
	responseJSON: function ac_responseJSON() {
		return JSON.parse ? JSON.parse(this._transport.responseText) : (new Function('return ' + this._transport.responseText)());
	}
};
AC.Ajax.checkURL = function(url, callback) {
	var transport = AC.Ajax.getTransport();
	transport.onreadystatechange = function() {
		if (this.readyState === 4 && this.status === 200) {
			callback();
		}
	};
	transport.open('HEAD', url, true);
	transport.send(null);
};
AC.Ajax.AjaxRequest.prototype._overrideMimeType = null; 
AC.Ajax.AjaxRequest.prototype.overrideMimeType = function(overrideMimeTypeValue) { 
	this._overrideMimeType = overrideMimeTypeValue; 
	if (this.transport.overrideMimeType) { 
		this.transport.overrideMimeType(overrideMimeTypeValue); 
	} 
};
AC.Retina = AC.Class();
AC.Retina.prototype = {
	__defaultOptions: {
		filenameRegex: /(.*)(\.[a-z]{3}($|#.*|\?.*))/i,
		filenameInsert: '_‚òÉx',
		ignoreCheck: /(^http:\/\/movies\.apple\.com\/|\/105\/|\/global(\/ac_media_player)?\/elements\/quicktime\/|_(([2-9]|[1-9][0-9]+)x|nohires)(\.[a-z]{3})($|#.*|\?.*))/i,
		attribute: 'data-hires',
		recursive: true,
		preload: false,
		checkExists: true,
		checkAsRootRelative: true,
		queueSize: 8,
		disableOniOSHandheld: true,
		debug: location.search.indexOf('debugRetina=true') > -1, /// allows setting a URL parameter to enable debug mode
		lowestPriority: 2,
		replacedAttribute: 'data-hires-status'
	},
	initialize: function ac_initialize(options) {
		
		// Setup options
		if (typeof options !== 'object') {
			options = {};
		}
		this.options = AC.Object.extend(AC.Object.clone(this.__defaultOptions), options);
		// Figure out device pixel ratio
		// If the device pixel ratio is !> 1, then there is no point in continuing
		if ((this.options.debug !== true) && ((AC.Retina.iOSHandheld() && this.options.disableOniOSHandheld === true) || (AC.Retina.devicePixelRatio() <= 1))) {
			this.replace = AC.Function.emptyFunction;
			return false;
		}
		// Force run for debug mode.
		if (this.options.debug === true) {
			AC.Retina._devicePixelRatio = 2;
		}
		this._replacedElements = [];
		// Synthesize Member Data
		AC.Object.synthesize(this);
		// Prioritize images on window load
		// (not on DOM ready because we don't want this to affect perceived page load time in the progress bar)
		if (AC.windowHasLoaded) {
			this.__setup();
		} else {
			var setup = this.__setup.bind(this);
			AC.Element.addEventListener(window, 'load', setup);
		}
	},
	__setup: function ac___setup() {
		// Get all relevant elements and prioritize, then queue
		// Replace images with their higher-res counterparts.
		this.replace(document.body);
	},
	__addToQueue: function ac___addToQueue(image) {
		// Lazily create a queue array
		if (typeof this.__queues === 'undefined') {
			this.__queues = [];
		}
		// Can't add to a queue that doesn't exist
		if (this.__queues.length === 0) {
			this.__queues.push([]);
		}
		// Add this image to the last queue.
		this.__queues[this.__queues.length - 1].push(image);
	},
	__potentialElements: function ac___potentialElements(scopeElement, parent) {
		if (typeof scopeElement === 'undefined') {
			scopeElement = document.body;
		} else {
			scopeElement = AC.Element.getElementById(scopeElement);
		}
		// Get elements that we're told should be considered.
		var denotedElements = AC.Array.toArray(scopeElement.querySelectorAll('[' + this.options.attribute + ']'));
		var potentialElements;
		// If the element should be replaced because one of it's parents has the attribute
		var validRecursiveReplace = function (attr) {
			if (typeof parent === 'undefined') {
				return !!AC.Retina.__ancestorHasAttribute(parent, attr);
			} else {
				return parent.getAttribute(attr) !== null || typeof parent.up('[' + attr + ']') !== 'undefined';
			}
		};
		// Search recursively through the denoted elements for children that need
		// to be replaced
		if (this.options.recursive === true) {
			if (scopeElement !== document.body && validRecursiveReplace(this.options.attribute)) {
				denotedElements = denotedElements.concat(scopeElement);
			}
			potentialElements = [];
			var isReplaceable = this.__isReplaceable.bind(this);
			var searchRecursively = function (el) {
				if (isReplaceable(el)) {
					potentialElements.push(el);
				}
				potentialElements = potentialElements.concat(this.__replaceableElementsWithinElement(el));
			}.bind(this);
			denotedElements.forEach(searchRecursively);
		} else {
			potentialElements = denotedElements;
		}
		return potentialElements;
	},
	__isReplaceable: function ac___isReplaceable(el) {
		// Ignored if has attr set to false or one of its parents does.
		if (
			(el.getAttribute(this.options.attribute) === 'false') ||
			(!!AC.Retina.__ancestorHasAttribute(el, this.options.attribute, 'false') && this.options.recursive === true)
		) {
			return false;
		}
		var notAlreadyReplaced = (typeof el.responsiveImageObject === 'undefined');
		// <img> tags
		if (el.tagName.toLowerCase() === 'img') {
			return notAlreadyReplaced;
		// Whitelist imageLink shortcuts, which are dealt with differently
		} else if (AC.Element.hasClassName(el, 'imageLink') && el.tagName.toLowerCase() === 'a') {
			return true;
		// Background images
		} else {
			var bg = AC.Retina.Image.removeCSSURLSyntax(AC.Element.getStyle(el, 'background-image'));
			// Whitelist srcs ending in proper image format
			return (((bg.match(AC.Retina.rasterImageFormatRegex()) !== null) && notAlreadyReplaced));
		}
	},
	__replaceableElementsWithinElement: function ac___replaceableElementsWithinElement(scopeElement) {
		scopeElement = AC.Element.getElementById(scopeElement);
		var self = this;
		var tags = scopeElement.getElementsByTagName('*');
		var replaceableElements = [];
		var i;
		for (i = 0; i< tags.length; i++) {
			if (this.__isReplaceable(tags[i])) {
				replaceableElements.push(tags[i]);
			}
		}
		return replaceableElements;
	},
	__prioritize: function ac___prioritize(potentialElements) {
		var elements = [];
		var forEach = function (el) {
			if (typeof el.responsiveImageObject !== 'undefined') {
				return;
			}
			var img = new AC.Retina.Image(el, this.options);
			// if there is a URL we can change to
			// and it‚Äôs not already hi-res
			if (img.hiResSrc() !== null && !img.isHiRes()) {
				// Create the priority array if one doesn‚Äôt already exist for this
				// priority level
				if (typeof elements[img.priority()] === 'undefined') {
					elements[img.priority()] = [];
				}
				// Add this img to its priority level
				elements[img.priority()].push(img);
				// Save reference to object on element
				el.responsiveImageObject = img;
			} else {
				if (img.hiResSrc() && img.isHiRes()) {
					img.setStatus('already-hires');
				} else {
					img.setStatus('not-replaceable');
				}
			}
		}.bind(this);
		// Go through the raw images and filter/prioritize them
		potentialElements.forEach(forEach);
		// Fill empty priority levels with empty array
		var i;
		for (i = this.options.lowestPriority; i >= 0; i--) {
			if (typeof elements[i] === 'undefined') {
				elements[i] = [];
			}
		}
		return AC.Array.flatten(elements);
	},
	__replaceQueues: function ac___replaceQueues() {
		// Lazily create a queue array
		if (typeof this.__queues === 'undefined') {
			this.__queues = [];
		}
		if (this.__queues.length > 0 && this.__queues[0].length > 0) {
			// Create a new queue so elements added after this point don't get added
			// to the queue we're replacing. Can't add to the queue we're replacing
			// after we start because it gets inverted.
			this.__queues.push([]);
			// Replace the next queue, then run replace again until there are no more queues
			var callback = this.__replaceQueues.bind(this);
			this.__replaceNextQueue(callback);
		}
	},
	__replaceNextQueue: function ac___replaceNextQueue(callback) {
		var self = this;
		// Reverse our queue so we can pop items off the end
		var queue = self.__queues[0].reverse();
		var log = function () {
			if (self.options.debug === true) {
				AC.log(arguments);
			}
		};
		// Remove the queue that we are replacing from the list of active queues
		self.__queues.splice(0, 1);
		var replaceQueue = function () {
			log('Found ' + queue.length + ' elements to replace.');
			var replaceNextImage = function() {
				//log('Images left to replace: ' + elementStack.length);
				//log('Replacing next image.');
				var image = queue.pop();
				self._replacedElements.push(image);
				// bail if there are no more images to replace
				if (!image) {
					log('No more images to start replacing.');
					// Run the callback only the first time we
					// run out of images to replace
					if (typeof callback === 'function') {
						callback();
					}
					callback = AC.Function.emptyFunction;
					return;
				}
				// Replace the image, then track it as replaced and replace the next
				image.replace(function(lastImageLoaded) {
					log('Replaced image.', image.hiResSrc(), 'status: ' + image.status());
					replaceNextImage();
				});
			}
			// Fire off a queue of replaceNextImage() calls, based on this.options.queueSize.
			for (var i = 0; i < self.options.queueSize; i ++) {
				replaceNextImage();
			}
		};
		// Use a timer to empty the queue after JS goes idle
		window.setTimeout(replaceQueue, 10);
	},
	replace: function ac_replace(scopeElement, parent) {
		var addToQueue = this.__addToQueue.bind(this);
		this.__prioritize(this.__potentialElements(scopeElement, parent)).forEach(addToQueue);
		// Replace images with their higher-res counterparts.
		this.__replaceQueues();
	}
};
AC.Retina.iOSHandheld = function () {
	return (!!navigator.userAgent.match(/AppleWebKit/i) && (!!navigator.userAgent.match(/Mobile/i) && !navigator.userAgent.match(/ipad/i)));
};
//AC.Retina._rasterImageFormatRegex = /(\.jpg($|#.*|\?.*)|\.png($|#.*|\?.*)|\.gif($|#.*|\?.*)|\.svg($|#.*|\?.*))/;
AC.Retina._rasterImageFormatRegex = /(\.jpg($|#.*|\?.*)|\.png($|#.*|\?.*)|\.gif($|#.*|\?.*))/;
AC.Retina.rasterImageFormatRegex = function () {
	return AC.Retina._rasterImageFormatRegex;
};
AC.Retina.devicePixelRatio = function () {
	if (typeof AC.Retina._devicePixelRatio !== 'undefined') {
		return AC.Retina._devicePixelRatio;
	}
	if ('devicePixelRatio' in window && window.devicePixelRatio > 1) {
		return AC.Retina._devicePixelRatio = 2;
	} else {
		return AC.Retina._devicePixelRatio = 1;
	}
};
AC.Retina.__ancestorHasAttribute = function (el, attr, value) {
	var ancestors = AC.Retina.__ancestors(el);
	var i;
	for (i = 0; i < ancestors.length; i++) {
		if (
			(ancestors[i].getAttribute(attr) === value) ||
			(!value && ancestors[i].hasAttribute(attr))
		) {
			return ancestors[i];
		}
	}
	return null;
};
AC.Retina.__ancestors = function (element, property) {
	element = AC.Element.getElementById(element);
	var elements = [];
	while (element = element.parentNode) {
		if (element.nodeType == 1) elements.push(element);
	}
	return elements;
};
AC.Retina.sharedInstance();
AC.Retina.Image = AC.Class();
AC.Retina.Image.prototype = {
	initialize: function ac_initialize(el, options) {
		this._el = el;
		this._tagName = this._el.tagName.toLowerCase();
		this.options = AC.Object.extend(AC.Object.clone(options), AC.Retina.Image.convertParametersToOptions(this.src()));
		this.setStatus('considered');
		AC.Object.synthesize(this);
	},
	setStatus: function ac_setStatus(status) {
		if (typeof status === 'string') {
			this._status = status;
			this._el.setAttribute(this.options.replacedAttribute, status);
		}
	},
	status: function ac_status() {
		return this._el.getAttribute(this.options.replacedAttribute);
	},
	src: function ac_src() {
		if (typeof this._src !== 'undefined') {
			return this._src;
		}
		if (this.isImageLink()) {
			this._src = this._el.getAttribute('href');
		} else if (this._tagName === 'img') {
			this._src = this._el.getAttribute('src');
		} else {
			this._src = AC.Retina.Image.removeCSSURLSyntax(AC.Element.getStyle(this._el, 'background-image'));
			if (this._src === 'none') {
				return this._src = '';
			}
		}
		return this._src;
	},
	isImageLink: function ac_isImageLink() {
		if (typeof this._isImageLink !== 'undefined') {
			return this._isImageLink;
		}
		return this._isImageLink = (AC.Element.hasClassName(this._el, 'imageLink') && this._tagName === 'a');
	},
	hiResSrc: function ac_hiResSrc() {
		if (typeof this._hiResSrc !== 'undefined') {
			return this._hiResSrc;
		}
		var split;
		// If the format for the hires version of this asset is not the same
		// as the lowres, for instance a png getting replaced by an svg, then
		// let's do that replacement now!
		if (typeof this.options.hiresFormat === 'string') {
			split = this.src().match(/^(.*)((\.[a-z]{3})($|#.*|\?.*))/i);
			if (split !== null && split.length > 1) {
				return this._hiResSrc = split[1] + '.' + this.options.hiresFormat + (split[4] || '');
			}
		}
		split = this.src().match(this.options.filenameRegex);
		if (split === null) {
			return this._hiResSrc = null;
		} else {
			return this._hiResSrc = split[1] + this.options.filenameInsert.replace('‚òÉ',AC.Retina.devicePixelRatio()) + split[2];
		}
	},
	isHiRes: function ac_isHiRes() {
		if (this._isHiRes === true) {
			return this._isHiRes;
		}
		// If the attribute is on it, it has already been replaced.
		if (this.status() === 'replaced') {
			return this._isHiRes = true;
		}
		var src = this.src();
		// Assume that if the source not one of these formats,
		// then it is already hires
		if (src.match(AC.Retina.rasterImageFormatRegex()) === null) {
			return this._isHiRes = true;
		}
		// If it's passes our custom check option
		if (src.match(this.options.ignoreCheck) !== null) {
			return this._isHiRes = true;
		}
		return this._isHiRes = false;
	},
	priority: function ac_priority() {
		if (typeof this._priority !== 'undefined') {
			return this._priority;
		}
		// Use parent‚Äôs priority if this is a recursive element
		if (this.options.recursive && this._el.hasAttribute(this.options.attribute) === false) {
			var parent = AC.Retina.__ancestorHasAttribute(this._el, this.options.attribute);
			if (!!parent) {
				this._priority = parseInt(parent.getAttribute(this.options.attribute));
			} else {
				this._priority = this.options.lowestPriority;
			}
		} else {
			this._priority = parseInt(this._el.getAttribute(this.options.attribute));
		}
		if (isNaN(this._priority) || this._priority > this.options.lowestPriority) {
			this._priority = this.options.lowestPriority;
		} else if (this._priority < 0) {
			this._priority = 0;
		}
		return this._priority;
	},
	replace: function ac_replace(callback) {
		var self = this;
		var recursiveCallback = self.replace.bind(self, callback);
		var hiResSrc = self.hiResSrc();
		var testSrc;
		// Check to make sure the image exists before we use it.
		if (self._exists === false) {
			self.setStatus('404');
			if (typeof callback === 'function') {
				callback(false);
			}
			return;
		}
		
		// Commented out this check since it doesn't work with Developer akamaization, will uncomment and test when new regexp is finished:
		// <rdar://problem/11610227> Code : AC.Retina 2.2 : checkAsRootRelative only works for images on a subdomain of apple.com
		
    // if (self.options.checkExists === true && typeof self._exists === 'undefined') {
    //  if (self.options.checkAsRootRelative === true || (hiResSrc.indexOf(window.location.origin) === 0 || hiResSrc.indexOf('/') === 0)) {
    //    testSrc = (self.options.checkAsRootRelative === true) ? hiResSrc.replace(/^http:\/\/.*\.apple\.com\//,'/') : hiResSrc;
    //    self._exists = false;
    //    return AC.Ajax.checkURL(testSrc, function () {
    //      self._exists = true;
    //      recursiveCallback();
    //    });
    //  }
    // }
    
		// Handle imageLink shortcuts
		if (self.isImageLink()) {
			self._el.setAttribute('href', hiResSrc);
			self.setStatus('replaced');
			if (typeof callback === 'function') {
				callback(true);
			}
		// Handle everything else
		} else {
			// Still have to preload background images to get their dimensions
			if ((self.options.preload === true || self._tagName !== 'img') && self._isPreloaded !== true) {
				return self.preload(recursiveCallback);
			}
			if (self._tagName === 'img') {
				self._el.setAttribute('src', hiResSrc);
				// Status update (for debugging)
				if ((self.options.preload !== true)) {
					self.setStatus('loading');
					AC.Element.addEventListener(self._el, 'load', function (evt) {
						self.setStatus('replaced');
						if (typeof callback === 'function') {
							callback(true);
						}
					});
					AC.Element.addEventListener(self._el, 'error', function (evt) {
						self.setStatus('404');
						// Failsafe
						self._el.setAttribute('src', self.src());
						if (typeof callback === 'function') {
							callback(false);
						}
					});
				}
			} else {
				/// converted to not rely on Prototype
				//self._el.setStyle('background-image:url(' + hiResSrc + ');');
				//self._el.setStyle('background-size:' + (self.width / AC.Retina.devicePixelRatio()) + 'px ' + (self.height / AC.Retina.devicePixelRatio()) + 'px;');
				self._el.style['background-image'] = 'url(' + hiResSrc + ')';
				self._el.style['background-size']  = (self.width / AC.Retina.devicePixelRatio()) + 'px ' + (self.height / AC.Retina.devicePixelRatio()) + 'px';
				self._el.style['backgroundImage'] = 'url(' + hiResSrc + ')';
				self._el.style['backgroundSize']  = (self.width / AC.Retina.devicePixelRatio()) + 'px ' + (self.height / AC.Retina.devicePixelRatio()) + 'px';
				if (typeof callback === 'function') {
					callback(true);
				}
			}
		}
		// We might have create some new properties that need getters/setters
		self.synthesize();
	},
	preload: function ac_preload(callback) {
		// Don't preload multiple times
		if (this._isPreloaded) {
			return true;
		}
		this.setStatus('loading');
		/// converted to not rely on Prototype
		//var img = new Element('img');
		var img = document.createElement('img');
		AC.Element.addEventListener(img, 'load', function () {
			this._isPreloaded = true;
			// Get image dimensions
			this.width = img.width;
			this.height = img.height;
			this.setStatus('replaced');
			if (typeof callback === 'function') {
				callback();
			}
		}.bind(this));
		AC.Element.addEventListener(img, 'error', function () {
			this.setStatus('404');
			this._exists = false;
			if (typeof callback === 'function') {
				callback();
			}
		}.bind(this));
		img.src = this.hiResSrc();
	}
};
AC.Retina.Image.removeCSSURLSyntax = function (string) {
	if (typeof string === 'string' && typeof string.replace === 'function') {
		//Allow background image URLs to be encapsulated in quotes (to support developer preferences)
		string = string.replace('"','').replace('"','');
		return string.replace(/^url\(/,'').replace(/\)$/,'');
	}
	return '';
};
AC.Retina.Image.convertParametersToOptions = function (string) {
	if (typeof string === 'string' && typeof string.toQueryParams === 'function') {
		var options = string.toQueryParams(), option;
		for (option in options) {
			if (options.hasOwnProperty(option)) {
				options[option.camelize()] = options[option];
			}
		}
		return options;
	}
	return {};
};
_application/x-javascript‘IJKL_Hhttps://devimages.apple.com.edgekey.net/assets/scripts/topbarDropdown.jsO9bplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Hhttps://devimages.apple.com.edgekey.net/assets/scripts/topbarDropdown.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xê,¶€ »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"25d2f55119c7912de1a6686f9cb272e1:1365277715"_Sat, 06 Apr 2013 19:48:34 GMT_Mon, 13 Apr 2015 01:53:34 GMTUbytesT1138Zkeep-alive“+,Z[\NSDictionary¢Z/r_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ*/:CILU^`biq|Öáâãçèëìïû†¢§¶®™¨Æ∞∑ƒ…◊‹Í˘&Vvñú°¨±æ¡ƒﬂ‰¯¸03I             g              KOrvar dropdownMenu = {
	// initialize the click events to open the dropdown
	// trigger: DOMreference to the triggering elements
	// details: DOM reference to the details section that will be expanded
	init: function(trigger, details) {
		this.element = $$(trigger);
		this.details = $$(details);
		if (this.element.length == 0 || this.details.length == 0) {
			return false;
		}
		this.element.invoke('observe', 'click', this.openMenu.bind(this));
		$$('html').invoke('observe', 'click', this.closeMenu.bind(this));
	},

	// open the dropdown menu
	openMenu: function() {
		if (!this.isOpen) {
			this.element.invoke('addClassName', 'active');
			Effect.BlindDown(this.details[0], { duration: 0.01, afterFinish: function() {
				this.isOpen = true;
			}.bind(this)});
		}
	},

	// close the dropdown menu
	closeMenu: function() {
		if (this.isOpen) {
			this.isOpen = false;
			Effect.BlindUp(this.details[0], { duration: 0.01 });
			this.element.invoke('removeClassName', 'active');
			this.element.invoke('blur');
		}
	}
};
document.observe('dom:loaded', function() {
	dropdownMenu.init('.topbar .topbar-select', '.topbar .tooltip');
});_application/x-javascript‘NOP_@https://devimages.apple.com.edgekey.net/assets/styles/script.cssO bplist00‘bcX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_@https://devimages.apple.com.edgekey.net/assets/styles/script.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€X∑òh »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@BCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApacheXtext/css_-"82362a55d32d87d28acad60a35948062:1365277729"_Sat, 06 Apr 2013 19:48:49 GMT_Mon, 13 Apr 2015 01:54:13 GMTUbytesS484Zkeep-alive“+,Z[\NSDictionary¢Z/‰“+,^__NSHTTPURLResponse£`a/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—de_WebResourceResponseÄ    # - 2 7 V \ w z ~ Å Ñ á ã é ï ò õ û ° § ¶ ® ™ ¨ Æ Ø ± ≥ µ ∑ π ª Ω ƒ Ã ÿ ⁄ ‹ ﬁ!&1:@CLUWY`hs|~ÄÇÑÜàäåïóôõùü°£•ßÆª¿Œ”·˚;[{ÅÖêï¢•®≠¡≈ŸÁ˘¸             f              O‰.script { display:block; }
.noscript { display:none; }

/* expand/collapse swapper **/
.expandlabel { padding-left:1.2em; cursor:pointer; color:#366088; background:url(https://devimages.apple.com.edgekey.net/assets/elements/arrows/expand.gif) no-repeat 0 -126px; }
.expandlabel:hover { text-decoration:underline; }
.expandlabel.closed { background-position:0 3px; }

div.expandcontent { display:none; overflow:hidden; padding-left:1.2em; }
.hasjs div.expandcontent { display:block; }
‘RST_Jhttps://devimages.apple.com.edgekey.net/assets/styles/augmented_search.cssObplist00‘bcX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Jhttps://devimages.apple.com.edgekey.net/assets/styles/augmented_search.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€XèﬁÎp »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@BCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApacheXtext/css_-"8a20c0c576619807708e7c228b8dd7e3:1398462815"_Fri, 25 Apr 2014 21:53:35 GMT_Mon, 13 Apr 2015 01:53:33 GMTUbytesT3817Zkeep-alive“+,Z[\NSDictionary¢Z/È“+,^__NSHTTPURLResponse£`a/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—de_WebResourceResponseÄ    # - 2 7 V \ w z ~ Å Ñ á ã é ï ò õ û ° § ¶ ® ™ ¨ Æ Ø ± ≥ µ ∑ π ª Ω ƒ Ã ÿ ⁄ ‹ ﬁ+0;DJMV_acjr}Üàäåéêíîñü°£•ß©´≠Ø±∏≈ ÿ›Î˙EeÖãêõ†≠∞≥∏Ã–‰Ú             f              OÈinput#gh-adcsearch:focus { outline-width: 0px; outline: none; }

#gh-search .autocomplete { display: block; position: absolute; opacity: 0.65px; }
#gh-search .autocomplete span { display: inline; margin: 0px 0px; padding: 0px 0px; font-size: 11px; line-height: 20px !important; }
#gh-search .autocomplete span.spacer { opacity: 0.0; }

#gh-search.chrome, #gh-search.firefox { /* Adapted for new cross-browser searchbar */ }
#gh-search.chrome .search-wrapper input#gh-adcsearch, #gh-search.firefox .search-wrapper input#gh-adcsearch { display: block; padding: 1px 0px 0px 0px; height: 18px; }
#gh-search.chrome .search-wrapper .autocomplete, #gh-search.firefox .search-wrapper .autocomplete { top: 1px; left: 20px; }
#gh-search.chrome .notSafari-wrapper .autocomplete, #gh-search.firefox .notSafari-wrapper .autocomplete { top: 0px; left: 41px; }

#gh-search.safari label { position: relative; }
#gh-search.safari label .autocomplete { top: -2px; left: 40px; }

.recommended { padding-top: 10px; position: absolute; top: 23px; right: 0px; width: 350px; border: 1px solid #cdcdcd; border-radius: 5px; overflow: hidden; background-color: rgba(255, 255, 255, 0.96); -moz-box-shadow: 0px 0px 8px 3px rgba(0, 0, 0, 0.15); -webkit-box-shadow: 0px 0px 8px 3px rgba(0, 0, 0, 0.15); box-shadow: 0px 0px 8px 3px rgba(0, 0, 0, 0.15); -moz-transition: all 0.075s; -webkit-transition: all 0.075s; transition: all 0.075s; z-index: 9999; }
.recommended.hidden { opacity: 0.0; pointer-events: none; }
.recommended .recommended-label { padding: 0px 10px; font-size: 10px; color: #999999; }
.recommended ul.results { margin-top: 8px; margin-bottom: 0px !important; }
.recommended li.result:not(:last-child) { border-bottom: 1px solid #dedede; }
.recommended li.result.active { background-color: #efefef; }
.recommended li.result.active a > span.result-title { color: #0088cc; text-decoration: underline; }
.recommended li.result:not(.active) a > img.result-thumbnail { filter: gray; /* IE6-9 */ filter: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale"); /* Firefox 10+, Firefox on Android */ -webkit-filter: grayscale(100%); /* Chrome 19+, Safari 6+, Safari 6+ iOS */ }
.recommended li.result a { display: block; padding: 10px 10px 14px; }
.recommended li.result a img.result-thumbnail, .recommended li.result a span.result-title { display: inline-block; vertical-align: middle; }
.recommended li.result a img.result-thumbnail { margin-right: 9px; width: 16px; height: 16px; /* Fix for fuzzy rendering on Retina when using CSS3 greyscale filters */ -webkit-transform: translateZ(0); -moz-transform: translateZ(0); transform: translateZ(0); }
.recommended li.result a span.result-title { color: #333333; font-size: 14px; line-height: 18px; }
.recommended li.result.get-more:not(.active) { background: -moz-linear-gradient(top, rgba(255, 255, 255, 0) 0%, white 100%); /* FF3.6+ */ background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(255, 255, 255, 0)), color-stop(100%, white)); /* Chrome,Safari4+ */ background: -webkit-linear-gradient(top, rgba(255, 255, 255, 0) 0%, white 100%); /* Chrome10+,Safari5.1+ */ background: -o-linear-gradient(top, rgba(255, 255, 255, 0) 0%, white 100%); /* Opera 11.10+ */ background: -ms-linear-gradient(top, rgba(255, 255, 255, 0) 0%, white 100%); /* IE10+ */ background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, white 100%); /* W3C */ }
.recommended li.result.get-more a { height: 14px !important; }
.recommended li.result.get-more a span.result-title { display: block; margin-bottom: -2px; max-width: none !important; font-size: 12px !important; text-align: center; }
‘VWXY_Vhttps://devimages.apple.com.edgekey.net/assets/scripts/lib/jquery/jquery-1.11.0.min.jsOJbplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Vhttps://devimages.apple.com.edgekey.net/assets/scripts/lib/jquery/jquery-1.11.0.min.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€XêT–Ó »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"52d16e147b5346147d0f3269cd4d0f80:1398462845"_Fri, 25 Apr 2014 21:54:05 GMT_Mon, 13 Apr 2015 01:53:34 GMTUbytesU96380Zkeep-alive“+,Z[\NSDictionary¢Z/ x|_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ8=HQWZclnpwäìïóôõùü°£¨Æ∞≤¥∂∏∫ºæ≈“◊ÂÍ¯4dÑ§™∞ª¿Õ–’ı	!/ADZ             g              \O x|/*! jQuery v1.11.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:k&&!k.call("\ufeff\xa0")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return+new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)k.unshift(c);while(h[d]===k[d])d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=jb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=kb(b);function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++)if(d.relative[a[e].type])break;return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++])if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++])o(r,s,g,i);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--)f=ub(b[c]),f[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b)return e;a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type])break;if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a)return G.apply(e,f),e;break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,B=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function E(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){var d;while((d=n.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}});function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1);else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var L="undefined",M;for(M in n(l))break;l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f
}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(F)||[""],h=b.length;while(h--)f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(F)||[""],j=b.length;while(j--)if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}m=0;while((h=o[m++])&&!b.isPropagationStopped())b.type=m>1?i:k.bindType||p,f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=cb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},tb=eb(z),ub=tb.appendChild(z.createElement("div"));sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td;function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);else Bb(a,f);return d=vb(f,"script"),d.length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++)if(f=a[q],f||0===f)if("object"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];while(e--)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody){f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}n.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;while(f=p[q++])if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c)){e=0;while(f=h[e++])pb.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(vb(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0;if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,"script"),yb),f=g.length;k>j;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++)d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")));i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),"none"!==c&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}!function(){var a,b,c=z.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=z.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Jb,Kb,Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h=z.createElement("div"),i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",j="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=h.getElementsByTagName("a")[0],b.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(b=z.getElementsByTagName("body")[0],!b)return;c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=i,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement("div")),e.style.cssText=d.style.cssText=j,e.style.marginRight=e.style.width="0",d.style.width="1px",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}});function k(){var b,c,h=z.getElementsByTagName("body")[0];h&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,g=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),h.removeChild(b),c=h=null)}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];function Vb(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;while(e--)if(b=Ub[e]+c,b in a)return b;return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)
},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[jc],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=U[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function kc(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++)if(d=ec[f].call(j,a,k,j.opts))return d;return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=z.createElement("select"),d=c.appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(mc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(F)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||a===!1?"":n._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){Ac=z.createElement("a"),Ac.href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[];function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){var e={},f=a===Jc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Pc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Dc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;h=k.global,h&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Wc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&"withCredentials"in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){b=z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dd;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n});_application/x-javascript‘[\]^_Jhttps://devimages.apple.com.edgekey.net/assets/scripts/augmented_search.jsO<bplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Jhttps://devimages.apple.com.edgekey.net/assets/scripts/augmented_search.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€XêVÍ1 »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionVApache_application/x-javascript_-"137405851ae85b2b768ef3c2b98027e3:1406310819"_Fri, 25 Jul 2014 17:53:39 GMT_Mon, 13 Apr 2015 01:53:34 GMTUbytesU11237Zkeep-alive“+,Z[\NSDictionary¢Z/+Â_application/x-javascript“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ,1<EKNW`bdks~áâãçèëìïó†¢§¶®™¨Æ∞≤π∆ÀŸﬁÏ˚(Xxòû§Ø¥¡ƒ«‚Á˚ˇ!36L             g              NO+Â(function(window, $) {

	//Kill the plugin if jQuery is unavailable on the page
	if(typeof $ === "undefined") { return false; }
	if(location.pathname.match(/\/library\//)) { return false; }

	var SearchModel = function() {
	
		this.query = "",
		this.all_results = [ ],
		this.keywords = [ ],
		this.json_location = "/search/featured.json",
		this.on_change_callbacks = [ ];

		$.ajax({
			url: this.json_location,
			type: 'GET',
			//dataType: 'application/json',
			dataType: 'json',
			context: this,
			success: function(json, status, request) {
				this.all_results = json;
				this.populate_keywords();
			},
			error: function(request, status, errorThrown) {
				//Valid JSON wasn't returned by the server. Either the data returned
				// wasn't valid, or the request resulted in 500 error (internal server error)
				// console.error("Request returned with status '" + status + "'.");
				// console.error("Error: " + errorThrown.toString() + ".");
			},
			complete: function(request, status) { }
		});

	};

	SearchModel.MIN_TERM_LENGTH = 3;

	SearchModel.sort_by_relevance = function(a, b) { return b.relevance - a.relevance; };

	SearchModel.prototype.get_query = function() { return this.query; }
	
	SearchModel.prototype.set_query = function(value) {
		this.query = value;
		this.on_change();
	};

	SearchModel.prototype.get_keywords = function() { return this.keywords; }

	SearchModel.prototype.populate_keywords = function() {
		for(var i = 0; i < this.all_results.length; i++) {
			var story = this.all_results[i];
			for(var j = 0; j < story.keywords.length; j++) {
				var keyword = story.keywords[j];
				if(this.keywords.indexOf(keyword) == -1) {
					this.keywords.push(keyword);
				}
			}
		}
		this.keywords.sort(function(a,b) {
			return a.length - b.length;
		});
	};

	SearchModel.prototype.register_callback = function(callback, scope) {
		this.on_change_callbacks.push([callback, scope]);
	};
	SearchModel.prototype.on_change = function() {
		for(var i = 0; i < this.on_change_callbacks.length; i++) {
			var callback = this.on_change_callbacks[i][0],
				scope = this.on_change_callbacks[i][1];
			callback.call(scope);
		}
	};

	var SearchController = function() {

		this.model = new SearchModel();
		this.searchbar = $('input.augmented').attr('autocomplete', 'off');
		this.current_results = [ ];
		this.results_list_wrapper = this.append_results_list_wrapper();
		this.results_list = this.results_list_wrapper.find('ul.results');
		
		this.model.register_callback(function() {
			this.current_results = this.get_filtered_results();
			if(this.current_results.length > 0) {
				this.rebuild_results_list();
				this.results_list_wrapper.removeClass('hidden');
			} else {
				this.results_list_wrapper.addClass('hidden');
			}
		}, this);

		this.searchbar.on('keypress input paste', $.proxy(function(e) {
			this.model.set_query(this.searchbar.val().trim());
		}, this));
		
		this.searchbar.on('click', $.proxy(function(e) {
			if(this.current_results.length > 0) {
				this.results_list_wrapper.removeClass('hidden');
			}
		}, this));

		this.results_list.on('mouseleave', $.proxy(function(e) {
			$('li.result.active').removeClass('active');			
		}, this));

		$('<span class="autocomplete">').insertAfter(this.searchbar);
		this.autocomplete = $('.autocomplete');
		this.autocomplete.append('<span class="spacer">');
		this.autocomplete.append('<span class="completion">');
		
		if(AC.Detector.isFirefox()) {
			if(this.searchbar.hasClass('notSafari')) {
				//For cross-browser-friendly searchbar
				this.autocomplete.css({
					'top': '1px',
					'left': '42px'
				});
			} else {
				//For current searcbar
				this.autocomplete.css({
					'top': '0px',
					'left': '21px'
				});
			}
		}

		this.model.register_callback(function() {
			var predicted = this.get_predicted_query();
			var query = this.model.get_query();
			var remainder = predicted.replace(query, '');
			this.autocomplete.find('span.spacer').text(query);
			this.autocomplete.find('span.completion').text(remainder);
		}, this);

	};

	SearchController.MAX_DISPLAYED_RESULTS = 8;

	SearchController.map_index_to_bounds = function(index, collection) {
		var len = collection.length;
		return (index % len + len) % len;
	};

	SearchController.begins_with = function(word, beginning) {
		if(word.length >= beginning.length &&
		   word.substr(0, beginning.length) == beginning) {
			return true;
		} else {
			return false;
		}
	}

	SearchController.prototype.get_predicted_query = function() {
		var terms = this.model.get_query().split(" ")
			.filter(function(term) { return term.length > 0; });
		if(terms.length > 0) {
			for(var i = 0; i < terms.length; i++) {
				var term = terms.slice(terms.length - 1 - i, terms.length).join(" ");
				var keywords = this.model.get_keywords();
				for(var j = 0; j < keywords.length; j++) {
					var keyword = keywords[j],
						match = true;
					for(var k = 0; k < term.length; k++) {
						if(keyword.toLowerCase()[k] != term.toLowerCase()[k]) {
							match = false;
						}
					}
					if(match) {
						return terms.join(" ") + keyword.substring(term.length, keyword.length);
					}
				}			
			}
		}
		return "";
	};

	SearchController.prototype.get_filtered_results = function() {
		
		var terms = this.model.get_query().toLowerCase()
			.split(" ").filter(function(term) { return (term.length >= SearchModel.MIN_TERM_LENGTH); });

		//For every term included in the user's search query
		for(var i = 0; i < terms.length; i++) {
			var term = terms[i];
			//For every possible result in the model
			for(var j = 0; j < this.model.all_results.length; j++) {
				var result = this.model.all_results[j];
				//Reset the result object's 'relevance' value to zero
				if(i == 0) { result.relevance = 0; }
				result.relevance += this.calculate_relevance(result, term);
			}
		}

		return this.model.all_results.sort(SearchModel.sort_by_relevance)
			.filter(function(result) { return result.relevance > 0; })
			.filter(function(result, index) { return index < SearchController.MAX_DISPLAYED_RESULTS; });

	};

	SearchController.prototype.calculate_relevance = function(result, term) {
		var relevance = 0;
		//For each keyword associated with the result
		for(var i = 0; i < result.keywords.length; i++) {
			var keyword = result.keywords[i];
			var sub_keywords = keyword.split(" ");
			//Separate logic for single-term and multi-term keywords
			if(sub_keywords.length > 1) {
				//Multi-term keyword logic
				var sub_keywords = keyword.split(" ");
				for(var j = 0; j < sub_keywords.length; j++) {
					var sub_keyword = sub_keywords[j];
					if(SearchController.begins_with(sub_keyword.toLowerCase(), term)) {
						relevance += 1;
						//console.log(" --> " + result.url.replace("https://developer.apple.com","") + " matched term '" + term + "' with sub-keyword '" + sub_keyword + "' (relevance -> " + result.relevance + ")");
					}
				}
			} else {
				//Single-term keyword logic
				if(SearchController.begins_with(keyword.toLowerCase(), term)) {
					relevance += 1;
					//console.log(" --> " + result.url.replace("https://developer.apple.com","") + " matched term '" + term + "' with keyword '" + keyword + "' (relevance -> " + result.relevance + ")");
				}
			}
		}
		return relevance;
	}

	SearchController.prototype.set_active_result = function(at_index) {
		$('li.result.active').removeClass('active');
		$('li.result').eq(at_index).addClass('active');
	};
	
	SearchController.prototype.append_results_list_wrapper = function() {
		var wrapper = $('<div>').addClass('recommended hidden')
						.append($('<span>').addClass('recommended-label').text("Recommended Results"))
						.append($('<ul>').addClass('results'));
		$('#gh-search').append(wrapper);
		return wrapper;
	};

	SearchController.prototype.rebuild_results_list = function() {
		this.results_list.empty();
		for(var i = 0; i < this.current_results.length; i++) {
			var result_obj = this.current_results[i];
			this.results_list.append(this.build_result_item(result_obj));
		}
		var search_url = "https://developer.apple.com/search/index.php?q=" + encodeURI(this.model.get_query());
		this.results_list.append(this.build_result_item({ "url": search_url, "title": "Get more" }).addClass('get-more'));
	};

	SearchController.prototype.build_result_item = function(result) {
		//var icons_path = "/assets/elements/icons/search-icons-test/images/icons/16x16/";
		var icons_path = "/assets/elements/icons/16x16/";
		var item = $('<li>').addClass('result');
			item.on('mouseover', $.proxy(function(e) {
				var index = $('.result').index($(e.currentTarget));
				this.set_active_result(index);
			}, this));
		if("url" in result) {
			var link = $('<a href="' + result.url + '">');
			if("category" in result) {
				var thumbnail = $('<img>').addClass('result-thumbnail').attr('src', icons_path + result.category + ".svg");
				link.append(thumbnail);
			}
			if("title" in result) {
				var title = $('<span>').addClass('result-title').text(result.title);
				link.append(title);
			}
			item.append(link);
		}
		return item;
	};

	$(document).ready(function() {
		
		var userAgentClass = (AC.Detector.isWebKit() && !AC.Detector.isChrome()) ? "safari" :
							 (AC.Detector.isChrome()) ? "chrome" :
							 (AC.Detector.isFirefox()) ? "firefox" :
							 (AC.Detector.isOpera()) ? "opera" : "chrome";
		$('#gh-search').addClass(userAgentClass);

		var KEYS = {
			"ARROW_UP": 38,
			"ARROW_DOWN": 40,
			"ARROW_LEFT": 37,
			"ARROW_RIGHT": 39,
			"ENTER": 13,
			"TAB": 9,
			"ESCAPE": 27
		};

		//Suppress augmented search feature on mobile devices
		///if(((window.innerWidth > 0) ? window.innerWidth : screen.width) > 320 || !AC.Detector.isMobile()) {
		if (!AC.Detector.isMobile() && !AC.Detector.isiPad()) {
			
			var controller = new SearchController();

			$(window).on('click', function(e) {
				if(e.target != controller.searchbar[0] &&
				   e.target != controller.results_list_wrapper[0]  &&
				   controller.results_list_wrapper.children().index($(e.target)) == -1) {
					controller.results_list_wrapper.addClass('hidden');
				}
			});

			controller.searchbar.on('keydown', function(e) {
				switch(e.keyCode) {
					case KEYS.ARROW_UP:
					case KEYS.ARROW_DOWN:
						e.preventDefault();
						if($('li.result.active').length == 0) {
							var new_index = (e.keyCode == 38) ? $('li.result').length - 1 : 0;
							controller.set_active_result(new_index);
						} else {
							var current_index = $('li.result').index($('li.result.active'));
							var new_index = current_index + (e.keyCode == 38 ? -1 : 1);
							controller.set_active_result(SearchController.map_index_to_bounds(new_index, $('li.result')));
						}
						break;
					case KEYS.ARROW_RIGHT:
						controller.searchbar.val(controller.get_predicted_query());
						controller.searchbar.trigger('input');
						break;
					case KEYS.ENTER:
						var active = $('li.result.active');
						if(active.length) {
							e.preventDefault();
							window.location = active.find('a')[0].href;
						}
						break;
					case KEYS.ESCAPE:
						controller.results_list_wrapper.addClass('hidden');
						break;
				}
			});

		} else {
			$('input.augmented').removeClass('augmented');
		}

	});

})(window, jQuery);_application/x-javascript‘`ab_0https://developer.apple.com/wwdc/styles/wwdc.cssOØbplist00‘vwX$versionX$objectsY$archiverT$top Ü†Ø&#)*0123STUVWXYZ[\]^_`abcdefghijklmpqU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ$Ä%ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_0https://developer.apple.com/wwdc/styles/wwdc.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫”ÉJ=° »”456DRWNS.keysZNS.objects≠789:;<=>?@ABCÄ	Ä
ÄÄÄÄÄÄÄÄÄÄÄ≠FGHIJKLMNOPQÄÄÄÄÄÄÄÄÄÄÄ Ä!Ä"Ä#\Content-TypeZKeep-AliveTEtag_Content-EncodingVServer^Cteonnt-Length]Cache-ControlTDate^Content-LengthZConnection]Accept-Ranges_X-Frame-Options]Last-ModifiedXtext/css_timeout=15, max=353_"3dcc2-5c5d-5091c1eade380"TgzipVApacheU23645Wprivate_Tue, 07 Apr 2015 03:17:48 GMTT4584ZKeep-AliveUbytesZSAMEORIGIN_Sun, 30 Nov 2014 23:47:42 GMT“+,no\NSDictionary¢n/\]“+,rs_NSHTTPURLResponse£tu/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—xy_WebResourceResponseÄ    # - 2 7 ` f Å Ñ à ã é ë ï ò ü ¢ • ® ´ Æ ∞ ≤ ¥ ∂ ∏ π ª Ω ø ¡ √ ≈ « Œ ÷ ‚ ‰ Ê Ë +4:=FOQSZbm{}ÅÉÖáâãçèëìï£•ß©´≠Ø±≥µ∑πªΩøÃ◊‹Ôˆ'2@R`iú°®Æ∂÷€ÊÏ˜),/4HL`nÄÉô             z              õO\]/* Sass mixins */
/* Global styles */
* { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }

html, body { background-color: #fff; }

body { position: relative; }

/* WWDC header styles */
#wwdc-header { position: relative; top: 0px; }
#wwdc-header h1 { position: absolute; width: 175px; height: 24px; background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-header-lockup.png"); background-size: 175px 24px; background-repeat: no-repeat; text-indent: -9999px; outline: none; -moz-outline: none; }
#wwdc-header h1 a { display: block; }
#wwdc-header ul > li:hover a { text-decoration: none; }
#wwdc-header ul > li.active a { color: #292929; }
#wwdc-header ul > li:not(.active) a { color: #8b8b8b; }
#wwdc-header ul > li:not(.active):hover a { color: #0088cc; }

#content { /* Default overrides */ padding: 66px 0px 18px; background: transparent; border: none !important; -webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important; }
#content p.asterisk { padding-left: 10px; font-size: 12px !important; color: #999; }
#content p.asterisk:before { content: "*"; margin-left: -10px; padding-right: 4px; }
#content h3 { padding-bottom: 4px; font-size: 18px; font-weight: normal; }
#content .column { display: inline-block; }
#content img { display: block; margin: 0px auto; }
#content img.polaroid { border: 10px solid #fff; -moz-box-shadow: 2px 1px 6px 1px #bcbcbc; -webkit-box-shadow: 2px 1px 6px 1px #bcbcbc; box-shadow: 2px 1px 6px 1px #bcbcbc; }

.content { border-radius: 0px; -webkit-border-radius: 0px; -moz-border-radius: 0px; -o-border-radius: 0px; -khtml-border-radius: 0px; }
#content .hero a.intro.more:after { width:28px; background-position: -4px 0px;}

#content .image-border { display:inline-block; margin-bottom:50px; padding:10px 10px 5px; *padding-bottom:8px; border:1px solid #ccc; -webkit-box-shadow:rgba(0,0,0,0.3) 0 0 4px; -moz-box-shadow:rgba(0,0,0,0.3) 0 0 4px; box-shadow:rgba(0,0,0,0.3) 0 0 4px; }


/* Desktop styles */
#wwdc-header, #content { width: 980px; margin: 0px auto; }

/* WWDC header styles */
#wwdc-header { padding: 28px 12px 12px 12px; width: 982px; height: 66px; border-bottom: 1px solid #d6d6d6; background-color: rgba(255, 255, 255, 0.8); z-index: 999; }
#wwdc-header * { display: inline-block; }
#wwdc-header ul { position: absolute; right: 12px; margin-top: 4px; }
#wwdc-header ul li { display: inline-block; margin-right: 28px; padding: 0px 3px 13px; font-size:12px; }
#wwdc-header ul li, #wwdc-header ul li a { -webkit-transition: border 0.5s ease-in; -moz-transition: border 0.5s ease-in; -o-transition: border 0.5s ease-in; transition: border 0.5s ease-in; }


/* Global content styles */
#content .topbar { padding: 0px 0px; top: -52px; height: auto; background: none; -webkit-border-radius: none; -moz-border-radius: none; border-radius: none; border: none; }
#content .topbar .topbar-select-container { position: relative; top: 0px; right: 0px; }
#content .topbar .topbar-select-container #topbar-dropdown-tooltip .tooltip-content .topbar-dropdown-options li a { width: 160px; }
#content .hero { padding-top: 42px; padding-bottom: 42px; }
#content .hero img.title, #content .hero p.intro { display: block; margin: 0px auto; text-align: center; }
#content .hero img.title { margin-bottom: 18px; }
#content .hero p.intro { width: 635px; font-size: 18px; line-height: 1.65em; }
#content .hero a.arrow { display: inline-block; margin-top: 18px; font-size: 18px; }
#content .hero a.arrow:after { height: 30px; background-position: -4px -4px; }
#content .hero.background { position: relative; margin-top: -48px; }
#content .hero.background * { position: relative; }
#content .hero.background img.background-img { position: absolute; left: 0px; }
#content .hero.background img.title, #content .hero.background p { -webkit-transition: all 0.5s ease-in; -moz-transition: all 0.5s ease-in; transition: all 0.5s ease-in; color: #000; }
#content .hero.background img.title { margin-bottom: 32px; }
#content .hero.background.cleared { border-bottom: 1px solid #eee; }
#content .hero.background.cleared p { color: #888; }
/*#content .hero.background:not(.cleared) img.title, #content .hero.background:not(.cleared) p { -webkit-transform: translateZ(0); -moz-transform: translateZ(0); transform: translateZ(0); -moz-filter: invert(100%); -webkit-filter: invert(100%); filter: invert(100%); filter: invert(100%); }*/
#content .hero.background:not(.cleared) p { color:#fff; }
#content section { margin-top: 52px; padding: 0px 65px 0px; }
#content section:first-of-type { margin-top: 65px; }
#content section.gradient-divider { background: -moz-linear-gradient(top, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.03) 100%); background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(0, 0, 0, 0)), color-stop(100%, rgba(0, 0, 0, 0.03))); background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.03) 100%); background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.03) 100%); background-repeat: no-repeat; background-size: 100% 120px; background-position: center bottom; }
#content section p { font-size: 13.5px; line-height: 1.65em; color: #666; }
#content section .columns-wrapper.split-list { margin: 0px auto; overflow: auto; }
#content section .columns-wrapper.split-list .column:not(:first-of-type) { margin-left: 32px !important; }
#content section .columns-wrapper.split-list .column.last { float: left !important; }
#content section .columns-wrapper.split-list .column ul.topics-list { margin-top: 24px; margin-bottom: 0px; text-align: left; }
#content section .columns-wrapper.split-list .column ul.topics-list li.topic { color: #aaa; }
#content section .columns-wrapper.split-list .column ul.topics-list li.topic p { display: block; margin: 4px auto 0px; width: auto !important; font-size: 16px !important; }

/* Page-specific styles */
/* Home router page */
#home #content header.hero { margin-top: 0px; padding-bottom: 90px; text-align: center; }
#home #content header.hero img { display: block; margin: 0px auto; }
#home #content header.hero img.lockup { margin-top: -90px; }
#home #content header.hero img.date { margin-top: 28px; }
#home #content header.hero img.introduction { margin-top: 48px; }
/*
#home #content section.home-learn-more { margin-top: 38px; margin-bottom: 96px; text-align: center; }
#home #content section.home-learn-more p.intro { margin: 38px auto 4px; width: 704px; font-size: 16px !important; line-height: 1.85em; color: #999; }
#home #content section.home-learn-more a.arrow { font-size: 16px !important; }
*/

/* Home router page (v2) */
#home2 #content header.hero { margin-top: 0px; text-align: center; }
#home2 #content header.hero img { display: block; margin: 0px auto; }
#home2 #content header.hero img.lockup { margin-top: -80px; }
#home2 #content header.hero img.date { margin-top: 32px; }
#home2 #content header.hero p.intro { margin-top: 38px; width: 704px; font-size: 16px !important; }
#home2 #content header.hero a.arrow { font-size: 16px !important; }

/* Sessions router page */
#sessions #content header.hero { padding-bottom:50px; }
#sessions #content header.hero img.background-img { top: -146px; }
#sessions #content header.hero img.title { margin-top: 218px; margin-bottom: 12px !important; }
#sessions #content section { text-align: center; }
#sessions #content section:first-of-type { margin-top: 72px; }
#sessions #content section:not(:last-of-type) { padding-bottom: 50px; }
#sessions #content section:last-of-type { margin-bottom: 80px; }
#sessions #content section img.section-heading { margin-top: 18px; }
#sessions #content section p { margin-top: 12px; padding: 0px 60px; font-size: 16px !important; }
#sessions #content section img.section-artwork { margin-top: 50px; margin-bottom: 10px; }
#sessions #content section.sessions-location, #sessions #content section.sessions-graphics { padding-bottom: 0px; }
#sessions #content section.sessions-location img.section-artwork, #sessions #content section.sessions-graphics img.section-artwork { margin-bottom: 0px; }

/* Labs router page */
#labs #content header.hero { padding-bottom: 32px; }
#labs #content header.hero img.background-img { top: -128px; }
#labs #content header.hero img.title { margin-top: 256px; margin-bottom: 10px; }
#labs #content section { padding-bottom: 64px; overflow: auto; text-align: center; }
#labs #content section img.section-heading { display: block; margin: 18px auto 0px; }
#labs #content section p { display: block; margin: 14px auto 0px; width: 608px; font-size: 16px !important; line-height: 1.5em !important; }

/* Events router page */
#events #content header.hero { padding-bottom: 362px; }
#events #content header.hero img.background-img { top: -85px; }
#events #content header.hero img.title { margin-top: -22px; margin-bottom: 10px; }
#events #content section { text-align: center; margin-top: 0px !important; padding-top: 52px; height: 600px; background-repeat: no-repeat; background-size: 980px 600px; background-position: center center; }
#events #content section p.intro { padding-left: 108px; padding-right: 108px; }
#events #content section p.intro, #events #content section a.intro { display: block; margin: 0px auto; margin-top: 12px !important; font-size: 16px !important; }
#events #content section a.intro { margin-top: 8px; }
#events #content section img:not(.section-heading) { margin-top: 20px; }
#events #content section a.intro { display: inline-block; clear: both; margin: 0px auto; text-align: center; }
#events #content section a.intro.more:after { width: 28px; }
#events #content section:not(.dark) p.intro { color: #666; }
/*#events #content section.dark img.section-heading { -webkit-transform: translateZ(0); -moz-transform: translateZ(0); transform: translateZ(0); -moz-filter: invert(100%); -webkit-filter: invert(100%); filter: invert(100%); filter: invert(100%); }*/
#events #content section.dark a.intro.more:after { background-image: url("https://devimages.apple.com.edgekey.net/assets/elements/arrows/thin-arrow-white-right.svg") !important; }
#events #content section.dark p.intro, #events #content section.dark a.intro { color: #fff; }
#events #content section.events-awards { padding-top: 285px; }
#events #content section.events-groups { padding-top: 180px; }
#events #content section.events-awards { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-events-background-ada.jpg"); }
#events #content section.events-speakers { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-events-background-lunchtime-speakers.jpg"); }
#events #content section.events-groups { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-events-background-groups.jpg"); }
#events #content section.events-stump-the-experts { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-events-background-stump-the-experts.jpg"); }
#events #content section.events-bash { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-events-background-the-bash.jpg"); }
#events #content section.events-speakers a.intro.more { color:#08c; }
#events #content section.events-speakers.dark a.intro.more:after { background-image: url("https://devimages.apple.com.edgekey.net/assets/elements/arrows/thin-arrow-right.svg") !important; }

/* Students router page */
#students #content div.breather { margin-top:-56px; width: 980px; height: 651px; background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-students-breather.png"); background-repeat: no-repeat; background-position: center center; }
#students #content header.hero { padding-bottom: 50px; }
#students #content header.hero img.background-img { top: -136px; }
#students #content header.hero img.title { margin-top: 256px; }
#students #content section img.section-heading, #students #content section p:not(.intro) { color: #454545; }
#students #content section p.intro { margin: 0px auto; margin-top: 12px; width:800px; text-align: center; font-size: 18px !important; }
#students #content section p.intro.closed { color:#000; border-bottom:1px solid #eee; padding-bottom:37px; margin-top:30px; }
#students #content section p.intro.closed span.notification-date { font-weight:normal; color:#666; }
#students #content section.students-apply ul.steps { margin: 44px auto 18px; width: 520px; }
#students #content section.students-apply ul.steps li.step { padding-left: 90px; background-repeat: no-repeat; background-size: 54px 54px; background-position: left top; }
#students #content section.students-apply ul.steps li.step ul.links { margin-top: -10px !important; }
#students #content section.students-apply ul.steps li.step:nth-child(1) { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-students-steps-icon-1.svg"); }
#students #content section.students-apply ul.steps li.step:nth-child(2) { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-students-steps-icon-2.svg"); }
#students #content section.students-apply ul.steps li.step:nth-child(3) { background-image: url("https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-students-steps-icon-3.svg"); }
#students #content section.students-rules img.section-heading { margin: 60px auto 52px; }
#students #content section.students-rules .column.first { padding-right: 30px; }
#students #content section.students-rules .column.last { padding-left: 30px; }

/* Tickets router page */
#tickets #content header.hero { padding-top: 0px !important; padding-bottom: 42px; text-align: center; }
#tickets #content header.hero img.background-img { top: -325px; }
#tickets #content header.hero img.title { margin-top: 36px; }
#tickets #content header.hero p.intro { margin-top: 24px; width: 750px; }
#tickets #content section { padding-bottom: 24px; overflow: auto; background: none !important; }
#tickets #content section:first-of-type { margin-top: 45px !important; }
#tickets #content section:not(:last-child) { border-bottom: 1px solid #eee; }
#tickets #content section .column.first { padding-right: 60px; }
#tickets #content section .column.last { padding-left: 60px; }
#tickets #content section .column img { margin-bottom: 19px; }
#tickets #content section.tickets-details { text-align: center; }
#tickets #content section.tickets-details p { margin: 0px auto 36px; width: 640px; font-size: 16px; line-height: 1.5em; }
#tickets #content section.tickets-details a.arrow { margin-left: 24px; font-size: 18px; }
#tickets #content section.tickets-legal { margin-top: 22px; }

/* More router page */
#more #content header.hero { padding-bottom: 48px; }
#more #content header.hero img.background-img { top: -130px; }
#more #content header.hero img.title { margin-top: 26px; }
#more #content section { display: block; overflow: auto; padding-bottom: 60px; margin-top: 60px; }
#more #content section:not(:last-child) { border-bottom: 1px solid #eee; }
#more #content section .column { width: 50%; }
#more #content section .column.first { padding-right: 30px; }
#more #content section .column.last { padding-left: 30px; }
#more #content section .column img { margin-bottom: 19px; }
#more #content section ul.circle { margin-left: 1.25em !important; margin-bottom: 10px; }
#more #content section ul.circle li { margin-bottom: 4px; color: #666; }
#more #content section:first-of-type { margin-top: 30px !important; }
#more #content section img.section-heading { margin-top: 18px; margin-bottom: 54px; }
#more #content div.address { margin: 42px 0px 0px 210px; }
#more #content div.address h3, #more #content div.address p { font-size: 0.88em; color: #999; }
#more #content div.address h3 { font-weight: bold; }
#more #content div.address p { line-height: 1.5em; }

/* News page (and lunchtime speakers page) */
#news #content header.hero { padding:0 0 37px !important; margin:-5px 0 30px; background:url(https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-schedule-top-gradient-divider.jpg) 0 100% no-repeat; }
#news #content section.news-item { width:608px; padding:37px 0 0; margin:0 auto; }
#news #content section.news-item.last { margin-bottom:50px; }
#news #content section.news-item h3 { font-size:17px; line-height:22px; }
#news #content section.news-item p { margin-bottom:0; font-size:15px; padding-right:40px; }
#news #content section.news-item .left { float:left; margin-left:-128px; font-size:13px; }
#news #content section.news-item.may21 .left { margin-left:-148px; }
#news #content section.news-item.mon .left { margin-left:-122px; }
#news #content section.news-item.tue .left { margin-left:-124px; }
#news #content section.news-item.wed .left { margin-left:-143px; }
#news #content section.news-item.thu .left { margin-left:-131px; }
#news #content section.news-item.fri .left { margin-left:-110px; }

#news #content section.news-item .right { margin-right:-154px; }
#news #content section.news-item ul { margin-left:18px; list-style:disc; color:#ccc; font-size:15px; padding-right:40px; }
#news #content section.news-item ul li { margin-bottom:10px; }
#news #content section.news-item ul li span { color:#666; }
#news #content section.news-item table { margin-top:18px; }
#news #content section.news-item table .heading th { text-align:right; }
#news #content section.news-item table th { padding:0 5px 7px; font-size:13px; font-weight:bold; border-right:1px solid #ddd; }
#news #content section.news-item table th.first { width:105px; padding:9px 0 0; vertical-align:top; }
#news #content section.news-item table td { width:105px; padding:0 5px 15px; text-align:right; font-size:13px; border-right:1px solid #ddd; }
#news #content section.news-item table td span { display:block; color:#a6aaa8; }
#news #content section.news-item.download .right { margin-top:5px; }
#news #content section.news-item.wifi .right { margin-top:-20px; }
#news #content a.more:after { width:28px; background-position: -6px -1px;}
#news.lunchtime-speakers #content section .image-border,
#news #content section .image-border { padding:5px; }
#news.lunchtime-speakers #content section.news-item { width:606px; padding:37px 0 0; margin:0 auto; }
#news.lunchtime-speakers #content section.news-item.last { margin-bottom:50px; }
#news.lunchtime-speakers #content section.news-item .left { float:left; margin-left:-142px; font-size:13px; }
#news.lunchtime-speakers #content section.news-item.thu .left { margin-left:-129px; }
#news.lunchtime-speakers #content section.news-item.fri .left { margin-left:-110px; }
#news.lunchtime-speakers #content section.news-item .right { margin-right:-146px; }
#news.lunchtime-speakers #content section.news-item p { padding-right:96px; }


/* Maps router page */
#maps #content section:not(:last-child) { border-bottom: 1px solid #eee; }
#maps #content section h1 { font-size:22px; text-align:center; font-weight:normal; }
#maps #content .hero { padding-bottom:25px; }
#maps #content .hero .title { margin-bottom:0; }
#maps #content .hero { margin-left:auto; margin-right:auto; padding-left:0; width:740px; }
#maps #content .anchor-nav { margin-top:32px; padding:0 120px 45px; }
#maps #content .anchor-nav .column { padding:0; margin:0; }
#maps #content .anchor-nav .column.last { margin-right:-8px; }
#maps #content .anchor-nav .grid3col .column.middle { margin-left:42px; }
#maps #content .anchor-nav .grid3col .column.last { margin-right:15px; }
#maps #content .anchor-nav h3 { margin-bottom:14px; }
#maps #content .anchor-nav h4 { margin-bottom:5px; font-size:14px; color:#666; }
#maps #content .anchor-nav a { display:block; font-size:12px; line-height:1.95em; color:#666; cursor:pointer; text-decoration:none; }
#maps #content .anchor-nav a:hover { color:#08c; }

#maps #content .map-wrap { position:relative; z-index:1; }
#maps #content .map-wrap .map { margin:30px auto 20px; }
#maps #content .map-wrap #around-moscone .map { margin-top:0; }
#maps #content #pin { display:none; position:absolute; width:32px; height:39px; z-index:2; background:url(https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-maps-pin.png) no-repeat; background-size:32px 39px; }

/* ios schedule */
#schedule-ios #content .hero.ioserror { padding:62px 75px 50px;}
#schedule-ios #content .hero.ioserror { font-size:2.3em; line-height:1.3em; }
#schedule-ios #content .hero.ioserror h2 { font-size:1.1em; margin:4px 0 15px; }
#schedule-ios #content .hero.ioserror p { width:800px; }
#schedule-ios #content .hero.ioserror img.left { margin-right:40px; }

/* resources page */

#resources #content { padding-top:0px; }
#resources #content div { margin:0 auto; }
#resources #content .gradient-divider { padding-bottom:50px; background: url(https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-schedule-top-gradient-divider.jpg) 0 100% no-repeat; }
#resources #content p { margin-bottom:0; }
#resources #content p.subtext { color:#999999;}
#resources #content .more-general-info .server { margin-top:50px; }
#resources #content .app { margin-top:50px; }
#resources #content header div { line-height:1.8em; font-size:1.4em; }
#resources #content header.hero-section { padding-top:45px; }
#resources #content header p { text-align:center; }
#resources #content header.hero img { margin-top: 45px; }
#resources #content ul.links.small > li { margin-bottom:7px; }
#resources #content section { display: block; overflow: auto; padding:0 110px 0; margin-top: 60px; }
#resources #content section:not(:last-child) { border-bottom: 1px solid #eee; }
#resources #content section .column { width: 50%; }
#resources #content section .column.first { padding-right: 30px; }
#resources #content section .column.last { padding-left: 30px; }
#resources #content .legal { margin-top:30px; padding-bottom:0px; text-align:center;}
#resources #content section:first-of-type { margin-top: 30px !important; }
#resources #content section img.section-heading { margin-top: 18px; margin-bottom: 54px; }

/* sample code page */
#sample-code #content header.hero { padding:0 0 60px !important; margin:-5px 0 30px; background:url(https://devimages.apple.com.edgekey.net/wwdc/images/wwdc14-schedule-top-gradient-divider.jpg) 0 100% no-repeat; }
#sample-code #content section.news-item { width:670px; padding:37px 0 0; margin:0 auto; }
#sample-code #content section.news-item.last { margin-bottom:50px; }
#sample-code #content section.news-item h3 { font-size:17px; line-height:22px; }
#sample-code #content section.news-item p { margin-bottom:0; padding-right:40px; }
#sample-code #content section.news-item .left { float:left; margin-left:-128px; font-size:13px; }
#sample-code #content section.news-item.mon .left { margin-left:-122px; }
#sample-code #content section.news-item.tue .left { margin-left:-124px; }
#sample-code #content section.news-item.wed .left { margin-left:-143px; }
#sample-code #content section.news-item.thu .left { margin-left:-131px; }
#sample-code #content section.news-item.fri .left { margin-left:-110px; }
#sample-code #content section.news-item span { font-size:12px; color:#999; }
#sample-code #content section.news-item ul.links.small { margin-top:2px; padding-bottom:0; }
#sample-code #content { padding-bottom:40px; }

#videos-other #content .hero { width:855px; margin:0 auto; padding-bottom:100px; border:1px solid #ddd !important; text-align:center; }
#videos-other #content .hero h1 { font-size:21px; font-weight:normal; }
#videos-other #content .hero a { font-size:21px; }
#videos-other #content .hero img { margin-bottom:30px; }
#videos-other #content p.sosumi { width:740px; margin:20px auto; text-align:center; font-size:14px !important; }

‘defg_1https://www.apple.com/metrics/scripts/s_code_h.jsO+bplist00‘ghX$versionX$objectsY$archiverT$top Ü†Ø#)*0123KLMNOPQRSTUVWXYZ[\]`abU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_1https://www.apple.com/metrics/scripts/s_code_h.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫€Xè™’ »”456@JWNS.keysZNS.objects©789:;<=>?Ä	Ä
ÄÄÄÄÄÄÄ©ABCDEFGHIÄÄÄÄÄÄÄÄÄÄWExpires\Content-TypeTVarySX-NTDate_Content-Encoding^Content-Length]Cache-ControlZConnection_Mon, 13 Apr 2015 01:58:20 GMT_application/x-javascript_Accept-EncodingQS_Mon, 13 Apr 2015 01:53:33 GMTTgzipU24700[max-age=287Zkeep-alive“+,^_\NSDictionary¢^/ˇˇˇˇˇˇˇˇ_application/x-javascript“+,cd_NSHTTPURLResponse£ef/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ij_WebResourceResponseÄ    # - 2 7 Y _ z } Å Ñ á ä é ë ò õ û ° § ß © ´ ≠ Ø ± ≤ ¥ ∂ ∏ ∫ º æ ¿ « œ € › ﬂ ·%.47@IKMT\gqsuwy{}ÅÉçèëìïóôõùü°©∂ªøƒ◊ÊÙˇ:LNnsyÖêï¢•Æ…Œ‚Ê˙3             k              5O Æfunction isTouchAvailable(){return !!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof window.DocumentTouch)
}if(typeof(AC)==="object"&&typeof(AC.onDOMReady)==="function"&&typeof(AC.Element)==="object"&&typeof(AC.Storage)==="object"){AC.onDOMReady(function(){function f(h,k){function i(l){AC.Storage.setItem("ac-storage-s_nav",l,"0")
}if(isTouchAvailable()===true){var g;AC.Element.addEventListener(h,"touchstart",function(m){g=false;
function l(o){g=true}function n(o){AC.Element.removeEventListener(h,"touchmove",l);
AC.Element.removeEventListener(h,"touchend",n);if(!g){i(k)}}AC.Element.addEventListener(h,"touchmove",l);
AC.Element.addEventListener(h,"touchend",n)})}else{AC.Element.addEventListener(h,"mouseup",function(){i(k)
})}}var d=AC.Element.selectAll("#globalheader a");d.forEach(function(g){f(g,"global nav")
});var c=AC.Element.selectAll("#productheader a");c=c.concat(AC.Element.selectAll(".localnav a"));
c.forEach(function(g){f(g,"product nav")});var e=AC.Element.selectAll("#buystrip a");
e=e.concat(AC.Element.selectAll(".buystrip a"));e.forEach(function(g){f(g,"buy strip")
});var b=AC.Element.selectAll("#globalfooter a");b.forEach(function(g){f(g,"global footer")
});var a=AC.Element.selectAll(".productbrowser ul li a");a.forEach(function(g){f(g,"product browser")
})})}if(document.location.search&&s_account){var dls=document.location.search;if(dls.indexOf("?cid=AOS-")>-1||dls.indexOf("&cid=AOS-")>-1){s_account+=",applestoreWW"
}}var s=s_gi(s_account);if(navigator&&navigator.loadPurpose&&navigator.loadPurpose=="preview"){s.t=new Function("return ''")
}s._isSafari=false;if(s.u.toLowerCase().indexOf("webkit")>-1){if(s.u.toLowerCase().indexOf("safari")>-1&&s.u.toLowerCase().indexOf("chrome")<0){s._isSafari=true
}}function safariHandler(a){if(s.lt(a.href)){a.addEventListener("mouseup",function(c){if(((c.which)&&(c.which==1))||((c.button)&&(c.button==1))){var d=c.currentTarget.href,b=s.lt(d);
if(b=="d"){if(d.match(/\.rss|\.xml/)){s.eVar16=s.prop16="sign ups"}else{s.eVar11=AC.Tracking.pageName()+" - "+d.substring(d.lastIndexOf("/")+1,d.length);
s.eVar11=s.eVar11.toLowerCase();s.eVar16=s.prop16="Downloads";s.events=s.apl(s.events,"event5",",",1)
}s.linkTrackVars="prop16,eVar16,eVar11,events";s.linkTrackEvents="event5"}s.linkTrackVars="None";
s.linkTrackEvents="None"}},false)}}s.currencyCode="USD";if(window.location.hostname.indexOf(".com.cn")>-1){s.fpCookieDomainPeriods="3"
}s.trackDownloadLinks=true;s.trackExternalLinks=true;s.trackInlineStats=true;s.useForcedLinkTracking=true;
s.forcedLinkTrackingTimeout=100;s.linkDownloadFileTypes="zip,wav,mp3,doc,pdf,xls,dmg,sit,pkg,exe,mov,m4a,rss,xml,extz,safariextz";
s.linkInternalFilters="javascript:,apple.com";s.linkLeaveQueryString=false;s.linkTrackVars="campaign";
s.linkTrackEvents="None";s.loadModule("Media");s.Media.autoTrack=false;s.Media.trackVars="prop13,hier1";
s.Media.trackEvents="None";s.Media.trackWhilePlaying=true;s.Media.trackMilestones="10,50,90";
s.Media.monitor=function(d,g){if(g.event=="CLOSE"){if(g.percent>="99"){d.Media.trackVars="prop13,prop16,eVar16";
d.prop13="v@e: "+g.name;d.eVar16=d.prop16="video ends";d.Media.track(g.name);d.prop13=d.prop16=d.eVar16=""
}if(g.percent<"99"){var b=d.events,a=d.prop13,h=d.prop16,f=d.prop4,c=d.Media.trackVars,e=d.Media.trackEvents;
d.events=d.prop13=d.prop16=d.eVar16=d.prop4="";d.Media.trackVars=d.Media.trackEvents="";
d.Media.track(g.name);d.events=b;d.prop13=a;d.prop16=d.eVar16=h;d.prop4=f;d.Media.trackVars=c;
d.Media.trackEvents=e}}};s.eVar54=document.location.href;s.eVar49=document.referrer;
var s_vi_vnum=s.c_r("s_vnum_n2_us");if(s_vi_vnum){var date=new Date();date.setTime(date.getTime()+63072000000);
var expires="; expires="+date.toGMTString();document.cookie="s_vnum_n2_us="+s_vi_vnum+expires+"; domain=apple.com; path=/"
}var s_vi=s.c_r("s_vi");if(s_vi){var date=new Date();date.setTime(date.getTime()+63072000000);
var expires="; expires="+date.toGMTString();document.cookie="s_vi="+s_vi+expires+"; domain=apple.com; path=/"
}var s_pv=s.c_r("s_pv");if(s_pv){var expires=";expires=Thu, 01 Jan 1970 00:00:01 GMT";
document.cookie="s_pv="+s_pv+expires+"; domain=apple.com; path=/"}function s_getObjectID(b){var a=b.href;
return a}s.getObjectID=s_getObjectID;function QTCheck(){if(AC&&typeof(AC.Detector)!="undefined"&&typeof(AC.Detector.getQTVersion)!="undefined"){return(AC.Detector.isMobile()||AC.Detector.isiPad())?"mobile":((AC.Detector.getQTVersion()=="0")?"no quicktime":("quicktime "+AC.Detector.getQTVersion().split(/\./)[0]+".x"))
}return"quicktime not detected"}if(typeof(iTunesDetected)==="function"){var activeX=document.createElement("object");
activeX.setAttribute("width",1);activeX.setAttribute("height",1);activeX.id="iTunesDetectorIE";
activeX.setAttribute("classid","clsid:D719897A-B07A-4C0C-AEA9-9B663A28DFCB");document.getElementsByTagName("head")[0].appendChild(activeX);
s.prop12=iTunesDetected()?"itunes":"no itunes"}if(typeof(AC)=="undefined"){AC={}
}if(!AC.Tracking){AC.Tracking={}}AC.Tracking._pageName=null;AC.Tracking.pageName=function(){if(AC.Tracking._pageName){return AC.Tracking._pageName
}var c=document.getElementsByTagName("meta");for(var a=0,b;(b=c[a]);a++){if("omni_page"===b.getAttribute("name")){AC.Tracking._pageName=b.getAttribute("content").toLowerCase();
return AC.Tracking._pageName}}return AC.Tracking._pageNameForTitle_atHost_andPath(document.title,window.location.hostname,window.location.pathname)
};AC.Tracking._pageNameForTitle_atHost_andPath=function(d,c,b){var a=d.toLowerCase();
if(/\s-\s/.test(a)){a=a.replace(/\s*-?\s*(apple|„Ç¢„ÉÉ„Éó„É´|Ïï†ÌîåÏª¥Ìì®ÌÑ∞ÏΩîÎ¶¨ÏïÑ|ËòãÊûú|ËòãÊûúÈõªËÖ¶|apple‰∏≠ÂõΩ|ËãπÊûú‰∏≠ÂõΩ)\s+[^-]*-?\s*/,"")
}if(!b.match(/^\/(ws|pr|g5|go|ta|wm)\//)){b=b.replace(/^\/(\w{2}|befr|benl|chfr|chde|asia|lae)(?=\/)/,"")
}if((b.match(/\//g).length<=2)&&!b.match(/support/)&&!c.match(/support/)&&!c.match(/selfsolve/)&&(!!b.match(/index\.html/)||!b.match(/\.html/))){a+=" - index"
}if(/\/pr\//.test(b)){a="pr - "+a}return a};s.usePlugins=true;function s_doPlugins(r){r.tcall=(typeof(r.linkType)=="undefined")?true:false;
if(r.pageName){var f=escape(r.pageName);f=f.replace(/(%u2018|%u2019|%u02BC|%u02BD)/g,"%27");
f=f.replace(/(%u201C|%u201D|%E2%80%9C|%E2%80%9D)/g,"%22");f=f.replace(/(%09|%0A|%0D)/g,"");
r.pageName=unescape(f)}if(!r.d.URL.match(/(apple.com\/retail\/.+\/map\/|apple.com\/buy\/locator\/|discussions.apple.com|discussionsjapan.apple.com)/g)){r.setupDynamicObjectIDs()
}if(window.devicePixelRatio>=2){r.prop5=navigator.platform+" 2x"}else{r.prop5=navigator.platform
}tempVar1=r.getQueryParam("ref");if(tempVar1&&r.tcall){r.referrer=tempVar1}else{if(tempVar1&&!r.tcall){r.referrer=""
}}r.server=r.getQueryParam("alias");if(!r.server){r.server="new approach legacy"
}if(!r.campaign){r.campaign=r.getQueryParam("cid");r.setClickMapEmail("Email_PageName,Email_OID","Email_OT");
if(r.campaign.match(/OAS-.+?-DOMAINS-/i)){var d="http://"+r.campaign.replace(/OAS-.+?-DOMAINS-/i,"");
r.referrer=(r.tcall)?d:""}}r.campaign=r.getValOnce(r.campaign,"s_campaign",0);r.prop6=(!r.prop6)?('D="'+r.getQueryParam("cp").toLowerCase()+': "+pageName'):r.prop6;
r.prop11=r.getQueryParam("sr");if(!r.d.URL.match(/\/channel\//)&&!r.prop11&&r.c_r("s_3p")){r.prop11=r.c_r("s_3p");
r.c_w("s_3p","",-1)}r.eVar7=(!r.eVar7)?r.getQueryParam("aid"):"";r.eVar7=r.getValOnce(r.eVar7,"s_var_7",0);
if(r.eVar2){r.events=r.apl(r.events,"event6",",",1)}if((!r.d.URL.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)&&!r.d.URL.match(/apple.com\/search\//))&&(r.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search\//)||r.d.referrer.match(/apple.com\/search\//))){r.eVar2=(r.d.referrer.match(/\/support\//))?"acs: ":((r.d.referrer.match(/\/store\//)?"aos: ":"www: "));
if(r.d.referrer.match(/apple.com\/(\w{2}|befr|benl|chfr|chde|asia|lae)\/search/)){r.eVar2+=r.getQueryParam("q","",r.d.referrer).replace(/\+/g," ");
var F=r.d.referrer.match(/\/(\w{2}|befr|benl|chfr|chde|asia|lae)\//i);r.eVar2+=" ("+F[0].replace(/\//g,"")+")"
}else{r.eVar2+=r.getQueryParam("q","",r.d.referrer).replace(/\+/g," ")+" (us)"}}if(r.prop11=="em"&&r.tcall){r.referrer="imap://chatterbox.com"
}if(r.prop11=="app"&&r.tcall){r.referrer="file://fromApp"}if(document.referrer&&document.referrer.indexOf("apple.com/startpage/")>-1&&r.tcall){r.referrer="news://startpage.com";
r._1_referrer=1}if(!r.prop17){var a=r.getPercentPageViewed(r.pageName);if(a&&a.length>=5&&typeof(a[1])!="undefined"){r.prop14=a[0];
r.prop17=a[1]+":"+a[2];r.prop28=Math.round(a[3]/10)*10;r.eVar17=r.eVar18="";if(a[4]){var x=a[4].split(/\|/g),v="";
for(var y=0;y<x.length;y++){if(y!=(x.length-1)){var o=x[y+1].split(/:/)[0]-x[y].split(/:/)[0];
if(o>100){v+=x[y].split(/:/)[1];var B=o/100;while(B>1){v+="0";B--}}else{v+=x[y].split(/:/)[1]
}}else{v+=x[y].split(/:/)[1]}}if(v.length>254){r.eVar17=v.substring(0,254);r.eVar18=v.substring(255,v.length)
}else{r.eVar17=v}}if(!r.tcall){r.linkTrackVars="prop17,prop28"}}}r.prop38=r.tcall?r.deviceOrientationChanges(true):"";
r.prop32=r.eVar32=r.getQueryParam("psid");if(r.prop32||r.c_r("s_sid")){var A=new Date(),h=A.getTime();
A.setTime(h+630720000);r.prop32?r.c_w("s_psid",r.prop32,A):r.c_w("s_psid",r.c_r("s_sid"),A);
r.c_w("s_sid","",-1)}if(!r.prop32&&!r.c_r("s_pathLength")){r.prop32=r.c_r("s_psid")
}if(!r.prop20){var D=navigator.userAgent.match(/foh:r\d{3}/i);r.prop20=D?("store kiosk:"+D.toString().replace(/foh:/i,"")):"non-store kiosk"
}r.linkLeaveQueryString=true;var k=r.downloadLinkHandler();if(k){if(k.match(/\.rss|\.xml/)){r.eVar16=r.prop16="sign ups"
}else{r.eVar11=AC.Tracking.pageName()+" - "+k.substring(k.lastIndexOf("/")+1,k.length);
r.eVar16=r.prop16="downloads";r.events=r.apl(r.events,"event5",",",1)}r.linkTrackVars="prop16,eVar16,eVar11,events";
r.linkTrackEvents="event5"}r.linkLeaveQueryString=false;if(typeof(Media)!="undefined"&&r.tcall){r.prop18=QTCheck()
}function C(){if(r.u.match(/windows/i)){r.prop9="windows";return}if(r.u.match(/(kindle|silk-accelerated)/i)){if(r.u.match(/(kindle fire|silk-accelerated)/i)){r.prop9="kindle fire"
}else{r.prop9="kindle"}return}if(r.u.match(/(iphone|ipod|ipad)/i)){var i=r.u.match(/OS [0-9_]+/i);
r.prop9="i"+i[0].replace(/_/g,".");return}if(r.u.match(/android/i)){r.prop9=r.u.match(/android [0-9]\.?[0-9]?\.?[0-9]?/i);
return}if(r.u.match(/webos\/[0-9\.]+/i)){var i=r.u.match(/webos\/[0-9]\.?[0-9]?\.?[0-9]?/i);
r.prop9=i[0].replace(/webos\//i,"web os ");return}if(r.u.match(/rim tablet os [0-9\.]+/i)){var i=r.u.match(/rim tablet os [0-9]\.?[0-9]?\.?[0-9]?/i);
r.prop9=i[0].replace(/rim tablet os/i,"rim os ");return}if((r.u.match(/firefox\/(\d{2}||[3-9])/i)||r.u.match(/AppleWebKit\//))&&r.u.match(/Mac OS X [0-9_\.]+/)){var G=r.u.match(/[0-9_\.]+/g);
G=G[1].split(/_|\./);r.prop9=G[0]+"."+G[1]+".x";return}var e=r.u.match(/AppleWebKit\/\d*/i)&&r.u.match(/AppleWebKit\/\d*/i).toString().replace(/AppleWebKit\//i,"");
if(e>522){r.prop9="10.5.x"}else{if(e>400){r.prop9="10.4.x"}else{if(e>99){r.prop9="10.3.x"
}else{if(e>80){r.prop9="10.2.x"}else{r.prop9="mac unknown or non-safari"}}}}}C();
if(r.pageName&&r.pageName.match(/feedback - thank you/)){r.prop16=r.eVar16="feedback"
}if(r.prop13&&(r.tcall||r.linkType=="o"||r.linkType=="")){if(r.pageName&&!r.pageName.match(/movie trailers -/)){if(r.prop13.match(/(v@s|v@r)/i)){r.prop16=r.eVar16="video plays";
r.events="event2";if(!r.tcall){r.linkTrackEvents+=",event2";r.linkTrackVars+=",events,prop16,eVar16"
}}if(r.prop13.match(/v@e/i)){r.prop16=r.eVar16="video ends";if(!r.tcall){r.linkTrackEvents="";
r.linkTrackVars+=",prop16,eVar16"}}}}r.linkLeaveQueryString=true;var z=r.linkHandler("itms.apple.com|itunes.apple.com","e");
var k=r.linkHandler("ax.itunes.apple.com/WebObjects/MZStoreServices.woa/ws/RSS/|rss.support.apple.com","o");
if(k){r.eVar16=r.prop16="sign ups";r.linkTrackVars="eVar16,prop16"}r.linkLeaveQueryString=false;
if(r.tcall){var E,t=window.location.pathname,q=false,w=true;if(r.c_r("iTunesPresent")||(r.prop12&&r.prop12=="iTunes")){E=E?E+"it,":"it,"
}if(r.c_r("hasMobileMe")){E=E?E+"mm,":"mm,"}if(r.c_r("DefaultAppleID")||(r.pageName&&r.pageName.match(/iforgot - cr or email option/))){E=E?E+"aid,":"aid,"
}if(r.c_r("trackStartpage")){E=E?E+"sp,":"sp,"}if(r.prop11){if(r.prop11.match("3p")){E=E?E+"3p,":"3p,"
}}if(r.pageName){if(r.pageName.match(/one to one - index/)){E=E?E+"o2o,":"o2o,"
}}if(t.match("/welcomescreen/")){var p;if(p=t.match("ilife.*")){p="il"+p.toString().match("[0-9]+")+",";
E=E?E+p:p}else{if(p=t.match("iwork.*")){p="iwk"+p.toString().match("[0-9]+")+",";
E=E?E+p:p}else{if(p=t.match("itunes.*")){p="it"+p.toString().match("[0-9]+")+",";
E=E?E+p:p}else{if(p=t.match("aperture.*")){p="ap"+p.toString().match("[0-9]+")+",";
E=E?E+p:p}}}}}if(r.getQueryParam("sr")&&r.getQueryParam("vr")){var g=r.getQueryParam("vr");
g=g.substring(0,g.indexOf("-"))+",";E=E?E+g:g}if(typeof(E)!="undefined"){E=E.substring(0,E.length-1).toLowerCase();
E=E.split(",");if(r.c_r("s_membership")){var u=r.c_r("s_membership").split(/:/);
u.splice(0,1);for(y=0;y<E.length;y++){for(j=0;j<u.length;j++){if(u[j]==E[y]){w=false
}}if(w){u[u.length]=E[y];q=true}w=true}if(q){E=u.length+":"+u.toString().replace(/,/g,":");
var A=new Date(),h=A.getTime();A.setTime(h+63072000);r.c_w("s_membership",E,A);
r.prop31=E}}else{E=E.length+":"+E.toString().replace(/,/g,":");var A=new Date(),h=A.getTime();
A.setTime(h+63072000);r.c_w("s_membership",E,A);r.prop31=E}}if(!r.prop31&&!r.c_r("s_pathLength")){r.prop31=r.c_r("s_membership")
}}(function c(){function e(){var I=window.location.host;var H=document.referrer;
var J="";if(!H){J="direct entry"}else{if(H.split("?")[0].indexOf(I)===-1){J="third party"
}}return J}var G=e();if(G&&G!==""){r.prop25=G}if(AC&&typeof AC.Storage==="object"&&r.tcall&&!r.prop25){var i;
i=AC.Storage.getItem("ac-storage-s_nav");if(i){AC.Storage.removeItem("ac-storage-s_nav");
r.prop25=i}}if(r.tcall){if(document.referrer.match(/(downloads|epp|store|storeint)\.apple\.com/)){r.prop25="aos nav"
}}if(!r.prop25){r.prop25="other nav or none"}})();if(((r.pageName&&r.prop14&&r.pageName.toLowerCase()!=r.prop14.toLowerCase())||!r.prop14)&&r.tcall){var n,l=r.c_r("s_pathLength"),b=(l.indexOf(",")>-1)?l.split(","):[],A=new Date(),h=A.getTime();
A.setTime(h+30*60*1000);if(r.channel){n=r.channel.substring(r.channel.indexOf(".")+1,r.channel.length);
n=n.substring(n.indexOf(".")+1,n.length)}else{n="no channel"}if(b.length!=0&&b.toString().indexOf(n+"=")>-1){for(y=0;
y<b.length;y++){if(b[y].toString().indexOf(n+"=")>-1){var m=b[y].split("=");++m[1];
b[y]=m[0]+"="+m[1];r.prop48=m[1]}}r.c_w("s_pathLength",b,A)}else{var m=l+n+"="+1+",";
r.c_w("s_pathLength",m,A);r.prop48="1"}}if(r.tcall){r.prop50=r.getVisitNumPerChannel()
}r.hier1=r.channel?r.channel:"";r.linkTrackVars=r.apl(r.linkTrackVars,"hier1",",",1);
r.prop49="D=s_vi";r.prop4=r.prop4?r.prop4:"D=g";r.manageVars("lowercaseVars","purchaseID,pageType,events,products,transactionID",2)
}s.doPlugins=s_doPlugins;s.getVisitNumPerChannel=function(){var p=this,y=new Date(),f,d,w=0,b=false,h=false,n="no channel",a=y.getTime(),g=a+30*60*1000,q=a+1825*24*60*60*1000,v=p.wd.location.pathname,m="us",l="",A=new Array("no channel","aos","homepage","support","itunes","myappleid.iforgot","trailers","ip","discussions","myappleid","quicktime","ipad","ipadmini","legal","mac","macosx","safari","ipod","developer","retailstore","macbookair","retail.concierge","macosx.downloads","ipodtouch","ios","macbookpro","webapps","search","retail.onetoone","icloud","imac","macmini","ilife","other","findouthow","jobs","mobileme","whymac","macappstore","hotnews","redirects","ipodnano","education","iwork","ipodclassic","macpro","contact","appletv","finalcutstudio","pr","productpromotions","ipodshuffle","airportexpress","environment","aperture","batteries","mac.facetime","productpromotions.rebate","timecapsule","displays","airportextreme","logicstudio","buy","about","accessibility","mightymouse","thunderbolt","html5","remotedesktop","magictrackpad","keyboard","business","retail.jointventure","itunesappstore","pro","science","logicexpress","channelprograms","startpage","advertising","financialservices","giftcards","xsan","server","battery","companystore","ali","supplier","beatles","usergroups","webbadges","procurement","802.11n","retail","itunesnews","ibooks-author","osx","apple-events");
if(p.wd.location.hostname.match(/apple.com.cn/)){m="cn"}else{if(!v.match(/^\/(ws|pr|g5|go|ta|wm|kb)\//)){if(v.match(/^\/(\w{2}|befr|benl|chfr|chde|asia|lae)(?=\/)/)){m=v.split("/")[1].toLowerCase()
}}}var z="s_vnum_n2_"+m,r="s_invisit_n2_"+m;if(p.channel){n=p.channel.substring(p.channel.indexOf(".")+1,p.channel.length);
n=n.substring(n.indexOf(".")+1,n.length)}function o(e){for(var c=0;c<=A.length;
c++){if(e==A[c]){return c+1}}}l=o(n);if(!l){l="0"}p.c_w("s_vnum_"+m,"",63072000);
p.c_w("s_invisit_"+m,"",63072000);p.c_w("s_invisit_n_"+m,"",63072000);p.c_w("s_vnum_n_"+m,"",63072000);
f=p.c_r(z);d=p.c_r(r);if(l){if(d){var x=d.split(/,/);for(var u=0,B;(B=x[u]);u++){if(l.toString()==B){b=true;
break}}}if(!b){var k=f.split(/,/);for(var u=0,B;(B=k[u]);u++){var t=B.split(/\|/);
if(l.toString()==t[0]){w=parseInt(t[1])+1;k[u]=t[0]+"|"+w;h=true;break}}y.setTime(g);
p.c_w(r,(d?(d+","+l):l),y);y.setTime(q);if(h){p.c_w(z,k.toString(),y);return n+"="+w
}else{(k.toString())?(k.push(l+"|"+1)):(k=l+"|"+1);p.c_w(z,k.toString(),y);return n+"="+1
}}}};s.handlePPVevents=new Function("","if(!s.getPPVid)return;var dh=Math.max(Math.max(s.d.body.scrollHeight,s.d.documentElement.scrollHeight),Math.max(s.d.body.offsetHeight,s.d.documentElement.offsetHeight),Math.max(s.d.body.clientHeight,s.d.documentElement.clientHeight)),vph=s.wd.innerHeight||(s.d.documentElement.clientHeight||s.d.body.clientHeight),st=s.wd.pageYOffset||(s.wd.document.documentElement.scrollTop||s.wd.document.body.scrollTop),vh=st+vph,pv=Math.min(Math.round(vh/dh*100),100),c=s.c_r('s_ppv'),a=(c.indexOf(',')>-1)?c.split(',',5):[],id=(a.length>0)?(a[0]):escape(s.getPPVid),cv=(a.length>1)?parseInt(a[1]):(0),p0=(a.length>2)?parseInt(a[2]):(pv),cy=(a.length>3)?parseInt(a[3]):(0),pt=s._ct,ph=s._ch,t=new Date;t.setTime(t.getTime()+1800000);s._ct=new Date().getTime();s._ch=vh;var sa='',td=Math.round((s._ct-pt)/1000),hd=Math.abs(s._ch-ph),lowerBound,upperBound;if(hd&&td){lowerBound=Math.ceil(st/100)*100;upperBound=Math.ceil(s._ch/100)*100;while(lowerBound<=upperBound){if(lowerBound!=0){var value=lowerBound+':'+(td>10?'>':td);if(s.pxViewedArray.length==0){s.pxViewedArray.push(value);}else if(s.pxViewedArray.toString().indexOf(lowerBound)==-1){s.pxViewedArray.push(value);}else{for(i=0;i<s.pxViewedArray.length;i++){var av=s.pxViewedArray[i].split(':');if(lowerBound==av[0]){if(av[1]!='>'){var totalTime=Math.floor((Number(av[1])+Number(td))*100)/100;if(totalTime>10){totalTime='>';}s.pxViewedArray[i]=av[0]+':'+totalTime;}break;}}}}lowerBound=lowerBound+100;s.pxViewedArray.sort(function(a,b){return parseInt(a)-parseInt(b)});}}sa=s.pxViewedArray.toString().replace(/,/g,'|');cn=(pv>0)?(id+','+((pv>cv)?pv:cv)+','+p0+','+((vh>cy)?vh:cy)+','+((sa)?sa:'')):'';s.c_w('s_ppv',cn,t);");
s.getPercentPageViewed=new Function("pid","pid=pid?pid:'-';var s=this,ist=!s.getPPVid?true:false,t=new Date;t.setTime(t.getTime()+1800000);if(typeof(s.linkType)!='undefined'&&s.linkType!='e')return'';var v=s.c_r('s_ppv'),a=(v.indexOf(',')>-1)?v.split(',',5):[];if(a.length<5){for(var i=4;i>0;i--){a[i]=(i<a.length)?(a[i-1]):('');}a[0]='';}a[0]=unescape(a[0]);s.getPPVpid=pid;s.c_w('s_ppv',escape(pid),t);s.pxViewedArray=[];if(ist){s.getPPVid=(pid)?(pid):(s.pageName?s.pageName:document.location.href);s.c_w('s_ppv',escape(s.getPPVid),0);if(s.wd.addEventListener){s.wd.addEventListener('load',s.handlePPVevents,false);s.wd.addEventListener('scroll',s.handlePPVevents,false);s.wd.addEventListener('resize',s.handlePPVevents,false);}else if(s.wd.attachEvent){s.wd.attachEvent('onload',s.handlePPVevents);s.wd.attachEvent('onscroll',s.handlePPVevents);s.wd.attachEvent('onresize',s.handlePPVevents);}}return(pid!='-')?(a):(a[1]);");
s.p_oc=new Function("evt","var o=s.wd.orientation,ot=(Math.abs(o)==90)?'l':'p',cv,v;s.lc=(evt.type=='load')?s.lc+1:s.lc;if(s.lc==0)return;if(typeof(o)!='undefined'){ot=(evt.type=='load')?ot:ot+':'+s.c_r('s_orientationHeight');cv=s.c_r('s_orientation');v=cv?cv+=','+ot:ot;s.c_w('s_orientation',v)}");
s.p_och=new Function("","var dh=Math.max(Math.max(s.d.body.scrollHeight,s.d.documentElement.scrollHeight),Math.max(s.d.body.offsetHeight,s.d.documentElement.offsetHeight),Math.max(s.d.body.clientHeight,s.d.documentElement.clientHeight));vph=s.wd.innerHeight||(s.d.documentElement.clientHeight||s.d.body.clientHeight),st=s.wd.pageYOffset||(s.wd.document.documentElement.scrollTop||s.wd.document.body.scrollTop),vh=st+vph;s.c_w('s_orientationHeight',vh);");
s.deviceOrientationChanges=new Function("ext","var s=this,v;s.lc=0;if(typeof(s.linkType)!='undefined'&&s.linkType!='e')return'';var cv=s.c_r('s_orientation'),cva=(cv.indexOf(',')>-1)?cv.split(','):'';if(cv){if(cva){if(!ext){for(i=1;i<cva.length;i++){cva[i]=cva[i].split(':')[0];}}cva[0]+='@s';cva.push(cva[cva.length-1].split(':')[0]+'@e');v=cva.toString();}else{v=cv+'@s,'+cv+'@e';}}s.c_w('s_orientation','');if(s.wd.addEventListener){s.wd.addEventListener('orientationchange',s.p_oc,false);s.wd.addEventListener('load',s.p_oc,false);s.wd.addEventListener('load',s.p_och,false);s.wd.addEventListener('scroll',s.p_och,false);}return v;");
s.detectRIA=new Function("cn","fp","sp","mfv","msv","sf","cn=cn?cn:'s_ria';msv=msv?msv:2;mfv=mfv?mfv:10;var s=this,sv='',fv=-1,dwi=0,fr='',sr='',w,mt=s.n.mimeTypes,uk=s.c_r(cn),k=s.c_w('s_cc','true',0)?'Y':'N';fk=uk.substring(0,uk.indexOf('|'));sk=uk.substring(uk.indexOf('|')+1,uk.length);if(k=='Y'&&s.p_fo('detectRIA')){if(uk&&!sf){if(fp){s[fp]=fk;}if(sp){s[sp]=sk;}return false;}if(!fk&&fp){if(s.pl&&s.pl.length){if(s.pl['Shockwave Flash 2.0'])fv=2;x=s.pl['Shockwave Flash'];if(x){fv=0;z=x.description;if(z)fv=z.substring(16,z.indexOf('.'));}}else if(navigator.plugins&&navigator.plugins.length){x=navigator.plugins['Shockwave Flash'];if(x){fv=0;z=x.description;if(z)fv=z.substring(16,z.indexOf('.'));}}else if(mt&&mt.length){x=mt['application/x-shockwave-flash'];if(x&&x.enabledPlugin)fv=0;}if(fv<=0)dwi=1;w=s.u.indexOf('Win')!=-1?1:0;if(dwi&&s.isie&&w&&execScript){result=false;for(var i=mfv;i>=3&&result!=true;i--){execScript('on error resume next: result = IsObject(CreateObject(\"ShockwaveFlash.ShockwaveFlash.'+i+'\"))','VBScript');fv=i;}}fr=fv==-1?'Flash Not Detected':fv==0?'Flash Enabled (No Version)':'Flash '+fv;}if(!sk&&sp&&s.apv>=4.1){var tc='try{x=new ActiveXObject(\"AgControl.A'+'gControl\");for(var i=msv;i>0;i--){for(var j=9;j>=0;j--){if(x.is'+'VersionSupported(i+\".\"+j)){sv=i+\".\"+j;break;}}if(sv){break;}'+'}}catch(e){try{x=navigator.plugins[\"Silverlight Plug-In\"];sv=x'+'.description.substring(0,x.description.indexOf(\".\")+2);}catch('+'e){}}';eval(tc);sr=sv==''?'Silverlight Not Detected':'Silverlight '+sv;}if((fr&&fp)||(sr&&sp)){s.c_w(cn,fr+'|'+sr,0);if(fr)s[fp]=fr;if(sr)s[sp]=sr;}}");
s.downloadLinkHandler=new Function("p","var s=this,h=s.p_gh(),n='linkDownloadFileTypes',i,t;if(!h||(s.linkType&&(h||s.linkName)))return '';i=h.indexOf('?');t=s[n];s[n]=p?p:t;if(s.lt(h)=='d')s.linkType='d';else h='';s[n]=t;return h;");
s.linkHandler=new Function("p","t","var s=this,h=s.p_gh(),i,l;t=t?t:'o';if(!h||(s.linkType&&(h||s.linkName)))return '';i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.pt(p,'|','p_gn',h.toLowerCase());if(l){s.linkName=l=='[['?'':l;s.linkType=t;return h;}return '';");
s.p_gn=new Function("t","h","var i=t?t.indexOf('~'):-1,n,x;if(t&&h){n=i<0?'':t.substring(0,i);x=t.substring(i+1);if(h.indexOf(x.toLowerCase())>-1)return n?n:'[[';}return 0;");
s.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");
s.setupDynamicObjectIDs=new Function("var s=this;if(!s.doi){s.doi=1;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.wd.attachEvent)s.wd.attachEvent('onload',s.setOIDs);else if(s.wd.addEventListener)s.wd.addEventListener('load',s.setOIDs,false);else{s.doiol=s.wd.onload;s.wd.onload=s.setOIDs}}s.wd.s_semaphore=1}");
s.setOIDs=new Function("e","var s=s_c_il["+s._in+"],b=s.eh(s.wd,'onload'),o='onclick',x,l,u,c,i,a=new Array;if(s.doiol){if(b)s[b]=s.wd[b];s.doiol(e)}if(s.d.links){for(i=0;i<s.d.links.length;i++){l=s.d.links[i];if(s._isSafari){safariHandler(l);}c=l[o]?''+l[o]:'';b=s.eh(l,o);z=l[b]?''+l[b]:'';u=s.getObjectID(l);if(u&&c.indexOf('s_objectID')<0&&z.indexOf('s_objectID')<0){u=s.repl(u,'\"','');u=s.repl(u,'\\n','').substring(0,97);l.s_oc=l[o];a[u]=a[u]?a[u]+1:1;x='';if(c.indexOf('.t(')>=0||c.indexOf('.tl(')>=0||c.indexOf('s_gs(')>=0)x='var x=\".tl(\";';x+='s_objectID=\"'+u+'_'+a[u]+'\";return this.s_oc?this.s_oc(e):true';if(s.isns&&s.apv>=5)l.setAttribute(o,x);l[o]=new Function('e',x)}}}s.wd.s_semaphore=0;return true");
s.getQueryParam=new Function("p","d","u","var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.location);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v");
s.p_gpv=new Function("k","u","var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v");
s.p_gvf=new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return ''");
s.getValOnce=new Function("v","c","e","var s=this,a=new Date,v=v?v:v='',c=c?c:c='s_gvo',e=e?e:0,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v");
s.setClickMapEmail=new Function("qp","ot","var s=this,v=s.getQueryParam(qp,'~'),d,pn,oid,ot=s.getQueryParam(ot),ot=ot?ot:'A',cv;d=v.indexOf('~');if(!v)return '';if(d>-1){pn=v.substring(0,d);oid=v.substring(d+1);}cv='&pid='+s.ape(s.fl(pn,255))+'&pidt=1&oid='+s.ape(s.fl(oid,100))+'&oidt=1&ot='+ot+'&oi=1';s.sq(cv);");
s.getAndPersistValue=new Function("v","c","e","var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)s.c_w(c,v,e?a:0);return s.c_r(c);");
s.__se=new Function("var l={'~':'tl:[\\'','^': 'kw:[\\'','%': 'ahoo','|': '\\'],','>': '\\']}','*': '.com','$': 'search',';':'query','#':'land','`':'oogle','+':'http://www','<':'keyword'};var f=this.___se+'';var g='';for(var i=0;i<f.length;i++){if(l[f.substring(i,i+1)]&&typeof l[f.substring(i,i+1)]!='undefined'){g+=l[f.substring(i,i+1)];}else{g+=f.substring(i,i+1);}}return eval('('+g+')');");
s.___se="{}";s.isEntry=new Function("var s=this;var l=s.linkInternalFilters,r=s.referrer||typeof s.referrer!='undefined'?s.referrer:document.referrer,p=l.indexOf(','),b=0,v='';if(!r){return 1;}while(p=l.indexOf(',')){v=p>-1?l.substring(b,p):l;if(v=='.'||r.indexOf(v)>-1){return 0;}if(p==-1){break;}b=p+1;l=l.substring(b,l.length);}return 1;");
s.p_fo=new Function("n","var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]=new Object;return 1;}else {return 0;}");
s.manageVars=new Function("c","l","f","var s=this,vl,la,vla;l=l?l:'';f=f?f:1 ;if(!s[c])return false;vl='pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID';for(var n=1;n<76;n++){vl+=',prop'+n+',eVar'+n+',hier'+n;}if(l&&(f==1||f==2)){if(f==1){vl=l;}if(f==2){la=s.split(l,',');vla=s.split(vl,',');vl='';for(x in la){for(y in vla){if(la[x]==vla[y]){vla[y]='';}}}for(y in vla){vl+=vla[y]?','+vla[y]:'';}}s.pt(vl,',',c,0);return true;}else if(l==''&&f==1){s.pt(vl,',',c,0);return true;}else{return false;}");
s.clearVars=new Function("t","var s=this;s[t]='';");s.lowercaseVars=new Function("t","var s=this;if(s[t]&&t!='events'){s[t]=s[t].toString();if(s[t].indexOf('D=')!=0){s[t]=s[t].toLowerCase();}}");
s.join=new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;");
s.p_fo=new Function("n","var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]=new Object;return 1;}else {return 0;}");
s.p_gh=new Function("var s=this;if(!s.eo&&!s.lnk)return '';var o=s.eo?s.eo:s.lnk,y=s.ot(o),n=s.oid(o),x=o.s_oidt;if(s.eo&&o==s.eo){while(o&&!n&&y!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(!o)return '';y=s.ot(o);n=s.oid(o);x=o.s_oidt}}return o.href?o.href:'';");
s.apl=new Function("L","v","d","u","var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L");
s.repl=new Function("x","o","n","var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x");
s.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a");
s.vpr=new Function("vs","v","if(typeof(v)!='undefined'){var s=this; eval('s.'+vs+'=\"'+v+'\"')}");
s.trackingServer="metrics.apple.com";s.trackingServerSecure="securemetrics.apple.com";
s.dc=112;s.m_Media_c="var m=s.m_i('Media');m.cn=function(n){var m=this;return m.s.rep(m.s.rep(m.s.rep(n,\"\\n\",''),\"\\r\",''),'--**--','')};m.open=function(n,l,p,b){var m=this,i=new Object,tm=new Date,a='',x;n=m.cn(n);l=parseInt(l);if(!l)l=1;if(n&&p){if(!m.l)m.l=new Object;if(m.l[n])m.close(n);if(b&&b.id)a=b.id;for (x in m.l)if(m.l[x]&&m.l[x].a==a)m.close(m.l[x].n);i.n=n;i.l=l;i.p=m.cn(p);i.a=a;i.t=0;i.ts=0;i.s=Math.floor(tm.getTime()/1000);i.lx=0;i.lt=i.s;i.lo=0;i.e='';i.to=-1;m.l[n]=i}};m.close=function(n){this.e(n,0,-1)};m.play=function(n,o){var m=this,i;i=m.e(n,1,o);i.m=new Function('var m=s_c_il['+m._in+'],i;if(m.l){i=m.l[\"'+m.s.rep(i.n,'\"','\\\\\"')+'\"];if(i){if(i.lx==1)m.e(i.n,3,-1);i.mt=setTimeout(i.m,5000)}}');i.m()};m.stop=function(n,o){this.e(n,2,o)};m.track=function(n){var m=this;if (m.trackWhilePlaying) {m.e(n,4,-1)}};m.e=function(n,x,o){var m=this,i,tm=new Date,ts=Math.floor(tm.getTime()/1000),ti=m.trackSeconds,tp=m.trackMilestones,z=new Array,j,d='--**--',t=1,b,v=m.trackVars,e=m.trackEvents,pe='media',pev3,w=new Object,vo=new Object;n=m.cn(n);i=n&&m.l&&m.l[n]?m.l[n]:0;if(i){w.name=n;w.length=i.l;w.playerName=i.p;if(i.to<0)w.event=\"OPEN\";else w.event=(x==1?\"PLAY\":(x==2?\"STOP\":(x==3?\"MONITOR\":\"CLOSE\")));w.openTime=new Date();w.openTime.setTime(i.s*1000);if(x>2||(x!=i.lx&&(x!=2||i.lx==1))) {b=\"Media.\"+name;pev3 = m.s.ape(i.n)+d+i.l+d+m.s.ape(i.p)+d;if(x){if(o<0&&i.lt>0){o=(ts-i.lt)+i.lo;o=o<i.l?o:i.l-1}o=Math.floor(o);if(x>=2&&i.lo<o){i.t+=o-i.lo;i.ts+=o-i.lo;}if(x<=2){i.e+=(x==1?'S':'E')+o;i.lx=x;}else if(i.lx!=1)m.e(n,1,o);i.lt=ts;i.lo=o;pev3+=i.t+d+i.s+d+(m.trackWhilePlaying&&i.to>=0?'L'+i.to:'')+i.e+(x!=2?(m.trackWhilePlaying?'L':'E')+o:'');if(m.trackWhilePlaying){b=0;pe='m_o';if(x!=4){w.offset=o;w.percent=((w.offset+1)/w.length)*100;w.percent=w.percent>100?100:Math.floor(w.percent);w.timePlayed=i.t;if(m.monitor)m.monitor(m.s,w)}if(i.to<0)pe='m_s';else if(x==4)pe='m_i';else{t=0;v=e='None';ti=ti?parseInt(ti):0;z=tp?m.s.sp(tp,','):0;if(ti&&i.ts>=ti)t=1;else if(z){if(o<i.to)i.to=o;else{for(j=0;j<z.length;j++){ti=z[j]?parseInt(z[j]):0;if(ti&&((i.to+1)/i.l<ti/100)&&((o+1)/i.l>=ti/100)){t=1;j=z.length}}}}}}}else{m.e(n,2,-1);if(m.trackWhilePlaying){w.offset=i.lo;w.percent=((w.offset+1)/w.length)*100;w.percent=w.percent>100?100:Math.floor(w.percent);w.timePlayed=i.t;if(m.monitor)m.monitor(m.s,w)}m.l[n]=0;if(i.e){pev3+=i.t+d+i.s+d+(m.trackWhilePlaying&&i.to>=0?'L'+i.to:'')+i.e;if(m.trackWhilePlaying){v=e='None';pe='m_o'}else{t=0;m.s.fbr(b)}}else t=0;b=0}if(t){vo.linkTrackVars=v;vo.linkTrackEvents=e;vo.pe=pe;vo.pev3=pev3;m.s.t(vo,b);if(m.trackWhilePlaying){i.ts=0;i.to=o;i.e=''}}}}return i};m.ae=function(n,l,p,x,o,b){if(n&&p){var m=this;if(!m.l||!m.l[n])m.open(n,l,p,b);m.e(n,x,o)}};m.a=function(o,t){var m=this,i=o.id?o.id:o.name,n=o.name,p=0,v,c,c1,c2,xc=m.s.h,x,e,f1,f2='s_media_'+m._in+'_oc',f3='s_media_'+m._in+'_t',f4='s_media_'+m._in+'_s',f5='s_media_'+m._in+'_l',f6='s_media_'+m._in+'_m',f7='s_media_'+m._in+'_c',tcf,w;if(!i){if(!m.c)m.c=0;i='s_media_'+m._in+'_'+m.c;m.c++}if(!o.id)o.id=i;if(!o.name)o.name=n=i;if(!m.ol)m.ol=new Object;if(m.ol[i])return;m.ol[i]=o;if(!xc)xc=m.s.b;tcf=new Function('o','var e,p=0;try{if(o.versionInfo&&o.currentMedia&&o.controls)p=1}catch(e){p=0}return p');p=tcf(o);if(!p){tcf=new Function('o','var e,p=0,t;try{t=o.GetQuickTimeVersion();if(t)p=2}catch(e){p=0}return p');p=tcf(o);if(!p){tcf=new Function('o','var e,p=0,t;try{t=o.GetVersionInfo();if(t)p=3}catch(e){p=0}return p');p=tcf(o)}}v=\"var m=s_c_il[\"+m._in+\"],o=m.ol['\"+i+\"']\";if(p==1){p='Windows Media Player '+o.versionInfo;c1=v+',n,p,l,x=-1,cm,c,mn;if(o){cm=o.currentMedia;c=o.controls;if(cm&&c){mn=cm.name?cm.name:c.URL;l=cm.duration;p=c.currentPosition;n=o.playState;if(n){if(n==8)x=0;if(n==3)x=1;if(n==1||n==2||n==4||n==5||n==6)x=2;}';c2='if(x>=0)m.ae(mn,l,\"'+p+'\",x,x!=2?p:-1,o)}}';c=c1+c2;if(m.s.isie&&xc){x=m.s.d.createElement('script');x.language='jscript';x.type='text/javascript';x.htmlFor=i;x.event='PlayStateChange(NewState)';x.defer=true;x.text=c;xc.appendChild(x);o[f6]=new Function(c1+'if(n==3){x=3;'+c2+'}setTimeout(o.'+f6+',5000)');o[f6]()}}if(p==2){p='QuickTime Player '+(o.GetIsQuickTimeRegistered()?'Pro ':'')+o.GetQuickTimeVersion();f1=f2;c=v+',n,x,t,l,p,p2,mn;if(o){mn=o.GetMovieName()?o.GetMovieName():o.GetURL();n=o.GetRate();t=o.GetTimeScale();l=o.GetDuration()/t;p=o.GetTime()/t;p2=o.'+f5+';if(n!=o.'+f4+'||p<p2||p-p2>5){x=2;if(n!=0)x=1;else if(p>=l)x=0;if(p<p2||p-p2>5)m.ae(mn,l,\"'+p+'\",2,p2,o);m.ae(mn,l,\"'+p+'\",x,x!=2?p:-1,o)}if(n>0&&o.'+f7+'>=10){m.ae(mn,l,\"'+p+'\",3,p,o);o.'+f7+'=0}o.'+f7+'++;o.'+f4+'=n;o.'+f5+'=p;setTimeout(\"'+v+';o.'+f2+'(0,0)\",500)}';o[f1]=new Function('a','b',c);o[f4]=-1;o[f7]=0;o[f1](0,0)}if(p==3){p='RealPlayer '+o.GetVersionInfo();f1=n+'_OnPlayStateChange';c1=v+',n,x=-1,l,p,mn;if(o){mn=o.GetTitle()?o.GetTitle():o.GetSource();n=o.GetPlayState();l=o.GetLength()/1000;p=o.GetPosition()/1000;if(n!=o.'+f4+'){if(n==3)x=1;if(n==0||n==2||n==4||n==5)x=2;if(n==0&&(p>=l||p==0))x=0;if(x>=0)m.ae(mn,l,\"'+p+'\",x,x!=2?p:-1,o)}if(n==3&&(o.'+f7+'>=10||!o.'+f3+')){m.ae(mn,l,\"'+p+'\",3,p,o);o.'+f7+'=0}o.'+f7+'++;o.'+f4+'=n;';c2='if(o.'+f2+')o.'+f2+'(o,n)}';if(m.s.wd[f1])o[f2]=m.s.wd[f1];m.s.wd[f1]=new Function('a','b',c1+c2);o[f1]=new Function('a','b',c1+'setTimeout(\"'+v+';o.'+f1+'(0,0)\",o.'+f3+'?500:5000);'+c2);o[f4]=-1;if(m.s.isie)o[f3]=1;o[f7]=0;o[f1](0,0)}};m.as=new Function('e','var m=s_c_il['+m._in+'],l,n;if(m.autoTrack&&m.s.d.getElementsByTagName){l=m.s.d.getElementsByTagName(m.s.isie?\"OBJECT\":\"EMBED\");if(l)for(n=0;n<l.length;n++)m.a(l[n]);}');if(s.wd.attachEvent)s.wd.attachEvent('onload',m.as);else if(s.wd.addEventListener)s.wd.addEventListener('load',m.as,false)";
s.m_i("Media");var s_code="",s_objectID;function s_gi(k,o,C){var q="s.version='H.25.5';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(s.rep(m,\"\\\\\",\"\\\\\\\\\"),\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescape(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){while(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+(un),im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"click\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLinkTracking&&e.target){a=e.target;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\"A\"&&a.tagName.toUpperCase()!=\"AREA\")a=a.parentNode;if(a){h=a.href;if(h.indexOf(\"#\")==0||h.indexOf(\"about:\")==0||h.indexOf(\"javascript:\")==0)h=0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\"_self\"||t==\"_top\"||t==\"_parent\"||(s.wd.name&&t==s.wd.name))){e.stopPropagation();if (e.stopImmediatePropagation) {e.stopImmediatePropagation();}e.preventDefault();n=s.d.createEvent(\"MouseEvents\");n.initMouseEvent(\"click\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);n.s_fe=1;s.bct=e.target;s.bce=n}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.gfid=function(){var s=this,d='0123456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j=Math.floor(Math.random()*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.applyADMS=function(){var s=this,vb=new Object;if(s.wd.ADMS&&!s.visitorID&&!s.admsc){if(!s.adms)s.adms=ADMS.getDefault();if(!s.admsq){s.visitorID=s.adms.getVisitorID(new Function('v','var s=s_c_il['+s._in+'],l=s.admsq,i;if(v==-1)v=0;if(v)s.visitorID=v;s.admsq=0;if(l){s.admsc=1;for(i=0;i<l.length;i++)s.t(l[i]);s.admsc=0;}'));if(!s.visitorID)s.admsq=new Array}if(s.admsq){s.vob(vb);vb['!visitorID']=0;s.admsq.push(vb);return 1}else{if(s.visitorID==-1)s.visitorID=0}}return 0};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}s.fid=s.gfid();if(s.applyADMS())return '';if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);s.abort=0;s.pageURLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='timestamp,dynamicVariablePrefix,visitorID,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",y=window,f=y.s_c_il,b=navigator,A=b.userAgent,z=b.appVersion,p=z.indexOf("MSIE "),d=A.indexOf("Netscape6/"),t,h,g,r,B;
if(k){k=k.toLowerCase();if(f){for(g=0;g<2;g++){for(h=0;h<f.length;h++){B=f[h];r=B._c;
if((!r||r=="s_c"||(g>0&&r=="s_l"))&&(B.oun==k||(B.fs&&B.sa&&B.fs(B.oun,k)))){if(B.sa){B.sa(k)
}if(r=="s_c"){return B}}else{B=0}}}}}y.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
y.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a");
y.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x");
y.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)");y.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x");
y.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")");
y.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a");
y.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;");
q=s_d(q);if(p>0){t=parseInt(h=z.substring(p+5));if(t>3){t=parseFloat(h)}}else{if(d>0){t=parseFloat(A.substring(d+10))
}else{t=parseFloat(z)}}if(t<5||z.indexOf("Opera")>=0||A.indexOf("Opera")>=0){q=s_ft(q)
}if(!B){B=new Object;if(!y.s_c_in){y.s_c_il=new Array;y.s_c_in=0}B._il=y.s_c_il;
B._in=y.s_c_in;B._il[B._in]=B;y.s_c_in++}B._c="s_c";(new Function("s","un","pg","ss",q))(B,k,o,C);
return B}function s_giqf(){var a=window,e=a.s_giq,c,b,d;if(e){for(c=0;c<e.length;
c++){b=e[c];d=s_gi(b.oun);d.sa(b.un);d.setTagContainer(b.tagContainerName)}}a.s_giq=0
}s_giqf();_application/x-javascript‘ijkl_Phttps://developer.apple.com/wwdc/images/wwdc14-resources-sample-code-tagline.pngO]bplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Phttps://developer.apple.com/wwdc/images/wwdc14-resources-sample-code-tagline.png“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A∫”ÑD”ä »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges_X-Frame-Options^Content-LengthZKeep-AliveZConnectionVApacheYimage/png_"4a500-24a0-5091c1ecc6800"_Sun, 30 Nov 2014 23:47:44 GMT_Tue, 07 Apr 2015 03:21:58 GMTUbytesZSAMEORIGINT9376_timeout=15, max=379ZKeep-Alive“+,bc\NSDictionary¢b/$†“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚5:ENTW`ikmt|áíîñòöúû†¢§¶±≥µ∑πªΩø¡√≈«Œ€‡ÓÛ"-8?IfÜ¶¨∑º“›‚ÔÚı˙&4FI_             n              aO$†âPNG

   IHDR     7   G
ì†   tEXtSoftware Adobe ImageReadyq…e<  "iTXtXML:com.adobe.xmp     <?xpacket begin="Ôªø" id="W5M0MpCehiHzreSzNTczkc9d"?> <x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 5.0-c060 61.134777, 2010/02/12-17:32:00        "> <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"> <rdf:Description rdf:about="" xmlns:xmp="http://ns.adobe.com/xap/1.0/" xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmp:CreatorTool="Adobe Photoshop CS5 Macintosh" xmpMM:InstanceID="xmp.iid:11DECBC2DA5211E3BC57D8B7E446E857" xmpMM:DocumentID="xmp.did:11DECBC3DA5211E3BC57D8B7E446E857"> <xmpMM:DerivedFrom stRef:instanceID="xmp.iid:11DECBC0DA5211E3BC57D8B7E446E857" stRef:documentID="xmp.did:11DECBC1DA5211E3BC57D8B7E446E857"/> </rdf:Description> </rdf:RDF> </x:xmpmeta> <?xpacket end="r"?>Mö j  !IDATx⁄Ï]òTE∂>3A≤òFPD≈Ä		.¨¢éñgÛ¢|änrw]›≈Mtü∫ÍXsD1ÆÆ9¨ë¡EEíÇà®Ñ	"9áaËwˇÌS{O∑ªo®{ß{∫˛Ô´onO˜≠[∑¬9ù:uäR©!ç3Ü,,mút¶ìŒv“ 'ï€*)IÃ}‡lænHÿﬂIq“,'•DZ‡§õút†m~ãË®™™"≈3»Í§M,Äß9©©≠ííƒp°àá7êw™p“UNö≠=ΩÍ§2€,,Ãéä ˜añ€”IG;©õì:hﬂ/q“L'çÁ¥ VµE°µìrRW'Ê§NNjÓÒª≈N˙⁄Iü:i:+.ã‚ àÛ#N:_¸r
Vçm,„:r_¯êâG±ÔtÑìv‡œù¥ﬁPﬁá;©-_Ov“ZC˘‚§ùô°¸uEXv‡'-ÃÚªù(mIn≈)õ.FπV≥~][è˝®3•≠ú–˝∞ÓÓÒõN™·IÍT'}æ]{˘∞p†—/`ëÚôP—∑r¡,¨Ö£ê—€I˜9È´ ˝[•Nz”I;©Öµp<ÓÔ·}“fNj¬˝|?']·§=HBaˇ[º˜ÈÜÚÖ≤^$Úb(ﬂ∆Nö!Ú›Rƒe ækÈ§,/&8iéìñkÔÁï@ÑWÚd˛=']Á§~Ç,≈â]y,åebT>¢.nØ™™:ÿÔí
XÃ+-`E§òÃå,mu∑%ä><¯Î<˙Ì∂\L’˙9˛∑.Òÿ≈éÇ∆ú¥ïﬂeÌR¡0—éw ÛVÜ*ﬂgÂ€U(aåªõä¥Ïs5R–!§“Œ5©ˇ≈„[Örˇ…IÛ≤<÷ñ/Ñlú∆ü{˝ﬁ!ˆ≥§r ìe•X√‚9JõîW(#	3ªˆNÍ‚§≥út
õã≥∫€¢¿Ä~yΩì~BôfÃ/ùÙéìﬁÂŸ«bVLe¢ücñ≤•ó[∞“Ç	ıe'-µU[–Ä5£_ˇÅ€πT0é˚/˙ro∂zlãòÁâîÈ„Ç%
X˘¢.y√˙¯ƒIO;È∑EXˆè)”≠ ≈˘C˛lf%=ó”˜NZFôŒ˘€Xﬁ`âV∑}X´e^XÊ‡ãt9•ó	odôEÍÊ6÷Â$t?ñ_£ÙRÚ.o◊cäei;Ê›ùtíìé„wxﬁ≠oG+6˚(ñÚ≥7ø@aMi3•Öµp
–/'j¸m'§pK"0≈c7œa¥4«û<AJÒ¨≠uâçg(Ç˘¸˛´XyEA9+T‰∑úˇne+RTº.˙&Ø;iŸœ”æÉ"^»ﬂM'
‰?I¸{¯òuR5moô≠a%◊íkTñå·ﬁ5Úˆº™™™F˘ñTÆ˝®®%èptÇ+≈≥Å¡∂©KÇpú&ﬁcTâ∂Âã¢Œâòf◊k9Øß»]*¯eƒ|+ùÙù ù@ŸΩ«TìÒ£úÙíF:∂0!	É€¥ºûp“^&:û‹•‚_~?·kòÄ~ &ãbf/ìÎÎÃüv…Ø4p∏∏W¢uP-Æ˚FÃ˛O-≈¨˛;C˘bR∞_√t?Øî›e}ÀıáL§LÈ% À9˜SÊ.,?∏ô“+ƒ,?^òÁB¡ãp`mZmÎ¡^Ùœ¨º≤(b¿:˜∏ ®'P⁄È ¢4 ÉxÕ+—:¿.CÂ˚ÄÂÉäyùÃ±{¶Ò¸k˜;E»∑ø∏~É‹m…≈\ˆ∏1ö'ORO?L˛óàÜ0¡P∏î“;LcÅ·®◊/YYeQ‰@4…|=áôªçSZ®‰øX˜^Q¢uÄùÑ*fårBÉ∂BôÅ¥/‰;1∫ÑÃ$‚X—N’§ÏI [˙O•¥„; ﬂ≤…çΩíÕ∏]|˛3≈lıı"j›årñïUEåRz9 S!ñ
klµî Ö‡Eÿ\¢ı øÖ)|Èû!ÛÅÉtGay &Úﬂ2ûmá¡B·#ÊƒÙRˆ§ ˇ¥ã»ÜwΩ2œ∏¿ŒÂüâzˇóƒ`‘°∂é)Áãbúü’6µ')Ω#≈¢¥ÄˆoÆıãRÖ‹pB»<‰ñR5ìá9øñØèôÔ1Ç"PŸ∆Tˆ§Äà©7âœÀÿ-Ào±eıæFyØ¢Ë€çÛ¬k-¨VèùÆ0†Ω)Ì∏*ÀÁUÏW^”s€Ûs≤è‚†û}8/UˆÕ<£^sΩ°æ`l)˛∑ëüΩ§ûÖ\{ûU4ˇ[ÕÌÁ“∆xP‰uKÅ	ØzŸƒ3ïE1=S≈ë¶÷5‹œ„táG˛˛,O ÑµÔ9'Êz∆¨ü7ƒÙ>jõ%bmâÒ}:∞úiƒ„'àè›'\6îø˜ΩMÂÛqb´gœ‚~ª/•„“ÏBÊù(Æˇ’¿ û$Óq“e<Œ1ﬁ±´g§«Ô~&ÆüIÃ*„±-ˆa›∏.°JB¨¨%¡l∂Çº£õAA=N¡˜Kèdv¸6møˆ¶¸
π€ïdZ≈˜ùí'¸Ûò1/'Ô®¨OS∏}ﬁwÂ(;LãGxìü·Ugﬂ:Èüî^ﬂÇ®€bUŸﬁ»R∑P6X;E¿ö√cÍS˜ãÁ=U $cG']í£^—≈˜C~ÙOƒ
yë˚É˛<(c¨ﬂ«„Pb8E€ã(ààÜ8ï	∞˛lålªˇ9Â_oˆ8º?œ„	aô◊âwù(æ””∞<ywg9ïÌ}6ÚwààŸ+DŸª±Ò*ÍÚ1 …=>`˛ÕX±®≤çR)∑îé’¨ErãÊ…Ûm'˙ÊwYfÂ≈\v5¡XH…Ñ∏VÎ#ç¥Ô˜cb˜ªÿêÔ¥ÿs)3zú≥ìà≠‰?§+f,
»Í’ΩJπ!∞ŸûyyÔõ∆⁄›[1ï[/{WÕÑ7âÇÖ¬}ï¸pâB8˙2qÙ[Æµ>}P¥eÎé:ã‡™\@¡œkôÕ%äïÁÉ œ´eÇﬁäÔíp¿“v+yáÅœñ∞{®ãÅzﬁÉÚüOë-Ωò√™èaøymeŸ÷1@Ÿ˚à˚üˇ?óº√bèQ?èâ˚Éˆ≠ã≈Ωø◊æ˚•¯Ó¶Ä˘ˆ%7‘¯Î¥ÏIé˝π9;H˚˛W‚}uÚ+·ZRyèôZ%Ä´)gº$∂Ô-˛7ïg PX*Ã,¶7õ≠⁄≥‚áÂŒ.◊¯xŒbaZ›»≥Ô»=Kaõ¡™Y…6!74Îﬁ¬¸Ñê¥É…]ÁÇpxé\¯/Y©! çﬂ‡ﬂ®rCòˇ÷g≠eWœ=èÖüZó∆ÏsZ)f“pò<Vîo œ∫∞G;Æ∞ŒpR∫Y&Ñ˚~ü“ë˝V
ÎG®ï¨ú‡ºÑÉÇ~Cf¸Ü¿ÿïÛÛºêÇŸ3aïy÷pùå„Úïs¬ˆÕ*a€á≠@ΩŸ
P‡πË´wSf’	‹œgÚløœ˚1°Ö<¯ÛÅn-∫#[ÙéˇSVÖô¢wÊ±°ﬁıH&Ô∞∆}°æ7±’RYáPØ=∏∂±lYóÉ‡{)îQîyò€óLê&êÎÑ™∆‹—,ßP∑q{^Ã„ Vq~M…].ƒƒ•±êUcYFœQ?êÔ?Êk»‘G‹´fˇuúèÑ⁄∫ZŒr'HÚìÑ“{≠Åñ=I`ôËsÓèÕXÓœﬂÙ∞Ó$É,ëF%⁄BÒEd¸#wÄ«y÷^ëá!ﬁØ1¸}<„Q¡Ù∫∞P˜?BŸ∑XÌƒÊSy»œœÉTÀÎò!∑»1„zR+˜†Ä≥°N‹Q‘Ïm=+Íéyf{7
kEäï]>oÏ0é+µwºõrG™CŸÓ—Óa®_ç1kMMX˘ w|ò-cπàx⁄˛tÊß…ı1
2õSGÙœ1ìA9Og¬ØÓyé2#˚±pÏ∆dA05àºù”’ªû¡ñ¢yo√Ìô0Ô‡æ~<^TŸÊ∞¬këGN]œ„Sé9?âr‹›À≤I=ˇ∂õò˝*À”WîÈ˜Â◊j8√£⁄p˝§x¢‰wÎj#rèÿ@πóJäπÏIZ8Ä;Dˇì> G≈dHwﬂélÑ˘º&¥n'Û!Œ+…›øÏ#Eôæ¶¸«Ù*Ç±å±2≥_„ÛyÚ¥¬%¨(_ùsÄOkŒ3Zπ€¯∏Oï3ü≥»ù;ü2„•¯a·RpŒ•‹«o%«ìª,∂9 AΩö‹s∂jØ∞ê'ˇÆ	á$»k≈ÏÃ`¡∫OÉ7˙∏ÔHç`é§L«‘\h≠ïyQ ¬QAôgIº√V+?Ë§ïsêî†h }XéCX…Vä2ΩFŸ◊Á)ãeD˙È,f´N.ÃäøPLT^	@6…G;©∫Æ%ˇÎ˜ÚÑ’øg˘Õ?≈˚ûÈ3ﬂâòH€˚4î≤'M8ã˜ëé¨Ωƒˇa]›π–JSíäûüßb„j∫(”i>ïˆ°ÿÇ¨”53$u∂Ã6NA‚˙WRÊÒΩó ky∂®î@'ü~⁄¨ÎaCÑ£%˜ã Ô•„nqˇª˚ÑíÙ!˘Q=ı”s4+·)!Ûë§£.èu™π÷WÔ˘Ã—¥Ωø@>¬q©¯Ìß>&:∫h
æ=é&îy»ﬂ€!~ûË®|^ŒC§ˆ2‚k&Ôsù†DÿÔxΩAL÷≤vπ»˜~ü˘^&Óπ•ó=i¬—Gèç=‰“GIBøÑC	Ô·¥Ω≥„– 3”êK>£|*mY˘AŒÏ!ÄGá(∑4Q‡C±Íeá¬95BΩIÁ(Ã§1@8~-Ú|<dπ¿≤øÔ¯√Ô∏ã0ü÷ëe4I`=ñ®ó?DTòìE^ÔÁPZr\Lé ‘`}õÄpÏ(Í|=Ö˜zˇΩ¶úM8≥Ö!ry
˜œøH‰ïK·ÈJ)¨s§ú)ÚˇßèﬂÀVÁs{g≥
’
9Î'˘?D›ﬂÄÀû4·8å‹Â˜iBÁı˜|°Ö£X–ÈJ&x£ÔM…Bc£ ?e>ï6–!ûÅ≥D‰≥.á≤ŒŸ©˝¨ÍÑ„Öàı÷ò2M◊èH80ãUÎÔ+"ˆÉ…{Õ1(:ä∂©:®«/4≈’>@XÁ˜∏,ñ¶Ø…]öÒôC˘æwDx&∆ŸR
æñníp¥%w=È¸àœ/c´ù Ô≠ÑQ'A¸Ç ı∫J™|ÀªrKi.Ñ≠Õ_{“∑¢∆ßU¨XÀû4·ËBÓrœ,A¥§ú}0i¬·wùŸ0q‚ôπÓÿY0ââG˚Ñ:|æ3ZøÎP»ØáxÃú20 
(Âkrœ¿zyê„¡¢ÔåXoµ…H˛|I≤ˆ%°PØs#‰•¸.î90ÏM≠≈;Ai%}“1¨Vàœ∑P∞›%^xGå;åY/_¯B)ß¬	|Oºƒ2»˚¬˙PÑg.ÊŸ®j«#ÍÅ,V	‚¸)œb£@ô€Uﬂ∆íÿÅ⁄`]ÔX√dÜXÂ+è<aıÕø€»∫@)|Ì'CçO Å ãπÏIbùË;Õ»ı„™‘Ùh¢‚òÖô’s,ÿ`Ò¿∫ªäàÿéâ¨ó&PnÃ¶W
¶ÈwΩx<Ö?Ka∂∏ªmoΩ¶î;∏wñQ&œ"a<8B^“ÊπàÂö#˙Sm`Ì”e¢œ÷%<¶`˘ÍŒ◊ÛÚπ JÎaç\Ë}˛tq˝,EﬂÍ∂Ç≠3˘ «πÆb\|Òπ5°û4Œ◊*FPT¿|¸π˛˝‹∂Ò$Rçóﬁy~≤ê_‰˘≠‹˛õ/˛ç5˛J	î=I¥&wì«*Aài–Ç%*: X‡¡î⁄≥ôN7çc,wKQq;êˇ(Ö"Œæº»GP,◊A÷Ü'ëõÑ"æ«d—˛]CÊÉ:Wá(-£h±ÄÔ·ÿ%·ÿBnhi…ÏìBo—˜?&7ñJT ˆ¬rAÂrÉ⁄kØfjÔz¶Ú–K‘qµ¢#-á&‹vÿ.ŸC„jC˘¢?˛KõuÁ√ä˜†AiÎõ„wÚÑ’/)ˇqêS*ÜH æ$$CçØ°`å≈\ˆ$u{π i€Døí§§(áƒp&r6î‹`5aŸî÷O±ßÒ(ﬁf∆ˇof∏ù≈ÏœØêãréÇ|F%"ÕX≠‹7Õ`ªO“f‰a +ƒ|ç•¢oÃ‚UΩbÊ6¨˜róQZQ<k‡π &«ÃwÅò €˚giãydÓ|íÕﬂ◊ƒå\.„Ïñp€Ì)Í±ÜÃûñ˝°∏∆“WÖ9Ò}åÔ:]ÿÓ9∆õ\: Àg1ƒn:µ‰±eè≤èê=”í´b.{Rh)ÙÔZaÕê˙gÁ§Ua(√KŸÇ xƒûÀÇœØá>Ñh&Ω»Ó (+Ä|§â6»È|&Äì
)¨%ag¡êªR6á(◊F1K©®¬!-_ÃW9ˆÚx,Bmƒ$`CÇ˝\ñi◊F|f[m‚—Ñ‚=MÔ”-ÑL3È?1ó‹(¢Ì8Â"Î(ˇ)≥ødkK√^π˜=ûC.k"∂™»µ∞¯yY?uﬂäm%Rˆ§∞ó0(,eî>mâÔ2≠0úﬂÃ§ÊÜFo8>MÃs∂ä˝ôº◊„†<VÏ∑é ∂Ä¥†‚CX≤RnXÿ(Ñµ$Ï(ﬁ◊UÜÎ©I»˚–OVâ:É%Ï„Ñ⁄∂\(Lå”ßœ◊Õ≤¥≈¢˚r9en3Ïn8ˇÊÜ˚}>Ïí≈“b Ô¨ígûç}»â8œ∏HÒ$°?ßèá“F›/dÜﬂeS‰´B˘√‚^èﬂú"&]cJ®ÏIAÓ≤ëK£2~&¿õì*TEy"î8÷∑.‚¸·Î18áR˘+•„C»¡Ö] Ôs˙ñÎ*&™r>£˛•L˙ü‘êy≥bXÎ Ñ¿l°¸∞;:°zÖŸAî√Ùu⁄{zµ≈÷˚Qcr≠\ËSì[#f&h› ç<ôÆ«îh≥%y~EvTì{†$ëıÄàÿ≠£ñ&±ˆu&ÑX÷hCôÀ–Ì»ıˇ¬Xù^beO2dπt˛ûCÓ9JùòtÃI™P1Âã0ËÉò=ıÂYÙrègÉú»}Óˆ˝≥’\f™¶	œ|ö¨8ìÊ˙z?µ€†';å…¥íâe÷ß –íª{Ãb˚æêJ»z·à¨Í<ƒCN˜ÑÚç ˘ŒÊº·€ß∂Æ ÉÒ‡˜£|e‡Ω∂ƒ 7vìÒuîyp¨§∞ÇÓ…ıs`íÑ#.•çC†‘6∞ˆÃ§t\+»f1Ñ(öPaÆâ5$»x)KBÊ!◊;ÿ˚}$Ñ;ﬁ~	=∑ñ‹ùDd>∏OÌY^mQë`=o%◊Z÷ñ¢E‰,,◊¶}–öâz€Z Ô˚Àj"◊B‚D°¥™‰[GÓŒØ≠´rKÈ%Xˆ∏!O	«rät~^ÆYeNM≤`qÜô‚∫s
Bá	ÊˇSJ·mëÃlyOÑC:ºUX]A}#«¿Ñûã~/˜ªõﬁe!Oô≠…“ÏsŒ ‹e⁄™»«ÿ
ÒŒÁçæ–éØWR·XÇ™Ö’En◊E[™#¶áòè◊U‚∫ë¯Â7°DÀ'ÜàÎó=&/ãÎì(¯πGG8tÅ®G Ωò“a¿´î˚ 1∑≥õÇÔv¬yì∞p4-†∫ÇôÛm Óê–≥•Ôâ…Hô-4¬17G[¥1ÙL?€⁄Á	°ø_ëè±ÔÅÍdò0v3cÏ8€R Ô<Nê,yR3ñ)‘§1‹Í“øFºªRj˚
kˆ¬-{\¿Rírñ≈;<ÎÒõW…]~¬‰Ûå§
'·êª§…∑å2∫y4‰Ã+E•ÖNW7Qèa	«\A*˜•‹«›◊‡W¢ñ7‡±}QBœù"Æè'skıà€Y(∆ŸY⁄¢#∑á	¯Ÿö>^\˜)Ú1¢‚…`y»‰Æõ≈ı«ÙŒXﬂWª÷∫Âz,Îø[JΩ&ú w`/—ózìª4¯f	ó=.åÖ≤Xw‡√!nªZ äñpt÷^Par◊zk)ú√Jπ·1† êÚ:B(§o(¸n(Ûœâ9©¿ÍÎç›c€ı	<wº :=i˚µÂ∞8GÙ˘O(3Äèlã∆Ü⁄BﬂÀ8Ë™›3˝ZWÍ∞…®ëÉÂ€ë\S¸∂êJ0.»ˆPÆ˚	y`eò†Éxœ±B^w$úÿ¬3∂ÑÀ.#7$;&˘7Â¯-»‹(»⁄∞b&`KjK“r ‹˚Å®€¬ûu—ëÇ|÷ ·®Å|Üàvç¢yYKñ<∏ I vŒ®XXìøá‚ﬂ›4õ\Øv,„5ê'L˚ÁâœOx¸Fûes!EÈ·ÍÁÙ_X»îÛﬁ>L:äÚ»ÛS…ÃâµsjÀÌ ¥Ç™Ö>Ä‹Üﬂì:«& ¡dR)˜‚	S—ofîxŸM÷EyRÛ‰FMÕfíyÇpÙãªêq	ﬂÑÖTöJi‰#LÄß(˘íı(Ø´"ÊÅ£∂ãÇ›Fıù¡ô5"ÔXù’∞eC·út[Ãœ‹∆ƒFŒ:¢∆ãAºÅ›Ö†ÚéGËÂ◊q eè}„ éøÒ˘[Ãˆ◊ ⁄¨à«Y5πŒÄ 	ˇ1?¯›¸R|F ©⁄{ÁÒ‰˙9@π¬™¡£Ïƒê!»˜cù–â?c7‚÷/ª)`ÈÔ)róEﬁ•txâ|@d‡/Ñ.Fº¢n≈F8“#Dﬁèi$Czh7¨—/`˛πíJ Zaw\Äÿç ‡i,Ìxª¯¸*<«A¯Q‚3Ñˇ]Ôö%º¿?„·^
Ô¥zñìÆ–Íÿ+t9úÔüGDhã_Q˙Dh"wèìÎSÇŸÂ"cµ<;TÄÔœÖ∆¢/∑÷ç'ùghÌ◊ügÙÿRÂ< Ç¿∆,ıµ†æ≠Ï&p&óG˘–}¡??Ñ÷üK»µrW≤Ï™ä≠¥©TÍ?iÃò1äÂ!;‹ˇπNù`ü^ªøôB˛ykMÆg≤JXwÕµ‘0J¸ˆ‚Ô6<Ü|Ú	fYˆ:r8Î¢]ûy-¶‹N®árΩ‚∑”(˜î&‹Œ*ÔO…úÉ´)4·Å$˚f)=c|fOQáHˇ†‡€FO‚ˆVy<õgí 29Ikã†1RŒÂF§ﬂ>˚Í Ò\êî´§Ìõrˆ#+ ò®˜YÇË∑‘∆û}dû{†ÿ˙w¶°‰ˆ1û«òî^«y¡¢:ñØ±ƒﬁÆƒ n∫m€Ûƒ©NÙ±i!''1Aì˝}::§™™Íø<C'ò’¿D˙&è Näÿ	ñ(Ùrr◊“t•U‘HœÇ©Á˛ΩrJqyªñ ·xà-
)f§W˙$jËÄoà|¿|OÀsO¬°⁄~æxfß¨tnÑƒèÀÈ x¥F:÷±U ¨oL÷≥≥|ˇsÌy81¥ªœ∫¶Ùw?ß;v˝DÌB˙°O9ú«ì"+«r_√g?K7kÔ{mø%>∞ßá¡vC8Ä]πRBŒÛi©ÍÈ11∫¬«}ª≥“¨¬qπ6±I±5-*˙juàø/î`Ÿ%·¯,Bôc‹B≠ΩF—Ô†t<üîfÄuo«êyb‚yÖC8⁄g#/y»k(Ω6÷ÅÖvSû1b‡¡©ÏdJoA\©ëç|≥á¥gΩ ¶úvúÙG±RX-kÒø˜]Ñ„LVluöi(+¸Ê¢ﬁ†òKˇvn9h~Í£åA	áRt5Zõ¬«æáÏæâË?≠∏ˇÙÂˆù¡˜ú£P©˝µf5P3òj˛ÓH.WQﬁ¶‹ﬂwgr{:óY)§Y9¨WiœZÀä¯n'’fÕπ—>ük˜|–RÅ±∑F{øG»ç@ÿÑ…í|ÊtÒ{êG¯¿ar3ˇÔüœæU+;„-¸æD}™§¬0ÂâŒZÆ◊∆Ü⁄<,· ÆÛOµ˜ôƒe=Ä˚ÑjøJÆﬂG¥Ÿ‚ÚøºøËõIé√E[+Â}§Å|+Ÿ¢ö2$?ãµÏíp|√m›Fì1MÖ|lŒ„cŒÀe9∞Ÿc|˝úÃ∏G¿]·]-%ﬂ‡â*œ.Zπqçe√Œ¨ØØd.Å»Ω)ápÕF8`N˝⁄„ÅHãXN„Ñµ¢eø˚¿Á†n•YD‰Ïx*ß˘⁄wÿ
xﬂ?T¸ˇG%@8ì˜R≠^÷≥¬Vı6◊£^øıaŸàB8à‘ÎœF^3πl”¯ÔÃ,˝gT¬Jˆ)è¡´“2Qü™øOÁ¡Ω≈„˜µy˙<¸ ñx‹7W¥ŸnG=ﬂë.ÇÁ±,(º˙¡TV§^œ¸ê‹ cáâ~§]~Ê—Gïô&“Á<∆ΩÍÙ†  “ÒèÚ≠·>°˙Û∑øA˝ûpˆ∫πûG3çtŒ6hm|_#‹ùK∞ÏÌ5´ƒR&Sµ1!ıÎ¢,cCëÄ·!,à˘ Úì,≤#≈˝sûVnŸy•◊=·ùçp 8€∏∆xÃ≥•≠ÃæÜP∞]'ÕŸ<¥<O˛pnyê2∑Èù"æœµáX˙î\°!nà!üIr:3„\Ó£mjx÷ƒ‹÷UÎÿA_˜É	>˚NJòqæNíNß›Ÿ
4=`Y…õÃ˜#∂Iæ-¡π˙»˝˝y≥4(Àõ}>s∞ñY˙¡Àüç>z?O¸÷)HŸ≥<Å0Â‘€Tûawa¢3ŒÁ{Ã`l–ê—Q∆ù	<Aô˛B¶GëÔ'œfÖB/{◊©êIÇ˜<#¬2á_ ˇKÿÍ∏,DykxÚ9ƒ!ïägî˝áu¿û\]M«wúóâÊ™lnë3≠mÃÍ'3ŸòB·£ÓÕBÊX \ß√À,sñvOr∑`ñî-ÄÿÅ‰nìöIôìÇ†πŒê¶Ú©°‹«∫èñçK<fô∞(`ˇuÁ©¸`jyˆ8é”“Äel¡m^.k–¿∏∑óØõ·Ÿ¬Ô>Ö…∆d™ø≠f0ç¬}˝pÆK]·°l∏ÃSŸ83DΩ`Fr◊ÕAÇ†+%3é«”,ÉÔ◊û˚H?≠ülaÂ¯	è±ÔsÙÉ’l	ä=∏ËÔ´∞îÎq2Á?ﬂp€ñÛ;¥‡∂öLn`∂†@Ω˝Ä€OÔ”´9Ô±ûab‹Ev:®†Ä≥…ç∫;	À“w‰û≥UJeﬂÅâ¬A‹ov•‹Nô[˘êæ‚Á~Cıs:Ìﬁ\Ó#òxM^W∞|ú¡÷ôØîﬁÅ”Ëã¬A6áÖÖÖÖÖE¡CÓR)∑’aaaaaaa7,·∞∞∞∞∞∞∞∞Ñ√¬¬¬¬¬¬¬K8,,,,,,,,·∞∞∞∞∞∞∞∞Ñ√¬¬¬¬¬¬¬¬K8,,,,,,,,,·∞∞∞∞∞∞∞H ˇ/¿ 
jü’áı“    IENDÆB`ÇYimage/png            1   <   Z   q   Ä   í   ®   Æ   Ø   È  ©í  ©ú  ©≥  ©º  ©“  ™  Æ"  ∆}  ∆Ü  ∆è  ∆…  Àì ‘ › " ) )b )k )™ .i §ñ §ü §‚ ®Á º’ ºﬁ Ω- ¡r ?i ?Ñ ?ç ?‡ D) u ê ô Ë * j j# j, jx n∑ a a' a0 aÇ e∆ jï j∞ jπ k o? zÂ {  {	 {O à 	  	Â 	Ó 	9 	v 	Ï 	 	 	S 	W 	? 	H 	ï 	#§ 	2ë 	2ö 	2Û 	7A 
Ø√ 
Øﬁ 
ØÁ 
∞4 
¥t 
‡] 
‡x 
‡Å 
‡¥ 
Âg A» A— B F4 MË N N N_ R¿ wd             m             wn